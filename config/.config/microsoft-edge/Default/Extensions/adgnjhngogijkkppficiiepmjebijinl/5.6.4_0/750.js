(self.webpackChunkwhatsapp_scheduler=self.webpackChunkwhatsapp_scheduler||[]).push([[750],{354:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={DEFAULT_TITLE:"Blueticks",asset_key:"blueticks",pricingOptions:"extension",google_client_id:"143723739146-oa75527ckplc3kb9nk8q41redtoq6t18.apps.googleusercontent.com",GTM_ID:"GTM-NGKDFBM",GA_ID:"G-RCEGPEQEZ5",CLARITY_ID:"",TIKTOK_ID:"",CRISP_ID:"f317863d-feb0-4f63-9ae2-fb8280d54a53",FB_PIXEL_ID:"347862209865419",AW_ID:"AW-591909474",WS_ID:"G-8YP76PWS2J",HJ_ID:2742843,HJ_SV:6,ENV:"production",isProd:!0,EXTENTION_ID:"adgnjhngogijkkppficiiepmjebijinl",GATEWAY_ENDPOINT:"https://gateway.blueticks.co",NOTIFIER_ENDPOINT:"https://notify.blueticks.co",VZNLYTICS_ENDPOINT:"https://analytics.blueticks.co",API_ENDPOINT:"https://api.blueticks.co",PRICING_PAGE:"https://app.blueticks.co",APP_ENDPOINT:"https://app.blueticks.co",HOMEPAGE:"https://blueticks.co",LOGO:"/img/tudu-logo.svg",LOGO2:"/img/tudo-logo-icon.svg",PAYPAL_CLIENT_ID:"AafpAM2aA4Lqus7h_iAa2szoitZM7-hkyZaU5jjYOtv-KqcuZCpFFlpbluVp4_F-6fQhcIui7AWZs9Ah",BLUESNAP_ENDPOINT:"https://bluesnap.com",BLUESNAP_STORE_ID:"648495",BLUESNAP_REDIRECT_ENC:"y3BO7mSu04vXEh55QSFI51vnnO%2FrL2uZ10%2FPUF2Fh8urn%2BFdpIn4tyxpPqhcCnm%2BVOdueGkdnZpbpSjw%2Fj215nog250lMwUyqKry1OkfDap8daL1Nxv4dJeDeSXd9Ai6vUKYhCKeZaQ%2ByyfLkDPwJwlx1BGnPQYlRYkYiZBknRcVCl6kAgHv5ZTKEc3YMGPO4kc9iJJQnqXsotsbI3Z5jgJ5rXvslcQJXPihvCycO2%2FJfYH%2F2cr5s6ZLhSZZZaZY",extensionStoreLink:"https://chrome.google.com/webstore/detail/blueticks/adgnjhngogijkkppficiiepmjebijinl",MQTT_BROKER_URL:"wss://mqtt.blueticks.co:443/mqtt"}},1095:(e,t,a)=>{"use strict";a.d(t,{A:()=>se});var n=a(79613),i=a(24076),r=a(79754),s=a(15283),o=a(46111),l=a(30038),d=a(87435),c=a(76197),u=a(80784);new Set([]);const p=e=>e=>t=>{const a=performance.now(),n=e(t),i=performance.now()-a;return i>100&&u.w0.mark(u.tq.REDUX,"SLOW: ".concat(t.type),{duration:i.toFixed(2)}),n};var m=a(47283),g=a(19262),y=a(92032),h=a(47610),v=a(35161),f=a(59680),b=a(4855),k=a(30703),w=a(47037),x=a(40197),D=a(36596),I=a(46283),A=a(54064),T=a(36143),S=a(86032),O=a(67158),C=a(94303),M=a(22548),B=a(98704),_=a(43519),P=a(4458),R=a(66159),E=a(13364),j=a(38189),L=a(97190),N=a(15245),F=a(62138),z=a(75803),U=a(13772),V=a(19048),W=a(41947),Q=a(76759),G=a(40208),q=a(66472),H=a(99568),K=a(3139),X=a(59673),Y=a(2372),Z=a(59111),J=a(11988),$=a(25129),ee=a(95287),te=a(5912);let ae={DBSessionReducer:D.X24,DBBulkListReducer:D.NGN,DBContactReducer:D.Pov,DBTemplateReducer:D.l9$,DBLabelReducer:D.JMF,DBCampaignReducer:D.H_s,DBCampaignLogReducer:D.nUT,DBTaskgroupsReducer:D.iJy,DBTasksExtraDataReducer:D.Za5,DBTasksExtraDataFilesReducer:D.inK,DBMessageLogReducer:D.IFV,DBWaChatReducer:D.JvV,DBLogReducer:D.Hny,DBViewFiltersReducer:D.nEF,DBBoardsReducer:D.Y_S,DBTasksReducer:D.r1u,DBTaskColumnReducer:D.Syj,DBTaskColumnOptionReducer:D.hhE,DBUserReducer:D.cFC,DBWorkspaceReducer:D.ANY,DBKanbanReducer:D.aig,DBBoardViewReducer:D.qas,DBFeatureReducer:D.xQg,DBMyWorksReducer:D.lRC,DBWorkloadReducer:D.QQS,DBWorkspaceUserReducer:D.hWh,DBBoardUserReducer:D.Mm0,DBSubscriptionReducer:D.qnU,DBTimeTrackingSessionReducer:D.Tc9,DBNewTabFocusReducer:D.Qkk,DBWebhooksReducer:D.Z$t,DBAllocatedPhoneNumberReducer:D.RLp,UndoRedoReducer:s.Ay,ChatListReducer:k.A,TasksReducer:R.A,MyWorkReducer:V.A,KanbanReducer:T.Ay,BoardViewReducer:v.A,BulkActionsReducer:f.Ay,BoardsReducer:h.A,WhatsAppReducer:j.Ay,PickerDialogReducer:C.A,MainReducer:O.Ay,DBTracingsReducer:D.AJ8,MediaManagerReducer:i.A,ExtraDataReducer:I.Ay,ShareDialogReducer:B.A,LabelsReducer:S.Ay,SubscriptionPopupReducer:P.Ay,CampaignReducer:b.Ay,UserReducer:E.Ay,ChatbotReducer:H.Ay,CalendarReducer:z.Ay,ContactTableReducer:w.NP,DBUserMessageReducer:D.hAH,ProfilePicReducer:M.Ay,SnippetsReducer:_.Ay,AddScheduledMessageButtonReducer:g.Ay,AccessFormPopupReducer:m.A,backendApi:y.Ay$,UninstallReducer:o.Ay,ModalReducer:r.Ay,ImportItemsReducer:A.A,WorkspaceReducer:L.A,WhatsAppViewReducer:G.Ay,NotifierReducer:N.A,DBQuickLaunchReducer:D.PaH,BtQuickPanelReducer:F.A,RecycleBinReducer:W.A,LabelReducer:U.A,DBEntitySubscribersReducer:D.$JQ,DBNotificationsReducer:D.Xod,DBContactsLabelsReducer:D.drT,StickyHeaderReducer:Q.Ay,DBBotReducer:D.wX_,DBBotDeploymentReducer:D.R8k,DBAutomationSessionReducer:D.klT,DBNodeEventsReducer:D.gKl,DBWaContactsCacheReducer:D.KkI,DBTeamInboxChatsCacheReducer:D.PQo,DBTeamInboxMessagesCacheReducer:D.eU5,UserMessageReducer:Z.Ay,ConnectionReadinessSlice:K.Ay,CreditUsageReducer:x.Ay,KnowledgeBaseProgressReducer:X.Ay,ScheduledMessageEditorReducer:Y.Ay,MessageInfoReducer:J.Ay,BtLayoutSidebarReducer:$.Ay,UpdateNotificationReducer:ee.Ay};(0,d.ft)()&&(ae={}),[].push((0,c.Ay)({realtime:!0,port:8e3,stateSanitizer:e=>({DBTasksReducer:e.DBTasksReducer})}));const ne=["WhatsAppReducer.contactList","WhatsAppReducer.contactMap"];u.w0.group("Extension Store Configuration");const ie=u.w0.start(u.tq.REDUX,"Configure Redux Store"),re=(0,l.U1)({reducer:ae,middleware:e=>e({immutableCheck:{ignoredPaths:ne},serializableCheck:!1}).concat(y.r1Y).concat(p)});u.w0.end(ie,{reducerCount:Object.keys(ae).length,middlewareCount:"multiple"}),u.w0.takeMemorySnapshot("After Redux Store Init"),u.w0.groupEnd();const se=re,oe=re.dispatch;te.s.init({API_ENDPOINT:n.U.API_ENDPOINT,WCL_ENV:"client"}),((0,d.B2)()||(0,d.xP)()||(0,d.Ux)())&&(oe((0,q.L)()),oe((0,y.u1p)()),oe((0,O.Tw)()))},1422:(e,t,a)=>{"use strict";a.d(t,{A:()=>g,X:()=>m});var n=a(64467),i=a(56855),r=a(47839),s=a(47625),o=a(14073),l=a(96540),d=a(63210),c=a(74848);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const m=e=>{var t,a;const n=(0,i.J)(e),u={fullName:n,email:e.email},m=null!==(t=n||(null==e?void 0:e.email))&&void 0!==t?t:"",g=(0,l.useMemo)(()=>{var t;return e.bgcolor?e.bgcolor:(e=>{let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);return d.AX[Math.abs(t)%d.AX.length]})(null!==(t=e.email)&&void 0!==t?t:"")},[e.bgcolor,e.email]);return(0,c.jsxs)("div",{style:p({display:"flex",alignItems:"center",justifyContent:"center"},e.style),children:[(0,c.jsx)(r.A,{arrow:!0,placement:"bottom",disableInteractive:!0,title:null!=e&&e.toolTip?m:"",children:(0,c.jsx)(s.A,{style:p({width:e.size?e.size:28,height:e.size?e.size:28,fontSize:e.textSize?e.textSize:12,color:"var(--color-always-white)",fontWeight:"bold",backgroundColor:g,boxShadow:"none",textTransform:"uppercase",border:"none"},e.avatarStyle),src:e.profileImg,children:(!e.profileImg||-1!==d.AX.indexOf(e.profileImg))&&(e=>{if(""!==(null==e?void 0:e.fullName)){const i=e.fullName.split(" ");if(2===i.length){var t,a;return"\n        ".concat(null===(t=i[0])||void 0===t?void 0:t.slice(0,1)).concat(null===(a=i[1])||void 0===a?void 0:a.slice(0,1))}var n;return"".concat(null===(n=i[0])||void 0===n?void 0:n.slice(0,1))}var i;return null===(i=e.email)||void 0===i?void 0:i.slice(0,1)})(u)})}),e.isName&&(0,c.jsx)(o.A,{variant:"inherit",noWrap:!0,sx:{margin:"0 0 0 10px",width:null!==(a=null==e?void 0:e.textWidth)&&void 0!==a?a:140,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"var(--tasks-text-secondary)"},children:n})]})},g=m},2328:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(64467);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const s=(0,a(30038).Z0)({name:"automationSlice",initialState:{selectedAutomationId:"",selectedAutomationOwner:"",isShown:!1,trigger:{triggerType:""},conditions:[],actions:[{actionType:""}],loader:!1,activeView:"automationsList",deletedConditions:[],deletedActions:[],validationStates:{},attemptedSubmission:!1},reducers:{setSelectedAutomationId(e,t){let{payload:a}=t;e.selectedAutomationId=a},setSelectedAutomationOwner(e,t){let{payload:a}=t;e.selectedAutomationOwner=a},setIsShown(e,t){let{payload:a}=t;e.isShown=a},setActions(e,t){let{payload:a}=t;e.actions=a},setTrigger(e,t){let{payload:a}=t;e.trigger=a},setConditions(e,t){let{payload:a}=t;e.conditions=a},setLoader(e,t){let{payload:a}=t;e.loader=a},setActiveView(e,t){let{payload:a}=t;e.activeView=a},setDeletedConditions(e,t){let{payload:a}=t;e.deletedConditions.push(a)},setDeletedActions(e,t){let{payload:a}=t;e.deletedActions.push(a)},setAttemptedSumbission(e,t){let{payload:a}=t;e.attemptedSubmission=a},resetValidationStates(e,t){let{payload:a}=t;e.validationStates=a},resetAutomationState(e){e.selectedAutomationId=null,e.trigger={triggerType:""},e.actions=[{actionType:""}],e.conditions=[],e.activeView="automationsList",e.deletedActions=[],e.deletedConditions=[],e.validationStates={},e.selectedAutomationOwner={},e.attemptedSubmission=!1},fieldValidityChanged(e,t){const{component:a,index:n,field:i,isValid:s}=t.payload;e.validationStates["".concat(a,"_").concat(n)]=r(r({},e.validationStates["".concat(a,"_").concat(n)]||{}),{},{[i]:s})},removeFieldValidity:(e,t)=>{const{component:a,index:n}=t.payload,i="".concat(a,"_").concat(n);delete e.validationStates[i]}}}),o=(s.actions,s.reducer)},2372:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>V,JC:()=>u,R9:()=>z});var n=a(64467),i=a(30038),r=a(1081);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const l={scheduleText:"",message:"",isPoll:!1,poll:{},asset:{name:"",type:"",url:""},imageId:"",sendLinkPreview:!1,linkPreview:{},templateId:"",templateName:"",dueDate:"",rruleset:"",isRecurring:!1,cancelIfReceived:!1,retryLimitDuration:void 0,retryLimitUnit:void 0,isEmojiPickerOpen:!1,currentListMode:"none",isInListMode:!1,formatRequest:null,editorContext:"scheduleMessage",showRecurrence:!1,recurrenceText:"",snackbarMessage:null,hasUnsavedChanges:!1,originalTemplateData:null},d=(0,i.Z0)({name:"ScheduledMessageEditor",initialState:l,reducers:{setScheduleText:(e,t)=>{e.scheduleText=t.payload},setMessage:(e,t)=>{e.message=t.payload,e.originalTemplateData&&t.payload!==(e.originalTemplateData.message||"")&&(e.hasUnsavedChanges=!0)},setIsPoll:(e,t)=>{e.isPoll=t.payload,e.originalTemplateData&&t.payload!==(e.originalTemplateData.isPoll||!1)&&(e.hasUnsavedChanges=!0)},setPoll:(e,t)=>{e.poll=t.payload,e.originalTemplateData&&JSON.stringify(t.payload)!==JSON.stringify(e.originalTemplateData.poll||{})&&(e.hasUnsavedChanges=!0)},setAsset:(e,t)=>{e.asset=t.payload,e.originalTemplateData&&JSON.stringify(t.payload)!==JSON.stringify(e.originalTemplateData.asset)&&(e.hasUnsavedChanges=!0)},setImageId:(e,t)=>{e.imageId=t.payload,e.originalTemplateData&&t.payload!==(e.originalTemplateData.imageId||"")&&(e.hasUnsavedChanges=!0)},setSendLinkPreview:(e,t)=>{e.sendLinkPreview=t.payload,e.originalTemplateData&&t.payload!==(e.originalTemplateData.sendLinkPreview||!1)&&(e.hasUnsavedChanges=!0)},setLinkPreview:(e,t)=>{e.linkPreview=t.payload,e.originalTemplateData&&JSON.stringify(t.payload)!==JSON.stringify(e.originalTemplateData.linkPreview||{})&&(e.hasUnsavedChanges=!0)},setTemplateId:(e,t)=>{e.templateId=t.payload},setTemplateName:(e,t)=>{e.templateName=t.payload,e.originalTemplateData&&t.payload!==(e.originalTemplateData.name||"")&&(e.hasUnsavedChanges=!0)},setDueDate:(e,t)=>{e.dueDate=t.payload},setRruleset:(e,t)=>{e.rruleset=t.payload},setIsRecurring:(e,t)=>{e.isRecurring=t.payload},setCancelIfReceived:(e,t)=>{e.cancelIfReceived=t.payload},setRetryLimitDuration:(e,t)=>{e.retryLimitDuration=t.payload},setRetryLimitUnit:(e,t)=>{e.retryLimitUnit=t.payload},setIsEmojiPickerOpen:(e,t)=>{e.isEmojiPickerOpen=t.payload},setCurrentListMode:(e,t)=>{e.currentListMode=t.payload},setIsInListMode:(e,t)=>{e.isInListMode=t.payload},setFormatRequest:(e,t)=>{e.formatRequest=t.payload},setEditorContext:(e,t)=>{e.editorContext=t.payload},setShowRecurrence:(e,t)=>{e.showRecurrence=t.payload},setRecurrenceText:(e,t)=>{e.recurrenceText=t.payload},setSnackbarMessage:(e,t)=>{e.snackbarMessage=t.payload},setHasUnsavedChanges:(e,t)=>{e.hasUnsavedChanges=t.payload},setOriginalTemplateData:(e,t)=>{e.originalTemplateData=t.payload},markAsChanged:e=>{e.hasUnsavedChanges=!0},markAsSaved:e=>{e.hasUnsavedChanges=!1},resetScheduledMessageEditor:e=>o(o({},l),{},{editorContext:e.editorContext}),loadTemplateData:(e,t)=>{const a=t.payload;e.message=a.message||"",e.isPoll=a.isPoll||!1,e.poll=a.poll,e.asset=a.asset,e.imageId=a.imageId||"",e.sendLinkPreview=a.sendLinkPreview||!1,e.linkPreview=a.linkPreview,e.templateId=a._id,e.templateName=a.name||"",e.originalTemplateData=a,e.hasUnsavedChanges=!1}}}),c=(0,r.Mz)(e=>e.WhatsAppReducer.isReply,e=>!!e),u=((0,r.Mz)(e=>e.ScheduledMessageEditorReducer.sendLinkPreview,c,(e,t)=>((e,t)=>{const a=e?188:230;return"".concat(t?a-70:a,"px")})(e,t)),d.actions),{setScheduleText:p,setMessage:m,setIsPoll:g,setPoll:y,setAsset:h,setImageId:v,setSendLinkPreview:f,setLinkPreview:b,setTemplateId:k,setTemplateName:w,setDueDate:x,setRruleset:D,setIsRecurring:I,setCancelIfReceived:A,setRetryLimitDuration:T,setRetryLimitUnit:S,setIsEmojiPickerOpen:O,setCurrentListMode:C,setIsInListMode:M,setFormatRequest:B,setEditorContext:_,setShowRecurrence:P,setRecurrenceText:R,setSnackbarMessage:E,setHasUnsavedChanges:j,setOriginalTemplateData:L,markAsChanged:N,markAsSaved:F,resetScheduledMessageEditor:z,loadTemplateData:U}=d.actions,V=d.reducer},2975:(e,t,a)=>{"use strict";a.d(t,{MF:()=>n});const n="common"},3139:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,B1:()=>c,je:()=>s});var n=a(30038),i=a(87435);const r=(0,n.Z0)({name:"connectionReadiness",initialState:{isUserAuthenticated:!1,isWhatsappInitialized:!1},reducers:{setUserAuthenticated:(e,t)=>{e.isUserAuthenticated=t.payload},setWhatsappInitialized:(e,t)=>{e.isWhatsappInitialized=t.payload},resetConnectionState:e=>{e.isUserAuthenticated=!1,e.isWhatsappInitialized=!1}}}),{setUserAuthenticated:s,setWhatsappInitialized:o,resetConnectionState:l}=r.actions,d=r.reducer,c=e=>!!(0,i.B2)()&&e.ConnectionReadinessSlice.isWhatsappInitialized},4175:(e,t,a)=>{"use strict";a(96540)},4458:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o,Hv:()=>s});const n=(0,a(30038).Z0)({name:"subscription-popup",initialState:{isOpen:!1},reducers:{closePopup(e){e.isOpen=!1,delete e.lockedItem},openPopup(e,t){e.isOpen=!0,e.lockedItem=t.payload}}}),{closePopup:i,openPopup:r}=n.actions,s=n.actions,o=n.reducer},4855:(e,t,a)=>{"use strict";a.d(t,{Au:()=>S,Ay:()=>H,Dx:()=>T,Ep:()=>E,F4:()=>_,Wx:()=>F,YF:()=>f,qz:()=>g});var n=a(64467),i=a(46217),r=a(30038),s=a(2372),o=a(36596),l=a(95093),d=a.n(l),c=a(47283),u=a(92032);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const g={name:"",campaignStatus:"initial",boardIDArray:null,listIndex:"",template:null,templateIndex:"",schedule:{isNow:!0,dueDate:d()().toISOString(),cancelIfReceived:!1},timing:{messageInterval:8,enforceSendingWindow:!1,automaticTiming:{active:!0,age:0,activity:0}}},y={name:"New Template",message:"",asset:null},h={open:!1,activeTab:"manageCampaigns",paymentPopupOpen:!1,contactListPanelState:{},newCampaign:g,currentTemplate:y,currentTemplateDraft:y,isLoadingDuplicateBoard:!1,isAdvancedModeOpen:!1,campaignIdForLogsView:"",campaigns:[],isLoadingDuplicateTemplate:!1,activeBulkView:"campaignManagementView",previousBulkView:"",isTemplateDropdownModalOpen:!1,isImportModalOpen:!1,isCampaignLaunching:!1,campaignSortOptions:{field:"dueDate",order:"desc"},bulkLogsViewActiveTab:0,bulkLogsViewActiveFilter:null,bulkCampaignDialogSearchTerm:"",bulkAudiencesListSearchTerm:"",bulkTemplateDialogSearchTerm:""},v=((0,r.zD)("resumeCampaignThunk",(e,t)=>{const{dispatch:a}=t;a(u.cr$.initiate(e)).then(t=>{var n;"data"in t&&(a(o.WYp.updateOne({id:e,changes:t.data.campaign})),(null===(n=t.data.campaignMessages)||void 0===n?void 0:n.length)>0&&a(o.W3.upsertMany(t.data.campaignMessages)))})}),(0,r.zD)("deleteCampaignThunk",async(e,t)=>{const{dispatch:a}=t,n=t.getState(),i=(0,o.jHc)(n.DBUserMessageReducer,{campaignId:e});a(o.W3.removeMany(i.map(e=>e._id))),a(o.WYp.removeOne(e)),await a(u.K_c.initiate(e))}),(0,r.zD)("duplicateCampaignThunk",async(e,t)=>{const{dispatch:a,getState:n}=t,i=n().DBCampaignReducer.entities[e];if(!i)throw new Error("Campaign not found");const r=m(m({},g),{},{name:"".concat(i.name||"Campaign"," (Copy)"),boardIDArray:i.boardIDArray,template:i.template,timing:i.timing});a(T(r)),a(E("newCampaignView")),a(f("finish"))}),(0,r.zD)("editCampaignThunk",async(e,t)=>{const{dispatch:a,getState:n}=t,i=n().DBCampaignReducer.entities[e];if(!i)throw new Error("Campaign not found");const r=m(m({},g),{},{_id:i._id,name:i.name,boardIDArray:i.boardIDArray,template:i.template,timing:i.timing,schedule:i.schedule});a(T(r)),i.template&&a(S(i.template)),a(E("newCampaignView")),a(f("audiences"))}),(0,r.Z0)({name:"Campaigns",initialState:h,reducers:{setActiveTab:(e,t)=>{e.activeTab=t.payload},nextTab:e=>{const t=["audiences","messageAndFiles","timeAndDate","finish"],a=t.indexOf(e.activeTab);a<t.length-1&&(e.activeTab=t[a+1])},openPaymentPopup:e=>{e.paymentPopupOpen=!0},closePaymentPopup:e=>{e.paymentPopupOpen=!1},updateBulkDashboardDisplay:(e,t)=>{e.open=t.payload},openBulkDashboard:e=>{e.open=!0},closeBulkDashboard:e=>{e.open=!1},updateThemeType:(e,t)=>{e.themeType=t.payload},setSelectedBulkListId:(e,t)=>{e.contactListPanelState.selectedListId=t.payload},setNewCampaign:(e,t)=>{e.newCampaign=t.payload},setActiveBulkView:(e,t)=>{e.activeBulkView=t.payload},setCurrentTemplate:(e,t)=>{e.currentTemplate=t.payload,e.currentTemplateDraft=m({},t.payload),e.newCampaign&&(e.newCampaign=m(m({},e.newCampaign),{},{template:m({},t.payload)}))},updateCurrentTemplateDraft:(e,t)=>{e.currentTemplateDraft=m(m({},e.currentTemplateDraft),t.payload)},syncDraftToTemplate:e=>{e.currentTemplate=m({},e.currentTemplateDraft),e.newCampaign&&(e.newCampaign=m(m({},e.newCampaign),{},{template:m({},e.currentTemplateDraft)}))},setIsLoadingDuplicateBoard:(e,t)=>{e.isLoadingDuplicateBoard=t.payload},setIsAdvancedModeOpen:(e,t)=>{e.isAdvancedModeOpen=t.payload},setCampaignIdForLogsView:(e,t)=>{e.campaignIdForLogsView=t.payload},setCampaigns:(e,t)=>{e.campaigns=t.payload},setIsLoadingDuplicateTemplate:(e,t)=>{e.isLoadingDuplicateTemplate=t.payload},setIsTemplateDropdownModalOpen:(e,t)=>{e.isTemplateDropdownModalOpen=t.payload},setIsImportModalOpen:(e,t)=>{e.isImportModalOpen=t.payload},setIsCampaignLaunching:(e,t)=>{e.isCampaignLaunching=t.payload},resetCampaignAndTemplate:e=>{e.newCampaign=g,e.currentTemplate=y,e.currentTemplateDraft=y},setCampaignSortOptions:(e,t)=>{e.campaignSortOptions=t.payload},setBulkLogsViewActiveTab:(e,t)=>{e.bulkLogsViewActiveTab=t.payload},setBulkLogsViewActiveFilter:(e,t)=>{e.bulkLogsViewActiveFilter=t.payload},setBulkCampaignDialogSearchTerm:(e,t)=>{e.bulkCampaignDialogSearchTerm=t.payload},setBulkAudiencesListSearchTerm:(e,t)=>{e.bulkAudiencesListSearchTerm=t.payload},setBulkTemplateDialogSearchTerm:(e,t)=>{e.bulkTemplateDialogSearchTerm=t.payload}},extraReducers:e=>{e.addCase(f,(e,t)=>{e.activeTab=t.payload;(new i.c).event("bulk_dashboard_tab_change",{category:"bulk",action:e.activeTab})})}})),{setActiveTab:f,openPaymentPopup:b,closePaymentPopup:k,updateBulkDashboardDisplay:w,openBulkDashboard:x,closeBulkDashboard:D,updateThemeType:I,setSelectedBulkListId:A,setNewCampaign:T,setCurrentTemplate:S,updateCurrentTemplateDraft:O,syncDraftToTemplate:C,setIsLoadingDuplicateBoard:M,setIsAdvancedModeOpen:B,setCampaignIdForLogsView:_,setCampaigns:P,setIsLoadingDuplicateTemplate:R,setActiveBulkView:E,setIsTemplateDropdownModalOpen:j,setIsImportModalOpen:L,nextTab:N,setIsCampaignLaunching:F,resetCampaignAndTemplate:z,setCampaignSortOptions:U,setBulkLogsViewActiveTab:V,setBulkLogsViewActiveFilter:W,setBulkCampaignDialogSearchTerm:Q,setBulkAudiencesListSearchTerm:G,setBulkTemplateDialogSearchTerm:q}=((0,r.zD)("toggleBulkDashboardDisplay",(e,t)=>{const a=t.getState(),{dispatch:n}=t;n(!!a.UserReducer.userId?w(!a.CampaignReducer.open):c.g.setStatus("Signup"))}),(0,r.zD)("resetCampaignAndTemplateThunk",async(e,t)=>{const{dispatch:a}=t;a(z()),a((0,s.R9)())}),v.actions),H=v.reducer},6889:(e,t,a)=>{"use strict";a.d(t,{Ch:()=>f,Ef:()=>b,Hv:()=>v,NR:()=>j,R$:()=>L,gA:()=>k,iQ:()=>y,vA:()=>h});var n=a(64467),i=a(62243),r=a(36596),s=a(7952),o=a(1081),l=a(95093),d=a.n(l),c=a(71211),u=a(12239);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const g=(0,o.Mz)([e=>e.CalendarReducer.currentDate],e=>d()(e).startOf("month").toISOString()),y=((0,o.Mz)([e=>e,e=>(0,u.B$)(e)],(e,t)=>!!(0,r.JGD)(e.DBSessionReducer,{status:{$in:["connected"]},owner:t})),(0,o.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{const a=e.WhatsAppReducer.importedContactsArray;return(null==a?void 0:a.filter(e=>(null==e?void 0:e.whatsappId)===t).length)>0}),e=>{const t=[null==e?void 0:e.firstName,null==e?void 0:e.lastName].filter(Boolean).join(" ");return(null==e?void 0:e.name)||(null==e?void 0:e.displayName)||(null==e?void 0:e.shortName)||t||(null==e?void 0:e.mobile)}),h=(e,t)=>{if("string"!=typeof e)return"";const a=e.split("@")[0];return a?t?a.startsWith("+")?a.substring(1):a:a.startsWith("+")?a:"+".concat(a):""},v=((0,o.Mz)([e=>e,(e,t)=>t],(e,t)=>(e=>{var t,a,n,i,r,s,o,l;return null!==(t=null!==(a=null!==(n=null!==(i=null!==(r=null!==(s=null!==(o=null!==(l=null==e?void 0:e.formattedTitle)&&void 0!==l?l:y(e))&&void 0!==o?o:null==e?void 0:e.waName)&&void 0!==s?s:null==e?void 0:e.displayName)&&void 0!==r?r:null==e?void 0:e.notifyName)&&void 0!==i?i:null==e?void 0:e.notify)&&void 0!==n?n:null==e?void 0:e.verifiedName)&&void 0!==a?a:null==e?void 0:e.pushname)&&void 0!==t?t:h(null==e?void 0:e.id)})(v(e,t))),(0,o.Mz)([e=>e.WhatsAppReducer.contactMap,(e,t)=>t,e=>e],(e,t,a)=>(0,r.i2Z)(a.DBWaContactsCacheReducer,{"id._serialized":t}))),f=(0,o.Mz)([v],e=>y(e)),b=(0,o.Mz)([e=>e],e=>(null==e?void 0:e.includes)&&(null==e?void 0:e.includes("@g.us"))),k=(0,o.Mz)([e=>e,(e,t)=>t],(e,t)=>{if(!t)return;const a=(0,r.i2Z)(e.DBWaContactsCacheReducer,{"id._serialized":t});return null==a?void 0:a.imgUrl}),w=(0,o.Mz)([e=>(0,u.Vr)(e)],e=>(null==e?void 0:e.active)&&"connected"===(null==e?void 0:e.status)),x=(0,o.Mz)([e=>{var t;return null===(t=e.DBUserMessageReducer)||void 0===t?void 0:t.itemsLoading}],e=>!0===e),D=(0,o.Mz)([e=>e.DBUserMessageReducer,e=>x(e)],(e,t)=>{if(t)return[];if(!e||!e.entities)return[];const a=(0,r.jHc)(e,{$or:[{deleted:{$exists:!1}},{deleted:!1}],status:{$in:["pending","sending"]}});return a.length,a}),I=(0,o.Mz)([e=>(0,u.NI)(e)],e=>{var t,a;return{calendarStartDayFromDB:((null!==(t=null==e||null===(a=e.preferences)||void 0===a?void 0:a.calendarStartDay)&&void 0!==t?t:0)+8)%7}}),A=(0,o.Mz)([e=>g(e),e=>I(e).calendarStartDayFromDB],(e,t)=>{const a=d()(e).startOf("month"),n=d()(e).endOf("month"),i=(a.day()-t+7)%7,r=a.clone().subtract(i,"days").utc().toDate(),s=((t+6)%7-n.day()+7)%7,o=n.clone().add(s,"days").utc().toDate();return{rangeStart:r,rangeEnd:o,rangeStartTime:r.getTime(),rangeEndTime:o.getTime()}}),T=((0,o.Mz)([e=>D(e),e=>A(e)],(e,t)=>e.filter(e=>!e.isRecurring).filter(e=>{const a=new Date(e.dueDate).getTime();return a>=t.rangeStartTime&&a<=t.rangeEndTime}).map(e=>m(m({},e),{},{messageColor:e.messageColor||s.dU}))),(0,o.Mz)([e=>D(e),e=>A(e)],(e,t)=>{const a=e.filter(e=>e.isRecurring);if(0===a.length)return[];const n=((e,t)=>{if(0===e.length)return[];const a=[];return e.forEach(e=>{try{if(!e.rruleset)return;const n=new c.Dz;if(-1===e.rruleset.indexOf("RRULE:"))if(e.recurenceUnit)(0,i.Af)(e.recurenceUnit,e.recurrenceQuantity||1).rrules().forEach(e=>{n.rrule(e)});else try{(0,i.ib)(e.rruleset).rrules().forEach(e=>{n.rrule(e)})}catch(e){}else e.rruleset.split("\n").filter(e=>""!==e.trim()).forEach(e=>{if(e.startsWith("RRULE:")){const t=e.substring(6),a=c.p3.fromString(t);n.rrule(a)}});n.between(t.rangeStart,t.rangeEnd,!0).forEach(t=>{const n=new Date(t),i=m(m({},e),{},{dueDate:n.toISOString(),originalId:e._id,isRecurringInstance:!0,messageColor:e.messageColor||s.dU});a.push(i)})}catch(e){}}),a})(a,t);return n}),e=>e.CalendarReducer.calendarSidebarFilters),S=e=>(0,u.NI)(e),O=(0,o.Mz)([e=>e],e=>(0,r.jHc)(e.DBUserMessageReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],status:{$in:["pending","sending"]}}).filter(e=>!e.campaignId));function C(e,t){const a=d()(e).startOf("month"),n=d()(e).endOf("month"),i=(a.day()-t+7)%7,r=a.clone().subtract(i+1,"days").utc().toDate(),s=((t+6)%7-n.day()+7)%7;return{rangeStart:r,rangeEnd:n.clone().add(s,"days").utc().toDate()}}function M(e){if(e.calendarColors){var t;const{defaultColor:a,ranges:n,specific:i}=e.calendarColors,r=i.find(t=>t.messageTime===e.dueDate);if(r)return m(m({},e),{},{messageColor:r.color});const s=null===(t=[...n])||void 0===t?void 0:t.sort((e,t)=>d()(e.fromTime).isBefore(d()(t.fromTime))?1:-1),o=null==s?void 0:s.find(t=>d()(t.fromTime).isSameOrBefore(d()(e.dueDate)));if(o)return m(m({},e),{},{messageColor:o.color});if(a)return m(m({},e),{},{messageColor:a})}return m(m({},e),{},{messageColor:s.dU})}const B=(0,o.Mz)([e=>e,T],(e,t)=>t.showMessages?O(e):[]),_=(0,o.Mz)([B,g,S],(e,t,a)=>{var n,r;const s=((null!==(n=null==a||null===(r=a.preferences)||void 0===r?void 0:r.calendarStartDay)&&void 0!==n?n:0)+8)%7,{rangeStart:o,rangeEnd:l}=C(t,s);let u=[];return e.filter(e=>e.isRecurring&&e.rruleset).forEach(e=>{let t;try{t=e.rruleset?(0,i.ib)(e.rruleset):(0,i.Af)(e.recurenceUnit,e.recurrenceQuantity)}catch(e){return}let a=d().utc(e.dueDate).toDate(),n=new c.Dz;t.rrules().forEach(e=>{let t=m(m({},e.origOptions),{},{dtstart:a});n.rrule(new c.p3(t))}),t.exdates().forEach(e=>{n.exdate(e)});const r=n.exdates().map(e=>d()(e).startOf("minute").valueOf()),s=n.between(o,l).filter(e=>{const t=d()(e).isBefore(a),n=d()(e).startOf("minute").valueOf();return!r.includes(n)&&!t}).map(t=>{const a=d()(t).startOf("minute").toISOString();return m(m({},e),{},{dueDate:a})});u=[...u,...s]}),u.map(M)}),P=(0,o.Mz)([B,g,S],(e,t,a)=>{var n,i;const r=((null!==(n=null==a||null===(i=a.preferences)||void 0===i?void 0:i.calendarStartDay)&&void 0!==n?n:0)+8)%7,{rangeStart:o,rangeEnd:l}=C(t,r);return e.filter(e=>!(e.isRecurring&&e.rruleset)).filter(e=>d()(e.dueDate).isBetween(o,l,void 0,"[]")).map(e=>m(m({},e),{},{messageColor:e.messageColor||s.dU}))}),R=(0,o.Mz)([e=>e,T],(e,t)=>t.showCampaigns?(0,r.JjF)(e.DBCampaignReducer,{campaignStatus:{$in:["pending","running"]}}).map(e=>m(m({},e),{},{dueDate:e.schedule.dueDate,isRecurring:e.schedule.isRecurring,messageColor:s.dU})):[]),E=e=>e.CalendarReducer.view,j=((0,o.Mz)([P,_,R,E],(e,t,a,n)=>[...e,...t,...a]),(0,o.Mz)([P,_,R,E],(e,t,a,n)=>[...e,...t,...a].map(e=>{var t,a;const n="campaignStatus"in e||"schedule"in e;return{_id:e._id,isCampaign:n,dueDate:n?null===(t=e.schedule)||void 0===t?void 0:t.dueDate:e.dueDate,isRecurring:n?null===(a=e.schedule)||void 0===a?void 0:a.isRecurring:e.isRecurring}})),(0,o.Mz)([e=>e],e=>{const t=w(e),a=e.DBWaContactsCacheReducer.total;return!(!t&&0===a)})),L=(0,o.Mz)([e=>e.DBWaContactsCacheReducer.entities,(e,t)=>t,e=>e],(e,t,a)=>{const n=Object.values(e);if(!t)return n;const i=t.toLowerCase();return n.filter(e=>{var t;if(!e)return!1;return[e.name,null===(t=e.id)||void 0===t?void 0:t.user,e.pushname,e.shortName].map(e=>{var t;return null!==(t=null==e?void 0:e.toLowerCase())&&void 0!==t?t:""}).some(e=>e.includes(i))})});(0,o.Mz)([e=>e.DBWaContactsCacheReducer.entities,(e,t)=>t],(e,t)=>{const a=Object.values(e).filter(e=>(null==e?void 0:e.name)||(null==e?void 0:e.pushname)||(null==e?void 0:e.shortName)||(null==e?void 0:e.verifiedName)),n=e=>{var t;return{id:{_serialized:null==e||null===(t=e.id)||void 0===t?void 0:t._serialized},name:null==e?void 0:e.name,pushname:null==e?void 0:e.pushname,shortName:null==e?void 0:e.shortName,isGroup:null==e?void 0:e.isGroup,verifiedName:null==e?void 0:e.verifiedName}};if(!t)return a.map(n);const i=t.toLowerCase();return a.filter(e=>{var t;if(!e)return!1;return[e.name,null===(t=e.id)||void 0===t?void 0:t.user,e.pushname,e.shortName].map(e=>{var t;return null!==(t=null==e?void 0:e.toLowerCase())&&void 0!==t?t:""}).some(e=>e.includes(i))}).map(n)}),(0,o.Mz)([(e,t,a)=>e,(e,t,a)=>t,(e,t)=>t],(e,t,a)=>{var n,i,r;const s=v(e,t),o=null!==(n=null!==(i=null==s?void 0:s.displayName)&&void 0!==i?i:null==s?void 0:s.name)&&void 0!==n?n:"",l=0===(null==o?void 0:o.indexOf("+"))?null!==(r=null==s?void 0:s.name)&&void 0!==r?r:null==s?void 0:s.displayName:o;return null!=a?a:l})},7249:(e,t,a)=>{"use strict";a.d(t,{E:()=>i,H:()=>r});var n=a(55693);const i=[{id:(0,n.$7)(),data:{label:"Trigger",handles:{inputs:[],outputs:[{id:(0,n.$7)(),type:"source"}]},type:"trigger",triggerType:"blockList",contacts:[]},position:{x:250,y:25},type:"trigger"}],r=[]},7952:(e,t,a)=>{"use strict";a.d(t,{dU:()=>r,yl:()=>i});a(96540),a(46957),a(74848);const n=[{name:"Tomato",color:"var(--calendar-color-tomato)",isSecondRow:!1},{name:"Flamingo",color:"var(--calendar-color-flamingo)",isSecondRow:!1},{name:"Tangerine",color:"var(--calendar-color-tangerine)",isSecondRow:!1},{name:"Banana",color:"var(--calendar-color-banana)",isSecondRow:!1},{name:"Sage",color:"var(--calendar-color-sage)",isSecondRow:!1},{name:"Basil",color:"var(--calendar-color-basil)",isSecondRow:!1},{name:"Peacock",color:"var(--calendar-color-peacock)",isSecondRow:!0},{name:"Blueberry",color:"var(--calendar-color-blueberry)",isSecondRow:!0},{name:"Lavender",color:"var(--calendar-color-lavender)",isSecondRow:!0},{name:"Grape",color:"var(--calendar-color-grape)",isSecondRow:!0},{name:"Graphite",color:"var(--calendar-color-graphite)",isSecondRow:!0},{name:"Calendar colour",color:"var(--calendar-color-amethyst)",isSecondRow:!0}],i=()=>n[Math.floor(Math.random()*n.length)].color,r="var(--calendar-color-amethyst)"},8099:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>pt});var n=a(84810),i=a(2328),r=a(24076),s=a(59673),o=a(30038);const l=(0,o.Z0)({name:"oauthTest",initialState:{providerTokens:{},loading:{},errors:{}},reducers:{setOAuthTokens:(e,t)=>{const{provider:a,tokens:n}=t.payload;e.providerTokens[a]=n,e.errors[a]=null},setOAuthLoading:(e,t)=>{const{provider:a,loading:n}=t.payload;e.loading[a]=n},setOAuthError:(e,t)=>{const{provider:a,error:n}=t.payload;e.errors[a]=n},clearOAuthTokens:(e,t)=>{const{provider:a}=t.payload;e.providerTokens[a]=null},loadStoredOAuthTokens:e=>{try{const t=localStorage.getItem("oauthTestTokens");if(t){const a=JSON.parse(t);Object.keys(a).forEach(t=>{e.providerTokens[t]=a[t]})}}catch(e){}}}}),{setOAuthTokens:d,setOAuthLoading:c,setOAuthError:u,clearOAuthTokens:p,loadStoredOAuthTokens:m}=l.actions,g=l.reducer;a(79613);var y=a(47283),h=a(19262),v=a(92032);const f=(0,a(93020).xP)({reducerPath:"k8sApi",baseQuery:v.YG4,endpoints:e=>({getK8SGatewayPodsAction:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"k8s-interface.getK8SGatewayPodsAction"}})}),getK8SGatewayPodsWithRelatedSessionsAction:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"k8s-interface.getK8SGatewayPodsActionWithRelatedSessions"}})}),deletePodByIdAction:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"k8s-interface.deletePodByIdAction",podId:e}})}),getAllNodesByDeploymentArrayAction:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"k8s-interface.getAllNodesByDeploymentArrayAction",deploymentArray:e}})}),sendSIGTERMtoPodAction:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"k8s-interface.sendSIGTERMtoPodAction",podId:e}})}),getPodLogsAction:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"k8s-interface.getPodLogsAction",podId:e.podId,namespace:e.namespace,tail:e.tail||500}})})})}),{useGetK8SGatewayPodsActionMutation:b,useGetK8SGatewayPodsWithRelatedSessionsActionMutation:k,useDeletePodByIdActionMutation:w,useGetAllNodesByDeploymentArrayActionMutation:x,useSendSIGTERMtoPodActionMutation:D,useGetPodLogsActionMutation:I}=f,{getK8SGatewayPodsAction:A,getK8SGatewayPodsWithRelatedSessionsAction:T,deletePodByIdAction:S,getAllNodesByDeploymentArrayAction:O,sendSIGTERMtoPodAction:C,getPodLogsAction:M}=f.endpoints;f.middleware,f.reducer;var B=a(47610),_=a(35161),P=a(59680),R=a(4855),E=a(30703),j=a(47037),L=a(52223),N=a(40197),F=a(36596),z=a(46283),U=a(71274),V=a(54064),W=a(36143),Q=a(86032),G=a(67158),q=a(79754),H=a(94303),K=a(22548),X=a(98704),Y=a(43519),Z=a(4458),J=a(66159),$=a(15283),ee=a(46111),te=a(13364),ae=a(66472),ne=a(38189),ie=a(97190),re=a(87435),se=a(76197),oe=a(15245),le=a(62138),de=a(75803),ce=a(13772),ue=a(19048);const pe=[{code:"AED",title:"United Arab Emirates Dirham"},{code:"AFN",title:"Afghanistan Afghanis"},{code:"ALL",title:"Albanian Lek"},{code:"AMD",title:"Armenian Dram",excludedCardTypes:["AMEX"]},{code:"ANG",title:"Netherlands Antillean Guilder"},{code:"ARS",title:"Argentine Peso"},{code:"AUD",title:"Australian Dollar"},{code:"AWG",title:"Aruban Guilder"},{code:"BAM",title:"Bosnia and Herzegovina Convertible Mark"},{code:"BBD",title:"Barbados Dollar",excludedCardTypes:["AMEX"]},{code:"BGN",title:"Bulgarian Lev"},{code:"BHD",title:"Bahraini Dinar"},{code:"BMD",title:"Bermuda Dollar",excludedCardTypes:["AMEX"]},{code:"BND",title:"Brunei Dollar"},{code:"BOB",title:"Bolivian Boliviano",excludedCardTypes:["AMEX"]},{code:"BRL",title:"Brazilian Real"},{code:"BSD",title:"Bahamian Dollar",excludedCardTypes:["AMEX"]},{code:"BWP",title:"Botswana Pula"},{code:"BYR",title:"Belarusian Ruble",excludedCardTypes:["AMEX"]},{code:"CAD",title:"Canadian Dollar"},{code:"CHF",title:"Swiss Franc"},{code:"CLP",title:"Chilean Peso"},{code:"CNY",title:"China Yuan Renminbi"},{code:"COP",title:"Colombia Peso"},{code:"CRC",title:"Costa Rican Colon",excludedCardTypes:["AMEX"]},{code:"CZK",title:"Czech Koruna"},{code:"DKK",title:"Danish Krone"},{code:"DOP",title:"Dominican Republic Peso",excludedCardTypes:["AMEX"]},{code:"DZD",title:"Algerian Dinar"},{code:"EGP",title:"Egyptian Pound"},{code:"EUR",title:"Euro"},{code:"FJD",title:"Fiji Dollar"},{code:"GBP",title:"British Pound Sterling"},{code:"GEL",title:"Georgian Lari",excludedCardTypes:["AMEX"]},{code:"GIP",title:"Gibraltar Pound",excludedCardTypes:["AMEX"]},{code:"GTQ",title:"Guatemalan Quetzal",excludedCardTypes:["AMEX"]},{code:"HKD",title:"Hong Kong Dollar"},{code:"HRK",title:"Croatian Kuna"},{code:"HUF",title:"Hungarian Forint"},{code:"IDR",title:"Indonesian Rupiah"},{code:"ILS",title:"Israeli New Shekel"},{code:"INR",title:"Indian Rupee",excludedCardTypes:["AMEX"]},{code:"ISK",title:"Icelandic Kr"},{code:"JMD",title:"Jamaican Dollar",excludedCardTypes:["AMEX"]},{code:"JOD",title:"Jordanian Dollar"},{code:"JPY",title:"Japanese Yen"},{code:"KES",title:"Kenyan Shilling"},{code:"KHR",title:"Cambodian Riel",excludedCardTypes:["AMEX"]},{code:"KRW",title:"South Korean Won"},{code:"KWD",title:"Kuwaiti Dinar"},{code:"KYD",title:"Cayman Islands Dollar",excludedCardTypes:["AMEX"]},{code:"KZT",title:"Kazakhstani Tenge"},{code:"LBP",title:"Lebanese Pound"},{code:"LKR",title:"Sri Lanka Rupee"},{code:"MAD",title:"Moroccan Dirham"},{code:"MDL",title:"Moldovan Leu"},{code:"MKD",title:"Macedonian Denar"},{code:"MRO",title:"Mauritanian Ouguiya"},{code:"MUR",title:"Mauritius Rupee"},{code:"MWK",title:"Malawian Kwacha"},{code:"MXN",title:"Mexican Peso"},{code:"MYR",title:"Malaysian Ringgit"},{code:"NAD",title:"Namibian Dollar",excludedCardTypes:["AMEX"]},{code:"NGN",title:"Nigerian Naira"},{code:"NOK",title:"Norwegian Krone"},{code:"NPR",title:"Nepalese Rupee"},{code:"NZD",title:"New Zealand Dollar"},{code:"OMR",title:"Omani Rial"},{code:"PAB",title:"Panamanian Balboa",excludedCardTypes:["AMEX"]},{code:"PEN",title:"Peruvian Nuevo Sol",excludedCardTypes:["AMEX"]},{code:"PGK",title:"Papua New Guinean Kina"},{code:"PHP",title:"Philippine Peso"},{code:"PKR",title:"Pakistan Rupee",excludedCardTypes:["AMEX"]},{code:"PLN",title:"Polish Z"},{code:"QAR",title:"Quatari Ria"},{code:"RON",title:"Romanian Leu"},{code:"RSD",title:"Serbian Dinar",excludedCardTypes:["AMEX"]},{code:"RUB",title:"Russian Rubles"},{code:"SAR",title:"Saudi Arabian Riyal"},{code:"SCR",title:"Seychelles Rupee"},{code:"SDG",title:"Sudanese Pound"},{code:"SEK",title:"Swedish Krona"},{code:"SGD",title:"Singapore Dollar",excludedCardTypes:["AMEX"]},{code:"THB",title:"Thai Baht"},{code:"TND",title:"Tunisian Dollar"},{code:"TRY",title:"Turkish Lira"},{code:"TTD",title:"Trinidad & Tobago Dollar",excludedCardTypes:["AMEX"]},{code:"TWD",title:"Taiwan New Dollar"},{code:"TZS",title:"Tanzanian Shilling"},{code:"UAH",title:"Ukrainian Hryvnia"},{code:"USD",title:"United States Dollar"},{code:"UYU",title:"Uruguayan Peso",excludedCardTypes:["AMEX"]},{code:"UZS",title:"Uzbekistan Som",excludedCardTypes:["AMEX"]},{code:"VEF",title:"Venezuelan Bolivar Fuerte"},{code:"VND",title:"Vietnamese Dong",excludedCardTypes:["AMEX"]},{code:"XCD",title:"East Caribbean Dollar",excludedCardTypes:["AMEX"]},{code:"XOF",title:"CFA Franc BCEAO"},{code:"ZAR",title:"South African Rand",excludedCardTypes:["AMEX"]}];var me=a(64467),ge=a(56855),ye=a(1081),he=a(42583),ve=a.n(he),fe=a(12239);a(87186),a(50123),a(65826),a(44010),a(96540),a(32389);const be=a.p+"b2de6961989f53dbde164b3bf2f6ab49.png",ke=a.p+"f266602b87b92c9d97a37d1d24f64d45.png";a(90629),a(55693),a(4175);a(74848);var we=a(46217);new we.c;const xe="https://pay.bluesnap.com/web-sdk/5/assets/cards",De=e=>{let t=be;switch(e){case"AMEX":case"American Express":case"amex":t="".concat(xe,"/amex.png");break;case"VISA":case"Visa":case"visa":t="".concat(xe,"/visa.png");break;case"MASTERCARD":case"Mastercard":case"mastercard":t="".concat(xe,"/mastercard.png");break;case"DISCOVER":case"Discover":case"discover":t="".concat(xe,"/discover.png");break;case"DINERS":case"Diners":case"diners":t="".concat(xe,"/diners.png");break;case"JCB":case"jcb":t="".concat(xe,"/jcb.png");break;case"PayPal":case"Paypal":case"paypal":t=ke}return t};(0,ye.Mz)([e=>e.PaymentFormReducer.estimate],e=>{var t;const a=null==e||null===(t=e.subscription_estimate)||void 0===t?void 0:t.currency_code;return a?ve()(a):"$"});const Ie=(0,ye.Mz)([e=>e.PaymentFormReducer,e=>Oe(e)],(e,t)=>{const{paymentsFieldsReady:a}=e;return a||t.creditCard}),Ae=((0,ye.Mz)([e=>e.PaymentFormReducer,e=>Ie(e)],(e,t)=>{const{paymentMethod:a,firstName:n,lastName:i,address:r,country:s,calculateCartIsLoading:o}=e;return("CreditCard"===a&&t||"Paypal"===a)&&n&&i&&r&&s&&!o}),(0,ye.Mz)([e=>e.PaymentFormReducer.firstName,e=>e.PaymentFormReducer.lastName,e=>e.PaymentFormReducer.address,e=>e.PaymentFormReducer.country],(e,t,a,n)=>{let i=[];const r=[{val:e,fieldName:"First Name"},{val:t,fieldName:"Last Name"},{val:a,fieldName:"Address"},{val:n,fieldName:"Country"}];for(const e of r)e.val||i.push("Field '".concat(e.fieldName,"' is required"));return i}),(0,ye.Mz)([e=>e.PaymentFormReducer.calculateCartIsLoading],e=>e),e=>{var t,a,n,i,r,s,o,l,d,c,u,p,m,g;const y=null==e?void 0:e.item_price,h=null==e?void 0:e.yearly_item_price,[v]=null!==(t=null==y?void 0:y.tiers)&&void 0!==t?t:[],[f]=null!==(a=null==h?void 0:h.tiers)&&void 0!==a?a:[],[b]=null!==(n=null!==(i=null==e||null===(r=e.invoice_estimate)||void 0===r?void 0:r.line_items)&&void 0!==i?i:null==e||null===(s=e.next_invoice_estimate)||void 0===s?void 0:s.line_items)&&void 0!==n?n:[],k=null==b?void 0:b.quantity,w=null!==(o=null!==(l=null==e||null===(d=e.invoice_estimate)||void 0===d?void 0:d.amount_due)&&void 0!==l?l:null==e||null===(c=e.next_invoice_estimate)||void 0===c?void 0:c.amount_due)&&void 0!==o?o:0,x=(null==e||null===(u=e.invoice_estimate)||void 0===u?void 0:u.total)/100;let D=(null!==(p=null==v?void 0:v.price)&&void 0!==p?p:0)/100*k,I=0,A=0;h&&(I=x-D,A=Math.round(I/x*100));const T=x-(null==e||null===(m=e.invoice_estimate)||void 0===m?void 0:m.sub_total),S=Math.round(T/x*100);return{basePrice:x,totalCredit:(null!==(g=null==e?void 0:e.credit_note_estimates)&&void 0!==g?g:[]).reduce((e,t)=>e+t.amount_available/100,0),yearlyDiscountAmount:I,yearlyDiscountPercentages:A,seatDiscountAmount:T,seatDiscountPercentages:S,seatCount:k,amount_due:w}}),Te=((0,ye.Mz)([e=>e.PaymentFormReducer.estimate],e=>Ae(e)),(0,ye.Mz)([e=>e.PaymentFormReducer.estimate],e=>Ae(e).amount_due)),Se=((0,ye.Mz)([e=>e],e=>{const t=e.PaymentFormReducer.vatId;return(null==t?void 0:t.length)>=8&&(null==t?void 0:t.length)<=15&&!isNaN(Number(t))||!!!t}),(e,t,a,n,i)=>{let r={};const s=i.find(e=>{var t;return e.reference_id===(null==n||null===(t=n.payment_method)||void 0===t?void 0:t.reference_id)}),o=null==s?void 0:s.card;if(r.creditCard=o,r.cardType=null==o?void 0:o.brand,r.last4digits=null==o?void 0:o.last4,r.paypal=null==s?void 0:s.paypal,r.address1=null==o?void 0:o.billing_addr1,r.address2=null==o?void 0:o.billing_addr2,r.zip=null==o?void 0:o.billing_zip,r.countryCode=null==o?void 0:o.billing_country,"bluesnap"===(null==t?void 0:t.type)){var l,d,c,u,p,m,g;const t=null==a||null===(l=a.subscription)||void 0===l?void 0:l["credit-card"];r.creditCard=t,r.cardType=null!==(d=null==t?void 0:t["card-type"])&&void 0!==d?d:null!=a&&null!==(c=a.subscription)&&void 0!==c&&c["paypal-subscription"]?"PayPal":void 0,r.last4digits=null==t?void 0:t["last-four-digits"];const n=null==a||null===(u=a["shopper-info"])||void 0===u?void 0:u["shopper-contact-info"];r.firstName=null==n?void 0:n["first-name"],r.lastName=null==n?void 0:n["last-name"],r.address1=null==n?void 0:n.address1,r.address2=null==n?void 0:n.address2,r.zip=null==n||null===(p=n.zip)||void 0===p?void 0:p.toString(),r.countryCode=(null==e||null===(m=e.invoiceDetails)||void 0===m?void 0:m.country)||(null==n?void 0:n.country),r.companyName=null==n?void 0:n["company-name"],r.vatId=null==e||null===(g=e.invoiceDetails)||void 0===g?void 0:g.vatId}else if("chargebee"===(null==t?void 0:t.type)){const t=null==n?void 0:n.billing_address;r.firstName=(null==t?void 0:t.first_name)||(null==n?void 0:n.first_name),r.lastName=(null==t?void 0:t.last_name)||(null==n?void 0:n.last_name),r.fullName=[r.firstName,r.lastName].filter(e=>e).join(" ")||(0,ge.J)(e),r.address1=null==t?void 0:t.line1,r.address2=null==t?void 0:t.line2,r.zip=null==t?void 0:t.zip,r.countryCode=null==t?void 0:t.country,r.companyName=(null==t?void 0:t.company)||(null==n?void 0:n.company),r.vatId=null==n?void 0:n.vat_number}return r.creditCardLogo=r.cardType?De(r.cardType):void 0,r.countryObject=r.countryCode?{isoCode:r.countryCode,name:""}:void 0,r}),Oe=(0,ye.Mz)([e=>(0,fe.NI)(e),e=>(0,fe.X_)(e),e=>e.PaymentFormReducer.shopper,e=>e.PaymentFormReducer.customer,e=>e.PaymentFormReducer.paymentSourceList],Se);var Ce=a(19623);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach(function(t){(0,me.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(0,o.zD)("openPaymentDialogThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,fe.xu)(n);document.title="Payment Form",a(Le.openDialog(Be(Be({},e),{},{user:i})));e.planId&&a(_e())}),(0,o.zD)("fetchPaymentTokenThunk",async(e,t)=>{const a=t.dispatch;try{const e=await a(v.br5.getPaymentFieldToken.initiate()).unwrap(),{token:t,endpoint:n}=e;a(Le.setEndpoint(n))}catch(e){}}),(0,o.zD)("closePaymentDialogThunk",async(e,t)=>{const a=t.dispatch;a(Le.setPaymentSuccessType()),a(Le.setPaymentSuccess(!1)),a(Le.closeDialog())});const _e=(0,o.zD)("calculateCartThunk",async(e,t)=>{const a=t.dispatch;let n=t.getState();const{planId:i,appliedCouponCode:r,seats:s}=n.PaymentFormReducer;a(Le.setCalculatingCart(!0));const o=await a(v.br5.createEstimate.initiate({quantity:null!=s?s:1,item_price_id:i,coupon_ids:r?[r]:[]})).unwrap();a(o?Le.setEstimate(o):Le.setCartErrorMessage("Error calculating cart")),a(Le.setCalculatingCart(!1))}),Pe=((0,o.zD)("createPaymentIntentThunk",async(e,t)=>{var a;const n=t.dispatch;let i=t.getState();const{seats:r}=i.PaymentFormReducer,s=Te(i),o="CreditCard"===(null!==(a=i.PaymentFormReducer.paymentMethod)&&void 0!==a?a:"CreditCard")?"card":"paypal_express_checkout",l=await n(v.br5.createIntent.initiate({amount:s,payment_method_type:o,quantity:r})).unwrap();n(Le.setPaymentIntent(l))}),(0,o.zD)("setAppliedCouponCodeThunk",async(e,t)=>{const a=t.dispatch;a(Le.setAppliedCouponCode(e)),a(_e())}),(0,o.zD)("setCurrencyThunk",async(e,t)=>{const a=t.dispatch,n=pe.find(t=>t.code===e);a(Le.setCurrency(n)),a(_e())}),(0,o.zD)("validateVATNumberThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),{country:i}=n.PaymentFormReducer,{vatId:r}=n.PaymentFormReducer,s=Chargebee.getInstance(),o=await s.vat.validateVat({country:i.code,vat_number:null!=e?e:r});a(Le.setVatValidation({vatStatus:o.status,message:o.message}))}),(0,o.zD)("paymentForm/validateZipCode",async(e,t)=>{let{getState:a}=t;const n=a(),{zip:i,country:r}=n.PaymentFormReducer;if(!i||null==r||!r.code)return{isValid:!1,message:"Please enter a zip code and select a country."};const s=Ce.t(r.code,i);return!0===s?{isValid:!0,message:""}:"string"==typeof s?{isValid:!1,message:s}:{isValid:!1,message:"Invalid postal code for ".concat(r.code)}})),Re=(0,o.zD)("paymentForm/getShopperInfo",async(e,t)=>{t.dispatch;const a=t.getState(),n=(0,fe.X_)(a),i=await t.dispatch(v.br5.getShopperInfo.initiate()).unwrap();let r,s;const{paymentSourceList:o}=i;"bluesnap"===(null==n?void 0:n.type)?r=i.shopper:s=i.customer;const l=(0,fe.xu)(a),{firstName:d,lastName:c,address1:u,address2:p,zip:m,countryObject:g,companyName:y,vatId:h}=Se(l,n,r,s,o);return{data:i,type:null==n?void 0:n.type,firstName:d,lastName:c,address1:u,address2:p,zip:m,countryObject:g,companyName:y,vatId:h}}),Ee=((0,o.zD)("paymentForm/openCheckoutPageThunk",async(e,t)=>{const a=t.dispatch,n=new we.c;try{var i,r;a(Le.setIsGettingPaymentUrl(!0));const s=e.item_price_id||"",o=s.split("-")[0]||"Unknown",l=s.includes("USD")?"USD":s.includes("EUR")?"EUR":"USD",d=s.includes("Monthly")?"Monthly":s.includes("Yearly")?"Yearly":"Monthly",c=[{item_id:s,item_name:o,item_category:"subscription",item_brand:"Blueticks",price:0,quantity:e.quantity||1}];await n.ecommerceEvent("add_to_cart",{currency:l,value:0,items:c,coupon:(null===(i=e.coupon_ids)||void 0===i?void 0:i.join(","))||void 0},{billing_cycle:d,auto_detect_billing_cycle:e.auto_detect_billing_cycle}),await n.ecommerceEvent("begin_checkout",{currency:l,value:0,items:c,coupon:(null===(r=e.coupon_ids)||void 0===r?void 0:r.join(","))||void 0},{checkout_step:1,checkout_option:"chargebee_hosted",billing_cycle:d});const{checkoutPageUrl:u}=await t.dispatch(v.br5.getCheckoutPageUrl.initiate(e)).unwrap();window.location.href=u}catch(n){try{const{checkoutPageUrl:a}=await t.dispatch(v.br5.getCheckoutPageUrl.initiate(e)).unwrap();window.location.href=a}catch(e){throw a(Le.setIsGettingPaymentUrl(!1)),e}}}),(0,o.zD)("paymentForm/getCheckoutPageUrlThunk",async(e,t)=>{(0,t.dispatch)(Le.setIsGettingPaymentUrl(!0));const a=await t.dispatch(v.br5.getCheckoutPageUrl.initiate(e)).unwrap();return{checkoutPageUrl:a.checkoutPageUrl,debug:a.debug||{function:"checkout_new_for_items",input:e}}}),(0,o.zD)("paymentForm/getPortalSessionUrlThunk",async(e,t)=>{const{portal_session_url:a}=await t.dispatch(v.br5.getPortalSessionUrl.initiate()).unwrap();return a}),(0,o.zD)("paymentForm/cancelSubscriptionThunk",async(e,t)=>{await t.dispatch(v.br5.cancelActiveSubscription.initiate()),await t.dispatch(F.DBSubscriptionThunks.find({}))}),{calculateCartIsLoading:!1,address:"",firstName:"",lastName:"",vatId:"",zip:"",companyName:"",paymentMethod:"CreditCard",scriptState:"idle",paymentsFieldsReady:!1,processingPayment:!1,open:!1,currency:pe.find(e=>"USD"===e.code),isScriptReady:!1,isInitialized:!1,creditCardDetailsUpdated:!1,zipValidationMessage:"",zipValidationLoading:!1,zipStatus:"UNKNOWN",shopper:void 0,customer:void 0,getShopperInfoLoading:!1,paymentSourceList:[],isGettingPaymentUrl:!1}),je=(0,o.Z0)({name:"paymentFormSlice",initialState:Ee,reducers:{setManagePaymentSourcesUrl:(e,t)=>{e.manage_payment_sources_url=t.payload},setIsUpdatePaymentMethodPopupOpen:(e,t)=>{e.isUpdatePaymentMethodPopupOpen=t.payload},setAddress:(e,t)=>{e.address=t.payload},setCountry:(e,t)=>{e.country=t.payload},setFirstName:(e,t)=>{e.firstName=t.payload},setLastName:(e,t)=>{e.lastName=t.payload},setVatId:(e,t)=>{e.vatId=t.payload},setCompanyName:(e,t)=>{e.companyName=t.payload},setAddress1:(e,t)=>{e.address=t.payload},setAddress2:(e,t)=>{e.address=t.payload},setProcessingPayment:(e,t)=>{e.processingPayment=t.payload},setPaymentsFieldsReady:(e,t)=>{e.paymentsFieldsReady=t.payload},setErrorMessage:(e,t)=>{e.errorMessage=t.payload},setCartErrorMessage:(e,t)=>{e.cartErrorMessage=t.payload},setPaymentIntent:(e,t)=>{e.paymentIntent=t.payload},clearPaymentIntent:e=>{delete e.paymentIntent},setPaymentSourceList:(e,t)=>{e.paymentSourceList=t.payload},setPaymentMethod:(e,t)=>{e.paymentMethod=t.payload,delete e.paymentIntent,"Paypal"===e.paymentMethod&&(e.isScriptReady=!1,e.isInitialized=!1)},openDialog:(e,t)=>{var a,n,i,r,s,o,l,d;const{user:c}=t.payload;e.open=!0,e.planId=null===(a=t.payload)||void 0===a?void 0:a.planId,e.contractId=null===(n=t.payload)||void 0===n?void 0:n.contractId,e.workspaceId=null===(i=t.payload)||void 0===i?void 0:i.workspaceId,e.paymentSuccess=null===(r=t.payload)||void 0===r?void 0:r.paymentSuccess,e.seats=null===(s=t.payload)||void 0===s?void 0:s.seats,e.firstName=c.firstName,e.lastName=c.lastName,e.companyName=null===(o=c.invoiceDetails)||void 0===o?void 0:o.companyName,e.address=null===(l=c.invoiceDetails)||void 0===l?void 0:l.address,e.vatId=null===(d=c.invoiceDetails)||void 0===d?void 0:d.vatId,e.isScriptReady=!1,e.isInitialized=!1,delete e.paymentIntent},closeDialog:e=>{e.open=!1,e.processingPayment=!1,delete e.planId,delete e.contractId,delete e.workspaceId,delete e.errorMessage,delete e.cartErrorMessage,delete e.paymentIntent,delete e.estimate,delete e.seats},setPaymentSuccess:(e,t)=>{e.paymentSuccess=t.payload},setCreditCardDetailsUpdated:(e,t)=>{e.creditCardDetailsUpdated=t.payload},setPaymentSuccessType:(e,t)=>{e.paymentSuccessType=t.payload},setCurrency:(e,t)=>{e.currency=t.payload},setEndpoint:(e,t)=>{e.endpoint=t.payload},setZip:(e,t)=>{e.zip=t.payload},setEstimate:(e,t)=>{e.estimate=t.payload},setAppliedCouponCode:(e,t)=>{e.appliedCouponCode=t.payload},setCalculatingCart:(e,t)=>{e.calculateCartIsLoading=t.payload},setIsScriptReady:(e,t)=>{e.isScriptReady=t.payload},setIsInitizalized:(e,t)=>{e.isInitialized=t.payload},setScriptState:(e,t)=>{e.scriptState=t.payload,"ready"===e.scriptState&&(e.isScriptReady=!0),"Paypal"===e.paymentMethod&&(e.isScriptReady=!1,e.isInitialized=!1)},setVatValidationLoading:(e,t)=>{e.vatValidationLoading=t.payload},setVatValidation:(e,t)=>{e.vatStatus=t.payload.vatStatus,e.vatValidationMessage=t.payload.message,e.vatValidationLoading=!1},setShopper:(e,t)=>{e.shopper=t.payload},setCustomer:(e,t)=>{e.customer=t.payload},setIsGettingPaymentUrl:(e,t)=>{e.isGettingPaymentUrl=t.payload}},extraReducers:e=>{e.addCase(Pe.pending,e=>{e.zipValidationLoading=!0}),e.addCase(Pe.fulfilled,(e,t)=>{e.zipValidationLoading=!1,e.zipStatus=t.payload.isValid?"VALID":"INVALID",e.zipValidationMessage=t.payload.message}),e.addCase(Pe.rejected,e=>{e.zipValidationLoading=!1,e.zipStatus="UNKNOWN",e.zipValidationMessage="An error occurred while validating the zip code."}),e.addCase(Re.pending,e=>{e.getShopperInfoLoading=!0}),e.addCase(Re.fulfilled,(e,t)=>{var a,n;e.getShopperInfoLoading=!1,"bluesnap"===t.payload.type?(e.shopper=t.payload.data.shopper,e.customer=void 0):(e.customer=t.payload.data.customer,e.shopper=void 0),e.manage_payment_sources_url=t.payload.data.manage_payment_sources_url,e.paymentSourceList=t.payload.data.paymentSourceList,e.firstName=t.payload.firstName,e.lastName=t.payload.lastName,e.address=t.payload.address1,e.zip=t.payload.zip,e.country={code:null===(a=t.payload.countryObject)||void 0===a?void 0:a.isoCode,name:null===(n=t.payload.countryObject)||void 0===n?void 0:n.name},e.companyName=t.payload.companyName,e.vatId=t.payload.vatId}),e.addCase(Re.rejected,e=>{e.getShopperInfoLoading=!1,e.shopper=void 0,e.customer=void 0})}}),Le=je.actions,Ne=je.reducer;var Fe=a(41947),ze=a(76759),Ue=a(98812),Ve=a(40208),We=a(99568),Qe=a(52597),Ge=a(3139),qe=a(2372),He=a(12037),Ke=a(59111),Xe=a(11988),Ye=a(25129);a(13055);const Ze=(0,o.zD)("dashboardStats/fetchOverview",async(e,t)=>{let{rejectWithValue:a,dispatch:n}=t;try{return await n(v.Hvd.endpoints.getDashboardOverviewStats.initiate()).unwrap()}catch(e){return e instanceof Error?a(e.message):a("Failed to fetch overview stats")}}),Je=(0,o.zD)("dashboardStats/fetchNodeTypeDistribution",async(e,t)=>{let{rejectWithValue:a,dispatch:n}=t;try{return await n(v.Hvd.endpoints.getNodeTypeDistribution.initiate()).unwrap()}catch(e){return e instanceof Error?a(e.message):a("Failed to fetch node type distribution")}}),$e=(0,o.zD)("dashboardStats/fetchFeatureAdoption",async(e,t)=>{let{rejectWithValue:a,dispatch:n}=t;try{return await n(v.Hvd.endpoints.getAdvancedFeatureAdoption.initiate()).unwrap()}catch(e){return e instanceof Error?a(e.message):a("Failed to fetch feature adoption stats")}}),et=(0,o.zD)("dashboardStats/fetchKbAdoption",async(e,t)=>{let{rejectWithValue:a,dispatch:n}=t;try{return await n(v.Hvd.endpoints.getKnowledgeBaseAdoption.initiate()).unwrap()}catch(e){return e instanceof Error?a(e.message):a("Failed to fetch KB adoption stats")}}),tt=(0,o.zD)("dashboardStats/fetchAll",async(e,t)=>{let{rejectWithValue:a,dispatch:n}=t;try{return await n(v.Hvd.endpoints.getAllDashboardStats.initiate()).unwrap()}catch(e){return e instanceof Error?a(e.message):a("Failed to fetch all dashboard stats")}}),at=(0,o.Z0)({name:"dashboardStats",initialState:{overview:{data:null,loading:!1,error:null},nodeTypeDistribution:{data:null,loading:!1,error:null},featureAdoption:{data:null,loading:!1,error:null},kbAdoption:{data:null,loading:!1,error:null},nodeEventStats:{data:null,loading:!1,error:null},dateRange:{startDate:null,endDate:null},lastUpdated:null},reducers:{setDateRange:(e,t)=>{e.dateRange=t.payload},clearDashboardStats:e=>{e.overview.data=null,e.nodeTypeDistribution.data=null,e.featureAdoption.data=null,e.kbAdoption.data=null,e.nodeEventStats.data=null,e.lastUpdated=null}},extraReducers:e=>{e.addCase(Ze.pending,e=>{e.overview.loading=!0,e.overview.error=null}).addCase(Ze.fulfilled,(e,t)=>{e.overview.loading=!1,e.overview.data=t.payload,e.lastUpdated=(new Date).toISOString()}).addCase(Ze.rejected,(e,t)=>{e.overview.loading=!1,e.overview.error=t.payload}),e.addCase(Je.pending,e=>{e.nodeTypeDistribution.loading=!0,e.nodeTypeDistribution.error=null}).addCase(Je.fulfilled,(e,t)=>{e.nodeTypeDistribution.loading=!1,e.nodeTypeDistribution.data=t.payload,e.lastUpdated=(new Date).toISOString()}).addCase(Je.rejected,(e,t)=>{e.nodeTypeDistribution.loading=!1,e.nodeTypeDistribution.error=t.payload}),e.addCase($e.pending,e=>{e.featureAdoption.loading=!0,e.featureAdoption.error=null}).addCase($e.fulfilled,(e,t)=>{e.featureAdoption.loading=!1,e.featureAdoption.data=t.payload,e.lastUpdated=(new Date).toISOString()}).addCase($e.rejected,(e,t)=>{e.featureAdoption.loading=!1,e.featureAdoption.error=t.payload}),e.addCase(et.pending,e=>{e.kbAdoption.loading=!0,e.kbAdoption.error=null}).addCase(et.fulfilled,(e,t)=>{e.kbAdoption.loading=!1,e.kbAdoption.data=t.payload,e.lastUpdated=(new Date).toISOString()}).addCase(et.rejected,(e,t)=>{e.kbAdoption.loading=!1,e.kbAdoption.error=t.payload}),e.addCase(tt.pending,e=>{e.overview.loading=!0,e.nodeTypeDistribution.loading=!0,e.featureAdoption.loading=!0,e.kbAdoption.loading=!0,e.nodeEventStats.loading=!0,e.overview.error=null,e.nodeTypeDistribution.error=null,e.featureAdoption.error=null,e.kbAdoption.error=null,e.nodeEventStats.error=null}).addCase(tt.fulfilled,(e,t)=>{e.overview.loading=!1,e.nodeTypeDistribution.loading=!1,e.featureAdoption.loading=!1,e.kbAdoption.loading=!1,e.nodeEventStats.loading=!1,e.overview.data=t.payload.overviewStats,e.nodeTypeDistribution.data=t.payload.nodeTypeDistribution,e.featureAdoption.data=t.payload.advancedFeatureAdoption,e.kbAdoption.data=t.payload.kbAdoption,e.nodeEventStats.data=t.payload.nodeEventStats,e.lastUpdated=(new Date).toISOString()}).addCase(tt.rejected,(e,t)=>{e.overview.loading=!1,e.nodeTypeDistribution.loading=!1,e.featureAdoption.loading=!1,e.kbAdoption.loading=!1,e.nodeEventStats.loading=!1;const a=t.payload;e.overview.error=a,e.nodeTypeDistribution.error=a,e.featureAdoption.error=a,e.kbAdoption.error=a,e.nodeEventStats.error=a})}}),{setDateRange:nt,clearDashboardStats:it}=at.actions,rt=at.reducer;var st,ot=a(61504);let lt={DBKnowledgeBaseReducer:F.APe,DBKnowledgeBaseDocumentReducer:F.XYZ,DBKnowledgeBaseEntryReducer:F.a2W,DBSessionReducer:F.X24,DBBulkListReducer:F.NGN,DBContactReducer:F.Pov,DBTemplateReducer:F.l9$,DBLabelReducer:F.JMF,DBCampaignReducer:F.H_s,DBCampaignLogReducer:F.nUT,DBTaskgroupsReducer:F.iJy,DBTasksExtraDataReducer:F.Za5,DBTasksExtraDataFilesReducer:F.inK,DBMessageLogReducer:F.IFV,DBWaChatReducer:F.JvV,DBLogReducer:F.Hny,DBViewFiltersReducer:F.nEF,DBBoardsReducer:F.Y_S,DBTasksReducer:F.r1u,DBTeamInboxChatsCacheReducer:F.PQo,DBTeamInboxMessagesCacheReducer:F.eU5,DBInvoiceReducer:F.UEi,DBTaskColumnReducer:F.Syj,DBTaskColumnOptionReducer:F.hhE,DBUserReducer:F.cFC,DBWorkspaceReducer:F.ANY,DBKanbanReducer:F.aig,DBBoardViewReducer:F.qas,DBFeatureReducer:F.xQg,DBMyWorksReducer:F.lRC,DBGanttReducer:F.TNZ,DBFormReducer:F.djY,DBWorkloadReducer:F.QQS,DBWorkspaceUserReducer:F.hWh,DBBoardUserReducer:F.Mm0,DBSubscriptionReducer:F.qnU,DBTimeTrackingSessionReducer:F.Tc9,DBAutomationReducer:F.QHf,DBAutomationTriggerReducer:F.UrK,DBAutomationConditionsReducer:F.wKD,DBAutomationActionsReducer:F.Zef,DBNewTabFocusReducer:F.Qkk,DBWebhooksReducer:F.Z$t,DBAllocatedPhoneNumberReducer:F.RLp,DBAuthTokensReducer:F.HX$,UndoRedoReducer:$.Ay,ChatListReducer:E.A,TasksReducer:J.A,TeamInboxReducer:ot.A,MyWorkReducer:ue.A,KanbanReducer:W.Ay,BoardViewReducer:_.A,GanttReducer:U.Ay,BulkActionsReducer:P.Ay,BoardsReducer:B.A,WhatsAppReducer:ne.Ay,PickerDialogReducer:H.A,MainReducer:G.Ay,DBTracingsReducer:F.AJ8,MediaManagerReducer:r.A,AutomationReducer:i.A,ExtraDataReducer:z.Ay,ShareDialogReducer:X.A,LabelsReducer:Q.Ay,SubscriptionPopupReducer:Z.Ay,CampaignReducer:R.Ay,UserReducer:te.Ay,ChatbotReducer:We.Ay,CalendarReducer:de.Ay,ContactTableReducer:j.NP,DBUserMessageReducer:F.hAH,ProfilePicReducer:K.Ay,SnippetsReducer:Y.Ay,AddScheduledMessageButtonReducer:h.Ay,AccessFormPopupReducer:y.A,backendApi:v.Ay$,UninstallReducer:ee.Ay,ModalReducer:q.Ay,ImportItemsReducer:V.A,WorkspaceReducer:ie.A,WhatsAppViewReducer:Ve.Ay,NotifierReducer:oe.A,DBQuickLaunchReducer:F.PaH,BtQuickPanelReducer:le.A,PaymentFormReducer:Ne,RecycleBinReducer:Fe.A,LabelReducer:ce.A,DBEntitySubscribersReducer:F.$JQ,DBNotificationsReducer:F.Xod,DBContactsLabelsReducer:F.drT,StickyHeaderReducer:ze.Ay,DBBotReducer:F.wX_,DBSessionEventsReducer:F.amX,DBWaContactsCacheReducer:F.KkI,UserMessageReducer:Ke.Ay,DBBotDeploymentReducer:F.R8k,ConnectionReadinessSlice:Ge.Ay,DBAutomationSessionReducer:F.klT,DBNodeEventsReducer:F.gKl,ConnectedEnginesReducer:Qe.Ay,ToolsReducer:Ue.A,ToolSettingsModalReducer:He.Ay,CreditUsageReducer:N.Ay,creditPurchase:L.Ay,KnowledgeBaseProgressReducer:s.Ay,OAuthTestReducer:g,InstagramSelectorReducer:n.Ay,dashboardStats:rt,ScheduledMessageEditorReducer:qe.Ay,MessageInfoReducer:Xe.Ay,BtLayoutSidebarReducer:Ye.Ay,[f.reducerPath]:f.reducer};(0,re.ft)()&&(lt={}),[].push((0,se.Ay)({realtime:!0,port:8e3,stateSanitizer:e=>({DBTasksReducer:e.DBTasksReducer})}));const dt=["WhatsAppReducer.contactList","WhatsAppReducer.contactMap"],ct=globalThis,ut=null!==(st=ct.__APP_STORE__)&&void 0!==st?st:(0,o.U1)({reducer:lt,middleware:e=>e({immutableCheck:{ignoredPaths:dt},serializableCheck:!1}).concat(v.r1Y,f.middleware)});ct.__APP_STORE__||(ct.__APP_STORE__=ut,ut.dispatch((0,ae.L)()),ut.dispatch((0,v.u1p)()),ut.dispatch((0,G.Tw)()));const pt=ut},8512:e=>{"use strict";e.exports=JSON.parse('{"v":"5.5.6","fr":70,"ip":0,"op":370,"w":609,"h":812,"nm":"lottie (mobile)","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"_small-side","refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[218,320,0],"ix":2},"a":{"a":0,"k":[400,400,0],"ix":1},"s":{"a":0,"k":[-100,100,100],"ix":6}},"ao":0,"w":800,"h":800,"ip":15,"op":234,"st":15,"bm":0}]},{"id":"comp_1","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"streamer b","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":166,"ix":10},"p":{"a":0,"k":[554,664,0],"ix":2},"a":{"a":0,"k":[-157,-245,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.685,-13.314],[0,-14.907],[0,-15.206],[0,-14.907],[0,-14.907],[0,-15.206],[1.754,-14.206],[-3.934,-9.465]],"o":[[-3.895,8.562],[1.872,14.789],[0,15.206],[0,14.907],[0,14.907],[0,15.206],[0,14.314],[-1.803,14.605],[0,0]],"v":[[-156.5,-406],[-166.5,-367],[-146.5,-327],[-166.5,-286],[-146.5,-246],[-166.5,-206],[-146.5,-165],[-166.5,-127],[-156.5,-84]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8156862745098039,0.5019607843137255,0.00784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":9,"s":[4]},{"t":57,"s":[0.5]}],"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":14,"s":[0]},{"t":57,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":9,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":14,"s":[35]},{"t":57,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":9,"op":58,"st":9,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"streamer a","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":167,"ix":10},"p":{"a":0,"k":[532,582,0],"ix":2},"a":{"a":0,"k":[-157,-245,0],"ix":1},"s":{"a":0,"k":[-100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.685,-13.314],[0,-14.907],[0,-15.206],[0,-14.907],[0,-14.907],[0,-15.206],[1.754,-14.206],[-3.934,-9.465]],"o":[[-3.895,8.562],[1.872,14.789],[0,15.206],[0,14.907],[0,14.907],[0,15.206],[0,14.314],[-1.803,14.605],[0,0]],"v":[[-156.5,-406],[-166.5,-367],[-146.5,-327],[-166.5,-286],[-146.5,-246],[-166.5,-206],[-146.5,-165],[-166.5,-127],[-156.5,-84]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8549019607843137,0.11764705882352941,0.11764705882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[4]},{"t":48,"s":[0.5]}],"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":10,"s":[0]},{"t":48,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":10,"s":[35]},{"t":48,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":5,"op":49,"st":5,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"circle a","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":29,"s":[321.019]},{"t":158,"s":[1800]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":1,"s":[599.5,838,0],"to":[-30,-106.667,0],"ti":[46.667,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":29,"s":[419.5,198,0],"to":[-46.667,0,0],"ti":[0,0,0]},{"t":158,"s":[319.5,838,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0,0]},"t":1,"s":[50,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":29,"s":[100,100,100]},{"t":128,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9333333333333333,0.5725490196078431,0.20392156862745098,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":1,"op":159,"st":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"circle b","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[0]},{"t":128,"s":[1440]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":3,"s":[599.5,838,0],"to":[-26.667,-93.333,0],"ti":[66.667,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":21,"s":[439.5,278,0],"to":[-66.667,0,0],"ti":[0,0,0]},{"t":128,"s":[199.5,838,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0,0]},"t":3,"s":[50,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":21,"s":[100,100,100]},{"t":98,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.7450980392156863,0.3686274509803922,0.18823529411764706,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":3,"op":129,"st":3,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"star a","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":31,"s":[343.949]},{"t":158,"s":[1800]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":1,"s":[596.087,836.292,0],"to":[-36.098,-100,0],"ti":[52.765,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":31,"s":[379.5,236.292,0],"to":[-52.765,0,0],"ti":[0,0,0]},{"t":158,"s":[279.5,836.292,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0,0]},"t":1,"s":[50,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":31,"s":[100,100,100]},{"t":128,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sr","sy":1,"d":1,"pt":{"a":0,"k":5,"ix":3},"p":{"a":0,"k":[0,0],"ix":4},"r":{"a":0,"k":0,"ix":5},"ir":{"a":0,"k":5,"ix":6},"is":{"a":0,"k":0,"ix":8},"or":{"a":0,"k":12,"ix":7},"os":{"a":0,"k":0,"ix":9},"ix":1,"nm":"Polystar Path 1","mn":"ADBE Vector Shape - Star","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8156862745098039,0.5019607843137255,0.00784313725490196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Polystar 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":1,"op":159,"st":1,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"star b","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":23,"s":[288]},{"t":128,"s":[1800]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":3,"s":[596.087,836.292,0],"to":[-39.431,-113.333,0],"ti":[66.098,1.667,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":23,"s":[359.5,156.292,0],"to":[-66.098,-1.667,0],"ti":[0,0,0]},{"t":128,"s":[199.5,826.292,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0,0]},"t":3,"s":[50,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":23,"s":[100,100,100]},{"t":98,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sr","sy":1,"d":1,"pt":{"a":0,"k":5,"ix":3},"p":{"a":0,"k":[0,0],"ix":4},"r":{"a":0,"k":0,"ix":5},"ir":{"a":0,"k":5,"ix":6},"is":{"a":0,"k":0,"ix":8},"or":{"a":0,"k":12,"ix":7},"os":{"a":0,"k":0,"ix":9},"ix":1,"nm":"Polystar Path 1","mn":"ADBE Vector Shape - Star","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9411764705882353,0.4470588235294118,0.07450980392156863,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Polystar 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":3,"op":129,"st":3,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"rec a","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":33,"s":[381.468]},{"t":218,"s":[2520]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":0,"s":[599.5,842,0],"to":[-23.333,-100,0],"ti":[41.333,1.333,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":33,"s":[459.5,242,0],"to":[-41.333,-1.333,0],"ti":[0,0,0]},{"t":218,"s":[351.5,834,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0,0]},"t":0,"s":[50,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":33,"s":[100,100,100]},{"t":188,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,8],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9607843137254902,0.6509803921568628,0.13725490196078433,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":219,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"rec b","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[262.857]},{"t":191,"s":[2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":2,"s":[599.5,842,0],"to":[-23.333,-113.333,0],"ti":[74,5,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":25,"s":[459.5,162,0],"to":[-74,-5,0],"ti":[0,0,0]},{"t":191,"s":[155.5,812,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0,0]},"t":2,"s":[50,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":25,"s":[100,100,100]},{"t":161,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,8],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.3333333333333333,0.19607843137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":2,"op":192,"st":2,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"square a","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":35,"s":[462.385]},{"t":218,"s":[2880]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":0,"s":[599.5,838,0],"to":[-43.333,-123.333,0],"ti":[60,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":35,"s":[339.5,98,0],"to":[-60,0,0],"ti":[0,0,0]},{"t":218,"s":[239.5,838,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0,0]},"t":0,"s":[50,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":35,"s":[100,100,100]},{"t":188,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.45098039215686275,0.07058823529411765,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":219,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"square b","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":27,"s":[285.714]},{"t":191,"s":[2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":2,"s":[599.5,838,0],"to":[-30,-120,0],"ti":[75,3.333,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":27,"s":[419.5,118,0],"to":[-75,-3.333,0],"ti":[0,0,0]},{"t":191,"s":[149.5,818,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0,0]},"t":2,"s":[50,100,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":27,"s":[100,100,100]},{"t":161,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8549019607843137,0.11764705882352941,0.11764705882352941,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":2,"op":192,"st":2,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"streamer b 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":171,"ix":10},"p":{"a":0,"k":[543,427,0],"ix":2},"a":{"a":0,"k":[-157,-245,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.685,-13.314],[0,-14.907],[0,-15.206],[0,-14.907],[0,-14.907],[0,-15.206],[1.754,-14.206],[-3.934,-9.465]],"o":[[-3.895,8.562],[1.872,14.789],[0,15.206],[0,14.907],[0,14.907],[0,15.206],[0,14.314],[-1.803,14.605],[0,0]],"v":[[-156.5,-406],[-166.5,-367],[-146.5,-327],[-166.5,-286],[-146.5,-246],[-166.5,-206],[-146.5,-165],[-166.5,-127],[-156.5,-84]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.9803921568627451,0.8235294117647058,0.7058823529411765,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":13,"s":[4]},{"t":61,"s":[0.5]}],"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":18,"s":[0]},{"t":61,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":13,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":18,"s":[35]},{"t":61,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":13,"op":62,"st":13,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"streamer a 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":151,"ix":10},"p":{"a":0,"k":[454,444,0],"ix":2},"a":{"a":0,"k":[-157,-245,0],"ix":1},"s":{"a":0,"k":[-100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.685,-13.314],[0,-14.907],[0,-15.206],[0,-14.907],[0,-14.907],[0,-15.206],[1.754,-14.206],[-3.934,-9.465]],"o":[[-3.895,8.562],[1.872,14.789],[0,15.206],[0,14.907],[0,14.907],[0,15.206],[0,14.314],[-1.803,14.605],[0,0]],"v":[[-156.5,-406],[-166.5,-367],[-146.5,-327],[-166.5,-286],[-146.5,-246],[-166.5,-206],[-146.5,-165],[-166.5,-127],[-156.5,-84]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8980392156862745,0.3568627450980392,0.13333333333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":10,"s":[4]},{"t":53,"s":[0.5]}],"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":15,"s":[0]},{"t":53,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":10,"s":[0]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":15,"s":[35]},{"t":53,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":10,"op":54,"st":10,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"circle a 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":29,"s":[-371.368]},{"t":191,"s":[-2520]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":1,"s":[599.5,838,0],"to":[-53.333,-113.333,0],"ti":[56.667,-3.333,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":29,"s":[279.5,158,0],"to":[-56.667,3.333,0],"ti":[0,0,0]},{"t":191,"s":[259.5,858,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0.167,0]},"t":1,"s":[100,50,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":29,"s":[100,100,100]},{"t":161,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9607843137254902,0.6509803921568628,0.13725490196078433,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":1,"op":192,"st":1,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"circle b 2","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":21,"s":[-250.839]},{"t":158,"s":[-2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":3,"s":[599.5,838,0],"to":[-53.333,-100,0],"ti":[63,-7,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":21,"s":[279.5,238,0],"to":[-63,7,0],"ti":[0,0,0]},{"t":158,"s":[221.5,880,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0.167,0]},"t":3,"s":[100,50,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":21,"s":[100,100,100]},{"t":128,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9411764705882353,0.4470588235294118,0.07450980392156863,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":3,"op":159,"st":3,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"star a 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":1,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":31,"s":[-397.895]},{"t":191,"s":[-2520]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":1,"s":[596.087,836.292,0],"to":[-9.431,-113.333,0],"ti":[42.765,-3.333,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":31,"s":[539.5,156.292,0],"to":[-42.765,3.333,0],"ti":[0,0,0]},{"t":191,"s":[339.5,856.292,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0.167,0]},"t":1,"s":[100,50,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":31,"s":[100,100,100]},{"t":161,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sr","sy":1,"d":1,"pt":{"a":0,"k":5,"ix":3},"p":{"a":0,"k":[0,0],"ix":4},"r":{"a":0,"k":0,"ix":5},"ir":{"a":0,"k":5,"ix":6},"is":{"a":0,"k":0,"ix":8},"or":{"a":0,"k":12,"ix":7},"os":{"a":0,"k":0,"ix":9},"ix":1,"nm":"Polystar Path 1","mn":"ADBE Vector Shape - Star","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8980392156862745,0.3568627450980392,0.13333333333333333,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Polystar 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":1,"op":192,"st":1,"bm":0},{"ddd":0,"ind":16,"ty":4,"nm":"star b 2","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":3,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":23,"s":[-278.71]},{"t":158,"s":[-2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":3,"s":[596.087,836.292,0],"to":[-12.765,-96.667,0],"ti":[52.765,-3.333,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":23,"s":[519.5,256.292,0],"to":[-52.765,3.333,0],"ti":[0,0,0]},{"t":158,"s":[279.5,856.292,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0.167,0]},"t":3,"s":[100,50,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":23,"s":[100,100,100]},{"t":128,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sr","sy":1,"d":1,"pt":{"a":0,"k":5,"ix":3},"p":{"a":0,"k":[0,0],"ix":4},"r":{"a":0,"k":0,"ix":5},"ir":{"a":0,"k":5,"ix":6},"is":{"a":0,"k":0,"ix":8},"or":{"a":0,"k":12,"ix":7},"os":{"a":0,"k":0,"ix":9},"ix":1,"nm":"Polystar Path 1","mn":"ADBE Vector Shape - Star","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.3333333333333333,0.19607843137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Polystar 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":3,"op":159,"st":3,"bm":0},{"ddd":0,"ind":17,"ty":4,"nm":"rec a 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":33,"s":[-556.875]},{"t":128,"s":[-2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":0,"s":[599.5,842,0],"to":[-16.667,-120,0],"ti":[66.667,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":33,"s":[499.5,122,0],"to":[-66.667,0,0],"ti":[0,0,0]},{"t":128,"s":[199.5,842,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0.167,0]},"t":0,"s":[100,50,100]},{"i":{"x":[0.833,0.833,0.833],"y":[1,0.833,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":33,"s":[100,100,100]},{"t":98,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,8],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.45098039215686275,0.07058823529411765,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":129,"st":0,"bm":0},{"ddd":0,"ind":18,"ty":4,"nm":"rec b 2","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[-306.667]},{"t":218,"s":[-2880]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":2,"s":[599.5,842,0],"to":[-22.62,-109.87,0],"ti":[2.877,-2.055,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":25,"s":[339.5,262,0],"to":[-51.333,36.667,0],"ti":[0,0,0]},{"t":218,"s":[219.5,862,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0.167,0]},"t":2,"s":[100,50,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":25,"s":[100,100,100]},{"t":188,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,8],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9803921568627451,0.8235294117647058,0.7058823529411765,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":2,"op":219,"st":2,"bm":0},{"ddd":0,"ind":19,"ty":4,"nm":"square a 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":35,"s":[-590.625]},{"t":128,"s":[-2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":0,"s":[599.5,838,0],"to":[-20,-90,0],"ti":[36.667,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":35,"s":[479.5,298,0],"to":[-36.667,0,0],"ti":[0,0,0]},{"t":128,"s":[379.5,838,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0.167,0]},"t":0,"s":[100,50,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":35,"s":[100,100,100]},{"t":98,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9333333333333333,0.5725490196078431,0.20392156862745098,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":129,"st":0,"bm":0},{"ddd":0,"ind":20,"ty":4,"nm":"square b 2","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.333],"y":[0]},"t":27,"s":[-333.333]},{"t":218,"s":[-2880]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.167,"y":0.167},"t":2,"s":[599.5,838,0],"to":[-10,-103.333,0],"ti":[50,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":27,"s":[539.5,218,0],"to":[-50,0,0],"ti":[0,0,0]},{"t":218,"s":[299.5,838,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.167,0.167,0.167],"y":[0,0.167,0]},"t":2,"s":[100,50,100]},{"i":{"x":[0.833,0.833,0.833],"y":[0.833,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":27,"s":[100,100,100]},{"t":188,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.7450980392156863,0.3686274509803922,0.18823529411764706,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":2,"op":219,"st":2,"bm":0}]},{"id":"comp_2","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"_small-side","refId":"comp_1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[260,320,0],"ix":2},"a":{"a":0,"k":[400,400,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":800,"h":800,"ip":0,"op":219,"st":0,"bm":0}]},{"id":"comp_3","layers":[{"ddd":0,"ind":1,"ty":0,"nm":"left","refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[400,400,0],"ix":2},"a":{"a":0,"k":[400,400,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":800,"h":800,"ip":13,"op":313,"st":13,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"right","refId":"comp_4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[400,400,0],"ix":2},"a":{"a":0,"k":[400,400,0],"ix":1},"s":{"a":0,"k":[-100,100,100],"ix":6}},"ao":0,"w":800,"h":800,"ip":30,"op":330,"st":30,"bm":0}]},{"id":"comp_4","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"streamer a 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":14,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":13,"s":[219.178,-190.096,0],"to":[-95.333,426.667,0],"ti":[167.333,-560.667,0]},{"t":173,"s":[179.178,989.904,0]}],"ix":2},"a":{"a":0,"k":[-157,-245,0],"ix":1},"s":{"a":0,"k":[-100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.685,-13.314],[0,-14.907],[0,-15.206],[0,-14.907],[0,-14.907],[0,-15.206],[1.754,-14.206],[-3.934,-9.465]],"o":[[-3.895,8.562],[1.872,14.789],[0,15.206],[0,14.907],[0,14.907],[0,15.206],[0,14.314],[-1.803,14.605],[0,0]],"v":[[-156.5,-406],[-166.5,-367],[-146.5,-327],[-166.5,-286],[-146.5,-246],[-166.5,-206],[-146.5,-165],[-166.5,-127],[-156.5,-84]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8549019607843137,0.11764705882352941,0.11764705882352941,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":13,"s":[4]},{"t":176,"s":[0.5]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":18,"s":[0]},{"t":176,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":13,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":18,"s":[40]},{"t":176,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":13,"op":174,"st":13,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"streamer b 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-1.458,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":5,"s":[269.863,-175.455,0],"to":[-110,415.333,0],"ti":[216,-599.333,0]},{"t":173,"s":[69.863,984.545,0]}],"ix":2},"a":{"a":0,"k":[-157,-245,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.685,-13.314],[0,-14.907],[0,-15.206],[0,-14.907],[0,-14.907],[0,-15.206],[1.754,-14.206],[-3.934,-9.465]],"o":[[-3.895,8.562],[1.872,14.789],[0,15.206],[0,14.907],[0,14.907],[0,15.206],[0,14.314],[-1.803,14.605],[0,0]],"v":[[-156.5,-406],[-166.5,-367],[-146.5,-327],[-166.5,-286],[-146.5,-246],[-166.5,-206],[-146.5,-165],[-166.5,-127],[-156.5,-84]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8156862745098039,0.5019607843137255,0.00784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[4]},{"t":173,"s":[0.5]}],"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":10,"s":[0]},{"t":173,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":10,"s":[40]},{"t":173,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":5,"op":174,"st":5,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"circle a 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":8,"s":[0]},{"t":155,"s":[1800]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":8,"s":[325.643,-26.292,0],"to":[-101.333,75.667,0],"ti":[15.333,-507.667,0]},{"t":155,"s":[125.643,835.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":8,"s":[50,100,100]},{"t":155,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9333333333333333,0.5725490196078431,0.20392156862745098,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":8,"op":156,"st":-7,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"circle b 4","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"t":215,"s":[2520]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":2,"s":[619.5,-26.292,0],"to":[-138,77.667,0],"ti":[-2,-497.667,0]},{"t":215,"s":[259.5,835.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":2,"s":[50,100,100]},{"t":215,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.7450980392156863,0.3686274509803922,0.18823529411764706,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":2,"op":216,"st":-13,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"star a 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":6,"s":[0]},{"t":245,"s":[2880]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":6,"s":[376.929,-28,0],"to":[-213.333,157.667,0],"ti":[173.333,-127.667,0]},{"t":245,"s":[116.929,834,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":6,"s":[50,100,100]},{"t":245,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sr","sy":1,"d":1,"pt":{"a":0,"k":5,"ix":3},"p":{"a":0,"k":[0,0],"ix":4},"r":{"a":0,"k":0,"ix":5},"ir":{"a":0,"k":5,"ix":6},"is":{"a":0,"k":0,"ix":8},"or":{"a":0,"k":12,"ix":7},"os":{"a":0,"k":0,"ix":9},"ix":1,"nm":"Polystar Path 1","mn":"ADBE Vector Shape - Star","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8156862745098039,0.5019607843137255,0.00784313725490196,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Polystar 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":6,"op":246,"st":-9,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"star b 4","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"t":125,"s":[1800]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":2,"s":[171.786,-28,0],"to":[0,0,0],"ti":[-161.333,-275.667,0]},{"t":125,"s":[251.786,834,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":2,"s":[50,100,100]},{"t":125,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sr","sy":1,"d":1,"pt":{"a":0,"k":5,"ix":3},"p":{"a":0,"k":[0,0],"ix":4},"r":{"a":0,"k":0,"ix":5},"ir":{"a":0,"k":5,"ix":6},"is":{"a":0,"k":0,"ix":8},"or":{"a":0,"k":12,"ix":7},"os":{"a":0,"k":0,"ix":9},"ix":1,"nm":"Polystar Path 1","mn":"ADBE Vector Shape - Star","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9411764705882353,0.4470588235294118,0.07450980392156863,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Polystar 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":2,"op":126,"st":-13,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"rec a 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4,"s":[0]},{"t":185,"s":[2520]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":4,"s":[428.214,-22.292,0],"to":[-167.333,119.667,0],"ti":[-130.667,-315.667,0]},{"t":185,"s":[228.214,839.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":4,"s":[50,100,100]},{"t":185,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,8],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9607843137254902,0.6509803921568628,0.13725490196078433,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":4,"op":186,"st":-11,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"rec b 4","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":6,"s":[0]},{"t":245,"s":[2880]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":6,"s":[223.071,-22.292,0],"to":[0,0,0],"ti":[-92.571,-383.708,0]},{"t":245,"s":[223.071,839.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":6,"s":[50,100,100]},{"t":245,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,8],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.3333333333333333,0.19607843137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":6,"op":246,"st":-9,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"square a 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4,"s":[0]},{"t":217,"s":[2520]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":4,"s":[120.5,-26.292,0],"to":[13,430.305,0],"ti":[52.221,-418.892,0]},{"t":217,"s":[198.5,833.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":4,"s":[50,100,100]},{"t":217,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.45098039215686275,0.07058823529411765,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":4,"op":218,"st":-11,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"square b 4","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":8,"s":[0]},{"t":215,"s":[2520]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":8,"s":[274.357,-26.292,0],"to":[157.333,415.667,0],"ti":[22.667,-253.667,0]},{"t":215,"s":[114.357,835.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":8,"s":[50,100,100]},{"t":215,"s":[100,50,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.45098039215686275,0.07058823529411765,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":8,"op":216,"st":-7,"bm":0},{"ddd":0,"ind":11,"ty":4,"nm":"streamer a 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":3,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[275.178,-173.096,0],"to":[-87.333,413.333,0],"ti":[177.333,-643.333,0]},{"t":185,"s":[219.178,974.904,0]}],"ix":2},"a":{"a":0,"k":[-157,-245,0],"ix":1},"s":{"a":0,"k":[-100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.685,-13.314],[0,-14.907],[0,-15.206],[0,-14.907],[0,-14.907],[0,-15.206],[1.754,-14.206],[-3.934,-9.465]],"o":[[-3.895,8.562],[1.872,14.789],[0,15.206],[0,14.907],[0,14.907],[0,15.206],[0,14.314],[-1.803,14.605],[0,0]],"v":[[-156.5,-406],[-166.5,-367],[-146.5,-327],[-166.5,-286],[-146.5,-246],[-166.5,-206],[-146.5,-165],[-166.5,-127],[-156.5,-84]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8980392156862745,0.3568627450980392,0.13333333333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[4]},{"t":177,"s":[0.5]}],"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[0]},{"t":177,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":5,"s":[40]},{"t":177,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":186,"st":0,"bm":0},{"ddd":0,"ind":12,"ty":4,"nm":"streamer b 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":9,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":11,"s":[199.863,74.545,0],"to":[-13.363,405.455,0],"ti":[179.333,-430.667,0]},{"t":217,"s":[139.863,834.545,0]}],"ix":2},"a":{"a":0,"k":[-157,-245,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-1.685,-13.314],[0,-14.907],[0,-15.206],[0,-14.907],[0,-14.907],[0,-15.206],[1.754,-14.206],[-3.934,-9.465]],"o":[[-3.895,8.562],[1.872,14.789],[0,15.206],[0,14.907],[0,14.907],[0,15.206],[0,14.314],[-1.803,14.605],[0,0]],"v":[[-156.5,-406],[-166.5,-367],[-146.5,-327],[-166.5,-286],[-146.5,-246],[-166.5,-206],[-146.5,-165],[-166.5,-127],[-156.5,-84]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.9803921568627451,0.8235294117647058,0.7058823529411765,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":11,"s":[4]},{"t":199,"s":[0.5]}],"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16,"s":[0]},{"t":199,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":11,"s":[0]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":16,"s":[40]},{"t":199,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":11,"op":218,"st":11,"bm":0},{"ddd":0,"ind":13,"ty":4,"nm":"circle a 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"t":125,"s":[-1800]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":2,"s":[365.643,-26.292,0],"to":[-101.333,75.667,0],"ti":[15.333,-507.667,0]},{"t":125,"s":[165.643,835.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":2,"s":[100,50,100]},{"t":125,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9607843137254902,0.6509803921568628,0.13725490196078433,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":2,"op":126,"st":-13,"bm":0},{"ddd":0,"ind":14,"ty":4,"nm":"circle b 3","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":8,"s":[0]},{"t":245,"s":[-2880]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":8,"s":[519.5,-26.292,0],"to":[-138,77.667,0],"ti":[-2,-497.667,0]},{"t":245,"s":[159.5,835.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":8,"s":[100,50,100]},{"t":245,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9411764705882353,0.4470588235294118,0.07450980392156863,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":8,"op":246,"st":-7,"bm":0},{"ddd":0,"ind":15,"ty":4,"nm":"star a 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":6,"s":[0]},{"t":245,"s":[-2880]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":6,"s":[416.929,-28,0],"to":[-213.333,157.667,0],"ti":[173.333,-127.667,0]},{"t":245,"s":[156.929,834,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":6,"s":[100,50,100]},{"t":245,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sr","sy":1,"d":1,"pt":{"a":0,"k":5,"ix":3},"p":{"a":0,"k":[0,0],"ix":4},"r":{"a":0,"k":0,"ix":5},"ir":{"a":0,"k":5,"ix":6},"is":{"a":0,"k":0,"ix":8},"or":{"a":0,"k":12,"ix":7},"os":{"a":0,"k":0,"ix":9},"ix":1,"nm":"Polystar Path 1","mn":"ADBE Vector Shape - Star","hd":false},{"ty":"fl","c":{"a":0,"k":[0.8980392156862745,0.3568627450980392,0.13333333333333333,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Polystar 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":6,"op":246,"st":-9,"bm":0},{"ddd":0,"ind":16,"ty":4,"nm":"star b 3","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":8,"s":[0]},{"t":155,"s":[-2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":8,"s":[211.786,-28,0],"to":[0,0,0],"ti":[-161.333,-275.667,0]},{"t":155,"s":[291.786,834,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":8,"s":[100,50,100]},{"t":155,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"sr","sy":1,"d":1,"pt":{"a":0,"k":5,"ix":3},"p":{"a":0,"k":[0,0],"ix":4},"r":{"a":0,"k":0,"ix":5},"ir":{"a":0,"k":5,"ix":6},"is":{"a":0,"k":0,"ix":8},"or":{"a":0,"k":12,"ix":7},"os":{"a":0,"k":0,"ix":9},"ix":1,"nm":"Polystar Path 1","mn":"ADBE Vector Shape - Star","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.3333333333333333,0.19607843137254902,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Polystar 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":8,"op":156,"st":-7,"bm":0},{"ddd":0,"ind":17,"ty":4,"nm":"rec a 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4,"s":[0]},{"t":185,"s":[-2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":4,"s":[468.214,-22.292,0],"to":[-167.333,119.667,0],"ti":[-130.667,-315.667,0]},{"t":185,"s":[268.214,839.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":4,"s":[100,50,100]},{"t":185,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,8],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9529411764705882,0.45098039215686275,0.07058823529411765,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":4,"op":186,"st":-11,"bm":0},{"ddd":0,"ind":18,"ty":4,"nm":"rec b 3","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":6,"s":[0]},{"t":245,"s":[-2880]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":6,"s":[263.071,-22.292,0],"to":[0,143.667,0],"ti":[-114.571,-267.708,0]},{"t":245,"s":[263.071,839.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":6,"s":[100,50,100]},{"t":245,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,8],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9803921568627451,0.8235294117647058,0.7058823529411765,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":6,"op":246,"st":-9,"bm":0},{"ddd":0,"ind":19,"ty":4,"nm":"square a 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"t":217,"s":[-2520]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":2,"s":[160.5,-26.292,0],"to":[13,430.305,0],"ti":[52.221,-418.892,0]},{"t":217,"s":[238.5,833.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":2,"s":[100,50,100]},{"t":217,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9333333333333333,0.5725490196078431,0.20392156862745098,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":2,"op":218,"st":-13,"bm":0},{"ddd":0,"ind":20,"ty":4,"nm":"square b 3","sr":1,"ks":{"o":{"a":0,"k":50,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":4,"s":[0]},{"t":185,"s":[-2160]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":4,"s":[314.357,-26.292,0],"to":[157.333,415.667,0],"ti":[22.667,-253.667,0]},{"t":185,"s":[154.357,835.708,0]}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":4,"s":[100,50,100]},{"t":185,"s":[50,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[16,16],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.7450980392156863,0.3686274509803922,0.18823529411764706,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":4,"op":186,"st":-11,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"cannon (small - left)","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[76,451.99999999999994,0],"ix":2},"a":{"a":0,"k":[0,360,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":480,"h":720,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"cannon (small - right)","refId":"comp_2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[533,451.99999999999994,0],"ix":2},"a":{"a":0,"k":[479.994,360,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":480,"h":720,"ip":0,"op":300,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"cannon (small - top)","refId":"comp_3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[304,408,0],"ix":2},"a":{"a":0,"k":[400,400,0],"ix":1},"s":{"a":0,"k":[102,102,100],"ix":6}},"ao":0,"w":800,"h":800,"ip":0,"op":300,"st":0,"bm":0}],"markers":[]}')},8518:(e,t,a)=>{"use strict";a.d(t,{Eo:()=>g});var n=a(64467),i=a(36596),r=a(1081),s=a(30038),o=a(95093),l=a.n(o),d=a(55127),c=a.n(d),u=a(15283);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(0,r.Mz)(e=>e,e=>{var t;const[a]=e.UndoRedoReducer.undoStack.slice(-1);return a&&"".concat(c()(u.qg[a.type],null===(t=a.data)||void 0===t?void 0:t.length,!0)," ").concat(a.deletedOrArchived," successfully")}),(0,r.Mz)(e=>e,e=>{var t;const[a]=e.UndoRedoReducer.undoStack.slice(-1);return a&&"Restoring ".concat(c()(u.qg[a.type],null===(t=a.data)||void 0===t?void 0:t.length,!0))}),(0,r.Mz)(e=>e,e=>!!e.UndoRedoReducer.timerDueTime);const g=(0,s.zD)("doActionThunk",async(e,t)=>{let{action:a}=e;const{getState:n}=t,r=t.dispatch,s=n();if("delete-board-user-list"===a.type){var o;const e=s.DBBoardUserReducer.entities[a.data[0]]._id;await r(i.Fv8.find({_id:e}));null===(o=(0,i.Em_)(s.DBBoardUserReducer,{_id:e}))||void 0===o||o.profile,s.DBBoardsReducer.entities[s.BoardsReducer.selectedBoardId]}const l=u.Po[a.type];if(!l)throw new Error("Action ".concat(a.type," not suppored!"));{const e=await l.doAction({data:a.data,deletedOrArchived:a.deletedOrArchived,thunkApi:{state:s,dispatch:r}});r(u.EQ.pushUndoAction(m(m({},a),{},{doActionResponse:e}))),r(y())}}),y=((0,s.zD)("undoActionThunk",async(e,t)=>{const{getState:a}=t,n=t.dispatch,i=a(),[r]=i.UndoRedoReducer.undoStack.slice(-1),s=u.Po[r.type];if(!s)throw new Error("Action ".concat(r.type," not suppored!"));s.undoAction({doActionResponse:r.doActionResponse,data:r.data,thunkApi:{state:i,dispatch:n}}),n(u.EQ.pushRedoAction(r))}),(0,s.zD)("startUndoToastTimer",async(e,t)=>{const a=t.dispatch;a(u.EQ.showUndoToast());const n=setTimeout(()=>{a(u.EQ.clearUndoToast())},u.wr);a(u.EQ.updateToastTimerHandler(n))}));(0,s.zD)("pauseUndoToastTimer",async(e,t)=>{const{getState:a}=t,n=a();n.UndoRedoReducer.timerHandle&&clearTimeout(n.UndoRedoReducer.timerHandle)}),(0,s.zD)("resumeUndoToastTimer",async(e,t)=>{const{getState:a}=t,n=t.dispatch,i=a(),r=l()(i.UndoRedoReducer.timerDueTime).diff(l()(),"milliseconds"),s=setTimeout(()=>{n(u.EQ.clearUndoToast())},r);n(u.EQ.updateToastTimerHandler(s))}),(0,s.zD)("stopUndoToastTimer",async(e,t)=>{const{getState:a}=t,n=t.dispatch,i=a();i.UndoRedoReducer.timerHandle&&(clearTimeout(i.UndoRedoReducer.timerHandle),n(u.EQ.clearUndoToast()))})},9777:(e,t,a)=>{"use strict";a.d(t,{ReactComponent:()=>o});var n,i,r=a(96540);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(null,arguments)}const o=e=>r.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 425.41 425.41",style:{enableBackground:"new 0 0 425.41 425.41"},xmlSpace:"preserve"},e),n||(n=r.createElement("circle",{className:"add_svg__st0",cx:212.71,cy:212.71,r:212.71})),i||(i=r.createElement("path",{className:"add_svg__st1",d:"M315.27 190.41h-75.81c-2.46 0-4.46-2-4.46-4.46v-75.81c0-12.31-9.98-22.3-22.3-22.3-12.31 0-22.3 9.98-22.3 22.3v75.81c0 2.46-2 4.46-4.46 4.46h-75.81c-12.31 0-22.3 9.98-22.3 22.3 0 12.31 9.98 22.3 22.3 22.3h75.81c2.46 0 4.46 2 4.46 4.46v75.81c0 12.31 9.98 22.3 22.3 22.3 12.31 0 22.3-9.98 22.3-22.3v-75.81c0-2.46 2-4.46 4.46-4.46h75.81c12.31 0 22.3-9.98 22.3-22.3s-9.98-22.3-22.3-22.3z"})))},11988:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>u});var n=a(30038),i=a(69886),r=a(87435);const s=(0,n.zD)("messageInfo/fetchMessageInfo",async(e,t)=>{let{waMessageKey:a,getMessageInfoMutation:n}=e,{rejectWithValue:s}=t;try{let e;if((0,r.B2)())e=await i.B.getMessageInfo(a);else{if(!n)throw new Error("getMessageInfoMutation is required in website context");e=await n({waMessageKey:a}).unwrap()}return{waMessageKey:a,messageInfo:e}}catch(e){return s(e instanceof Error?e.message:"Failed to fetch message info")}}),o=(0,n.Z0)({name:"messageInfo",initialState:{messageInfoMap:{},loadingStates:{},errorStates:{}},reducers:{clearMessageInfo:(e,t)=>{const a=t.payload;delete e.messageInfoMap[a],delete e.loadingStates[a],delete e.errorStates[a]},clearAllMessageInfo:e=>{e.messageInfoMap={},e.loadingStates={},e.errorStates={}},setMessageInfo:(e,t)=>{const{waMessageKey:a,messageInfo:n}=t.payload;e.messageInfoMap[a]=n,delete e.loadingStates[a],delete e.errorStates[a]}},extraReducers:e=>{e.addCase(s.pending,(e,t)=>{const a=t.meta.arg.waMessageKey;e.loadingStates[a]=!0,delete e.errorStates[a]}).addCase(s.fulfilled,(e,t)=>{const{waMessageKey:a,messageInfo:n}=t.payload;e.loadingStates[a]=!1,n&&(e.messageInfoMap[a]=n),delete e.errorStates[a]}).addCase(s.rejected,(e,t)=>{const a=t.meta.arg.waMessageKey;e.loadingStates[a]=!1,e.errorStates[a]=t.payload||"Failed to fetch message info"})}}),{clearMessageInfo:l,clearAllMessageInfo:d,setMessageInfo:c}=o.actions,u=o.reducer},12037:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l});const n=(0,a(30038).Z0)({name:"toolSettingsModal",initialState:{isOpen:!1,toolName:null,initialSettings:{},nodeId:null,isToolsDialogOpen:!1},reducers:{openToolSettingsModal:(e,t)=>{e.isOpen=!0,e.toolName=t.payload.toolName,e.nodeId=t.payload.nodeId,e.initialSettings=t.payload.initialSettings},closeToolSettingsModal:e=>{e.isOpen=!1},openToolsDialog:(e,t)=>{e.isToolsDialogOpen=!0,e.nodeId=t.payload.nodeId},closeToolsDialog:e=>{e.isToolsDialogOpen=!1,e.nodeId=null}}}),{openToolSettingsModal:i,closeToolSettingsModal:r,openToolsDialog:s,closeToolsDialog:o}=n.actions,l=n.reducer},12142:(e,t,a)=>{"use strict";a.d(t,{P:()=>n});let n=function(e){return e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.ERROR="error",e.UNKNOWN="unknown",e.RECONNECTING="reconnecting",e.AUTHENTICATED="authenticated",e.UNAUTHENTICATED="unauthenticated",e}({})},12239:(e,t,a)=>{"use strict";a.d(t,{X_:()=>b,Eo:()=>h,mf:()=>x,by:()=>A,xu:()=>p,Vr:()=>I,XK:()=>y,Jr:()=>u,mB:()=>m,B$:()=>D,NI:()=>g});var n=a(64467),i=a(95093),r=a.n(i);class s{constructor(e){(0,n.A)(this,"id",void 0),(0,n.A)(this,"_id",void 0),(0,n.A)(this,"status",void 0),(0,n.A)(this,"origStatus",void 0),(0,n.A)(this,"referenceNumber",void 0),(0,n.A)(this,"plan_id",void 0),(0,n.A)(this,"plan",void 0),(0,n.A)(this,"start_time",void 0),(0,n.A)(this,"type",void 0),(0,n.A)(this,"recurrency_period",void 0),(0,n.A)(this,"workspace",void 0),(0,n.A)(this,"subscription_id",void 0),(0,n.A)(this,"createdAt",void 0),(0,n.A)(this,"updatedAt",void 0),(0,n.A)(this,"expiredDate",void 0),(0,n.A)(this,"next_billing_at",void 0),(0,n.A)(this,"billing_info",void 0),(0,n.A)(this,"entitlementList",void 0),(0,n.A)(this,"chargesList",void 0),Object.assign(this,e),this.start_time=r()(this.start_time).toDate()}getType(){var e;return this.type?this.type:null!==(e=this.plan_id)&&void 0!==e&&e.startsWith("P-")?"paypal":void 0}getPlanFromMap(){if(this.plan&&"intervalCount"in this.plan&&"intervalUnit"in this.plan)return this.plan}get renewalTime(){let e;switch(this.getType()){case void 0:case"paypal":{const a=this.getPlanFromMap();if(a){var t;const n=(null===(t=this.billing_info)||void 0===t||null===(t=t.last_payment)||void 0===t?void 0:t.time)||this.start_time;e=r().utc(n).add(null==a?void 0:a.intervalCount,null==a?void 0:a.intervalUnit)}break}case"hotmart":case"bluesnap":{const t=this.getPlanFromMap();t&&(e=r().utc(this.start_time).add(null==t?void 0:t.intervalCount,null==t?void 0:t.intervalUnit));break}case"chargebee":var a;e=r().utc(1e3*(null!==(a=this.next_billing_at)&&void 0!==a?a:0))}return e}get isActive(){var e;let t=!1;switch(this.getType()){case void 0:case"paypal":var a,n;t=null!==(a="ACTIVE"===this.status&&(null===(n=this.renewalTime)||void 0===n?void 0:n.isAfter(r()())))&&void 0!==a&&a;break;case"bluesnap":case"hotmart":var i,s,o;t=null!==(i="ACTIVE"===(null===(s=this.status)||void 0===s?void 0:s.toUpperCase())||(null===(o=this.renewalTime)||void 0===o?void 0:o.isAfter(r()())))&&void 0!==i&&i;break;case"chargebee":t=["active","non_renewing"].indexOf(null!==(e=this.status)&&void 0!==e?e:"")>-1;break;case"trial":t=r()(this.expiredDate).isAfter(r()())}return t}get isLive(){let e=!1;switch(this.getType()){case void 0:case"paypal":var t;e="active"===(null===(t=this.origStatus)||void 0===t?void 0:t.toLowerCase());break;case"bluesnap":case"hotmart":var a;e="active"===(null===(a=this.origStatus)||void 0===a?void 0:a.toLowerCase());break;case"chargebee":e="active"===this.status}return e}get planId(){let e="";switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":var t;e=null!==(t=this.plan_id)&&void 0!==t?t:""}return e}get planName(){let e="";switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":var t,a;e=null!==(t=null===(a=this.plan)||void 0===a?void 0:a.planName)&&void 0!==t?t:"";break;case"chargebee":var n;e=null!==(n=this.plan_id)&&void 0!==n?n:""}return e}get planType(){let e="";switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":var t,a;e=null!==(t=null===(a=this.plan)||void 0===a?void 0:a.planType)&&void 0!==t?t:"";break;case"chargebee":var n;[e]=(null!==(n=this.plan_id)&&void 0!==n?n:"").split("-")}return e}get order(){let e=0;switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":var t,a;e=null!==(t=null===(a=this.plan)||void 0===a?void 0:a.order)&&void 0!==t?t:0;break;case"chargebee":{const[t]=this.plan_id.split("-");switch(t){case"Basic":e=1;break;case"Standard":e=2;break;case"Pro":e=3}break}}return e}get seatCount(){let e=0;switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":var t,a;e=null!==(t=null===(a=this.plan)||void 0===a?void 0:a.seatCount)&&void 0!==t?t:0;break;case"chargebee":var n,i;e=null!==(n=null===(i=this.plan)||void 0===i?void 0:i.quantity)&&void 0!==n?n:0}return e}get messageLimit(){let e=0;switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":var t,a;e=null!==(t=null===(a=this.plan)||void 0===a?void 0:a.messageLimit)&&void 0!==t?t:1;break;case"chargebee":var n,i,r;e=null!==(n=this.plan_id)&&void 0!==n&&n.includes("Standard")||null!==(i=this.plan_id)&&void 0!==i&&i.includes("Pro")||null!==(r=this.plan_id)&&void 0!==r&&r.includes("Basic")?-1:1}return-1===e?1/0:e}get hasBulk(){let e=!1;switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":{var t;const a=this.getPlanFromMap();e=null!==(t=null==a?void 0:a.bulk)&&void 0!==t&&t;break}case"chargebee":var a;e=(null!==(a=this.entitlementList)&&void 0!==a?a:[]).some(e=>"remove-branding"===e.feature_id)}return e}hasTasks(){let e=!1;switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":{var t;const a=this.getPlanFromMap();e=null!==(t=null==a?void 0:a.tasks)&&void 0!==t&&t;break}case"chargebee":var a;e=(null!==(a=this.entitlementList)&&void 0!==a?a:[]).some(e=>"unlimited-tasks"===e.feature_id)}return e}hasSocket(){let e=!1;switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":{var t;const a=this.getPlanFromMap();e=null!==(t=null==a?void 0:a.bulk)&&void 0!==t&&t;break}case"chargebee":var a;e=(null!==(a=this.entitlementList)&&void 0!==a?a:[]).some(e=>"offline-socket"===e.feature_id)}return e}hasProAccount(){let e=!1;switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":{var t;const a=this.getPlanFromMap();e=null!==(t=null==a?void 0:a.bulk)&&void 0!==t&&t;break}case"chargebee":var a;e=(null!==(a=this.entitlementList)&&void 0!==a?a:[]).some(e=>"offline-socket"===e.feature_id)}return e}getAllowedEngineCount(){return this.hasSocket()?1:0}get price(){var e,t,a;const n=null===(e=this.plan)||void 0===e?void 0:e.price,i=(null!==(t=null===(a=this.plan)||void 0===a?void 0:a.amount)&&void 0!==t?t:0)/100;return null!=n?n:i}get isWorkspaceSubscription(){return!1}get billingPeriod(){let e="month";switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":{var t;const a=this.getPlanFromMap();e=null!==(t=null==a?void 0:a.intervalUnit)&&void 0!==t?t:"month";break}case"chargebee":{const[t,a,n]=this.plan_id.split("-");e="Monthly"===n?"month":"year";break}}return e}get amount(){let e;switch(this.getType()){case void 0:case"paypal":case"hotmart":case"bluesnap":{var t;const a=this.getPlanFromMap();e=null!==(t=null==a?void 0:a.price)&&void 0!==t?t:0;break}case"chargebee":var a,n;e=(null!==(a=null===(n=this.plan)||void 0===n?void 0:n.amount)&&void 0!==a?a:0)/100;break;case"trial":e=0}return e}}var o=a(56855),l=a(1081),d=a(50570),c=a(36596);const u=(0,l.Mz)([e=>e.DBUserMessageReducer.entities,e=>{var t;return null===(t=e.WhatsAppReducer.currentChat)||void 0===t||null===(t=t.id)||void 0===t?void 0:t._serialized}],(e,t)=>{if(!t)return[];return Object.keys(e).map(t=>e[t]).filter((0,d.Ay)({$or:[{deleted:{$exists:!1}},{deleted:!1}],status:{$in:["pending","sending","sent","failed"]},contactList:{$elemMatch:{id:t}}})).sort((e,t)=>{if(!e.dueDate&&!t.dueDate)return 0;if(!e.dueDate)return 1;if(!t.dueDate)return-1;return new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime()})}),p=((0,l.Mz)([u],e=>e.length),(0,l.Mz)([u],e=>{const t={pending:0,inTransit:0,failed:0,total:e.length};return e.forEach(e=>{"pending"===e.status?t.pending++:"sent"===e.status||"sending"===e.status?t.inTransit++:"failed"===e.status&&t.failed++}),t}),(0,l.Mz)([u,(e,t)=>t],(e,t)=>e.filter(e=>"pending"===e.status?t.pending:"sent"===e.status||"sending"===e.status?t.sending:"failed"!==e.status||t.failed)),(0,l.Mz)([e=>e.DBUserReducer,e=>{var t;return null===(t=e.UserReducer)||void 0===t?void 0:t.userId},e=>{var t;return null===(t=e.UserReducer)||void 0===t?void 0:t.user}],(e,t,a)=>{if(a)return a;return(0,c.Gwv)(e,{_id:t})})),m=(0,l.Mz)([e=>e],e=>{var t;const a=null==e||null===(t=e.UserReducer)||void 0===t?void 0:t.user;if(a)return a;const[n]=(0,c.rBP)(e.DBUserReducer,{_id:e.UserReducer.userId});return n}),g=((0,l.Mz)([e=>e,e=>m(e)],(e,t)=>!!t),(0,l.Mz)([e=>e.DBUserReducer,e=>p(e)],(e,t)=>null==t?void 0:t.phone),(0,l.Mz)([e=>e.DBUserReducer,e=>p(e)],(e,t)=>null==t?void 0:t.email),(0,l.Mz)([p],e=>e?new o.K(e):void 0)),y=((0,l.Mz)([e=>e.UserReducer.user],e=>(null==e?void 0:e.isDarkMode)||!1),(0,l.Mz)([e=>e.UserReducer.whatsappDarkMode],e=>e),(0,l.Mz)([m],e=>null==e?void 0:e.defaultChatCountryCode),(0,l.Mz)([e=>e,g],(e,t)=>(0,c.UlE)(e.DBWorkspaceReducer,{_id:null==t?void 0:t.currentWorkspace}))),h=((0,l.Mz)([e=>e,g],(e,t)=>(0,c.rzl)(e.DBLogReducer,{triggerById:null==t?void 0:t._id}).reduce((e,t)=>e+(t.userEngagementPoints||0),0)),(0,l.Mz)([e=>e,g],(e,t)=>{let a=!1;const n=(0,c.UlE)(e.DBWorkspaceReducer,{_id:null==t?void 0:t.currentWorkspace});return n&&t&&(a=n.owner===t._id),a})),v=((0,l.Mz)([e=>e,g,y],(e,t,a)=>(null==a?void 0:a._id)!==(null==t?void 0:t.currentWorkspace)),(0,l.Mz)(e=>e,g,y,(e,t,a)=>{let n=!1;if(t){n=!!(0,c.H47)(e.DBWorkspaceUserReducer,{userId:null==t?void 0:t._id,workspaceId:null==a?void 0:a._id})}return n}),(0,l.Mz)(e=>e,g,(e,t)=>(0,c.UlE)(e.DBWorkspaceReducer,{owner:null==t?void 0:t._id})),(0,l.Mz)(e=>(0,c.FD1)(e.DBSubscriptionReducer,{}),e=>(null!=e?e:[]).map(e=>new s(e)))),f=(0,l.Mz)([e=>e,e=>p(e),y],(e,t,a)=>{let n=[];const i=a?(0,c.FD1)(e.DBSubscriptionReducer,{$or:[{_id:{$in:null==a?void 0:a.subscriptionList}},{subscription_id:null==a?void 0:a.chargebeeSubscriptionId},{workspaceId:null==a?void 0:a._id}]}):[];return n=(null!=i?i:[]).map(e=>new s(e)),n.sort((e,t)=>r()(t.createdAt).diff(r()(e.createdAt))),n}),b=((0,l.Mz)([e=>e,e=>p(e),y],(e,t,a)=>(a?(0,c.FD1)(e.DBSubscriptionReducer,{_id:{$in:null==a?void 0:a.subscriptionList}}):[]).some(e=>"trial"===e.type&&r()(e.expiredDate).isBefore(r()()))),(0,l.Mz)([e=>e,e=>p(e),y],(e,t,a)=>(a?(0,c.FD1)(e.DBSubscriptionReducer,{_id:{$in:null==a?void 0:a.subscriptionList}}):[]).some(e=>"trial"!==e.type)),(0,l.Mz)([e=>e,e=>f(e)],(e,t)=>{const a=(null!=t?t:[]).map(e=>new s(e));a.sort((e,t)=>r()(t.updatedAt).diff(r()(e.updatedAt)));const[n]=a;return n}),(0,l.Mz)([e=>e,e=>f(e)],(e,t)=>{const a=(null!=t?t:[]).map(e=>new s(e)).filter(e=>null==e?void 0:e.isActive);a.sort((e,t)=>r()(t.createdAt).diff(r()(e.createdAt))),a.sort((e,t)=>"chargebee"===e.type&&"chargebee"!==t.type?-1:"chargebee"!==e.type&&"chargebee"===t.type?1:0);const[n]=a;return n})),k=(0,l.Mz)([e=>e,e=>f(e)],(e,t)=>{const a=(null!=t?t:[]).map(e=>new s(e));a.sort((e,t)=>r()(t.createdAt).diff(r()(e.createdAt))),a.sort((e,t)=>"chargebee"===e.type&&"chargebee"!==t.type?-1:"chargebee"!==e.type&&"chargebee"===t.type?1:0);const[n]=a;return n}),w=((0,l.Mz)([e=>e,e=>f(e)],(e,t)=>{const a=(null!=t?t:[]).map(e=>new s(e));return a.sort((e,t)=>r()(t.createdAt).diff(r()(e.createdAt))),a.sort((e,t)=>"chargebee"===e.type&&"chargebee"!==t.type?-1:"chargebee"!==e.type&&"chargebee"===t.type?1:0),a}),(0,l.Mz)(b,e=>null==e?void 0:e.type),(0,l.Mz)(k,e=>null==e?void 0:e.type),(0,l.Mz)([e=>e,e=>v(e)],(e,t)=>{const a=(null!=t?t:[]).filter(e=>"chargebee"===(null==e?void 0:e.type));a.sort((e,t)=>r()(t.createdAt).diff(r()(e.createdAt)));const[n]=a;return n}),(0,l.Mz)([e=>e,e=>f(e)],(e,t)=>{const a=(null!=t?t:[]).map(e=>new s(e)).filter(e=>"chargebee"===(null==e?void 0:e.type));a.sort((e,t)=>r()(t.createdAt).diff(r()(e.createdAt)));const[n]=a;return n}),(0,l.Mz)([b],e=>void 0!==e)),x=((0,l.Mz)([e=>(0,c.FD1)(e,{}),w],(e,t)=>t&&e.length>0),(0,l.Mz)(b,e=>{var t;return null!==(t=null==e?void 0:e.messageLimit)&&void 0!==t?t:1})),D=((0,l.Mz)((e,t)=>t,x,(e,t)=>e>t),(0,l.Mz)([e=>e],e=>{const[t]=(0,c.rBP)(e.DBUserReducer,{_id:e.UserReducer.userId});return null==t?void 0:t._id})),I=(0,l.Mz)([e=>e.DBSessionReducer,e=>{var t;return null===(t=e.UserReducer)||void 0===t?void 0:t.userId}],(e,t)=>(0,c.JGD)(e,{owner:t},{updatedAt:-1})),A=((0,l.Mz)(I,e=>null==e?void 0:e.qrcode),(0,l.Mz)(I,e=>null==e?void 0:e._id)),T=((0,l.Mz)(I,e=>null==e?void 0:e.status),(0,l.Mz)(I,e=>(null==e?void 0:e.active)&&"connected"===(null==e?void 0:e.status)),(0,l.Mz)([m],e=>{var t,a,n;if(null!=e&&null!==(t=e.preferences)&&void 0!==t&&t.calendarStartDay||0===(null==e||null===(a=e.preferences)||void 0===a?void 0:a.calendarStartDay))return null==e||null===(n=e.preferences)||void 0===n?void 0:n.calendarStartDay;return T()}),()=>{const e=navigator.language||"en-us";r().locale(e);return 0===r().localeData().firstDayOfWeek()?0:1});(0,l.Mz)([m],e=>null==e?void 0:e.role)},12492:(e,t,a)=>{"use strict";a.d(t,{P:()=>r});var n=a(96540),i=a(35111);function r(e){const{portalContainer:t}=(0,i.j)();return n.useMemo(()=>{if(t)return ShadowRoot,t;if(null!=e&&e.current)try{const t=e.current.getRootNode();if(t instanceof ShadowRoot){const e=t.querySelector(".btcss-portal-container");return e||t}}catch(e){}return document.body},[t,e])}},13153:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(36596),i=a(46283),r=a(66159),s=a(44010),o=a(96710),l=a(44862),d=a(42636),c=a(74848);const u=function(e){let{taskId:t}=e;const a=(0,s.jL)(),u=(0,s.GV)(e=>(0,d.Ou)(e,t));return(0,c.jsxs)("button",{className:l.A.convsBtn,disabled:(0,n.qfk)(t),onClick:function(){!function(e){let t,a=window.location.href;t=a.includes("taskId")?a.replace(/taskId=[^&]+/,"taskId=".concat(e)):a+"&taskId=".concat(e);window.history.pushState({path:t},"",t)}(t),a((0,i.eN)(t)),a(r.L.setTaskViewSideDrawerOpenWith("ExtraDataPanel"))},children:[(0,c.jsx)(o.L3l,{color:(0,n.qfk)(t)?"lightgrey":"#809ba8",size:18}),u>0&&(0,c.jsx)("div",{className:l.A.convsBtnBadge,children:u})]})};a(96540);function p(e){let{taskId:t}=e;return(0,c.jsx)(u,{taskId:t})}},13303:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={DEFAULT_TITLE:"Blueticks",asset_key:"blueticks",google_client_id:"143723739146-oa75527ckplc3kb9nk8q41redtoq6t18.apps.googleusercontent.com",GTM_ID:"",GA_ID:"",CLARITY_ID:"",TIKTOK_ID:"",FB_PIXEL_ID:"",AW_ID:"",WS_ID:"",HJ_ID:0,HJ_SV:0,isProd:!1,ENV:"devserver",EXTENTION_ID:"adgnjhngogijkkppficiiepmjebijinl",SEND_UNIT:!1,GATEWAY_ENDPOINT:"https://gateway.blueticks.co",NOTIFIER_ENDPOINT:"https://blueticks-staging.herokuapp.com",VZNLYTICS_ENDPOINT:"https://analytics.blueticks.co",API_ENDPOINT:"https://api-dev.blueticks.co",PRICING_PAGE:"https://app.blueticks.co",APP_ENDPOINT:"https://dev-blueticks.netlify.app",HOMEPAGE:"https://blueticks.co",LOGO:"/img/tudu-logo.svg",LOGO2:"/img/tudo-logo-icon.svg",PAYPAL_CLIENT_ID:"AafpAM2aA4Lqus7h_iAa2szoitZM7-hkyZaU5jjYOtv-KqcuZCpFFlpbluVp4_F-6fQhcIui7AWZs9Ah",BLUESNAP_ENDPOINT:"https://bluesnap.com",BLUESNAP_STORE_ID:"648495",BLUESNAP_REDIRECT_ENC:"y3BO7mSu04vXEh55QSFI51vnnO%2FrL2uZ10%2FPUF2Fh8urn%2BFdpIn4tyxpPqhcCnm%2BVOdueGkdnZpbpSjw%2Fj215nog250lMwUyqKry1OkfDap8daL1Nxv4dJeDeSXd9Ai6vUKYhCKeZaQ%2ByyfLkDPwJwlx1BGnPQYlRYkYiZBknRcVCl6kAgHv5ZTKEc3YMGPO4kc9iJJQnqXsotsbI3Z5jgJ5rXvslcQJXPihvCycO2%2FJfYH%2F2cr5s6ZLhSZZZaZY",extensionStoreLink:"https://chrome.google.com/webstore/detail/blueticks/adgnjhngogijkkppficiiepmjebijinl",PRODUCTS:{personal:"PROD-72S99618JL130302",professional:"PROD-47W322527S599700R"},BLUESNAP_PLANS:{3984540:{id:"3984540",key:"personal-monthly",planName:"Scheduler Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!1,order:1,price:5,planType:"Scheduler"},3984542:{id:"3984542",key:"personal-annual",planName:"Scheduler Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!1,order:1,price:36,planType:"Scheduler"},3984586:{id:"3984586",key:"tasks-monthly",planName:"Manager Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!1,price:29,order:2,planType:"Manager"},3984588:{id:"3984588",key:"tasks-annual",planName:"Manager Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!1,price:240,order:2,planType:"Manager"},4031094:{id:"4031094",key:"tasks-monthly",planName:"Manager Monthly M1",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!1,price:9,order:2,planType:"Manager"},4031092:{id:"4031092",key:"tasks-annual",planName:"Manager Annual A1",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!1,price:84,order:2,planType:"Manager"},3984594:{id:"3984594",key:"professional-monthly",planName:"Campaigner Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!0,tasks:!0,order:3,price:49,planType:"Campaigner"},3984596:{id:"3984596",key:"professional-annual",planName:"Campaigner Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!0,tasks:!0,order:3,price:348,planType:"Campaigner"},4031090:{id:"4031090",key:"professional-monthly",planName:"Campaigner Monthly M1",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!0,tasks:!0,order:3,price:19,planType:"Campaigner"},4031088:{id:"4031088",key:"professional-annual",planName:"Campaigner Annual A1",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!0,tasks:!0,order:3,price:180,planType:"Campaigner"}},PLANS:{"P-2EV08809U66066511L45HVQQ":{id:"P-2EV08809U66066511L45HVQQ",key:"personal-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!1,order:1},"P-4CT097158P9389945L45HWKY":{id:"P-4CT097158P9389945L45HWKY",key:"personal-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!1,order:1},"P-5LL88227H7791351XMC3LKOA":{id:"P-5LL88227H7791351XMC3LKOA",key:"tasks-annual",planName:"Tasks - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!1,order:2},"P-6BE32461V8593561LMC3LIMI":{id:"P-6BE32461V8593561LMC3LIMI",key:"tasks-monthly",planName:"Tasks - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!1,order:2},"P-1DS464590R230570GL52SZ7I":{id:"P-1DS464590R230570GL52SZ7I",key:"professional-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!0,tasks:!0,order:3},"P-1CW95607EC450134SL52S6DY":{id:"P-1CW95607EC450134SL52S6DY",key:"professional-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!0,tasks:!0,order:3}}}},13364:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>h,I0:()=>o,PL:()=>s,gV:()=>r,jB:()=>g,jN:()=>p,oN:()=>i,po:()=>d,ri:()=>l});const n={authenticationStatus:"idle",signup:{email:"",password:""},socketModalOpen:!1,hideSocketModal:!1,accessToken:void 0,direction:"ltr",userWhatsappDirection:"ltr",whatsappDarkMode:!1},i=(0,a(30038).Z0)({name:"user",initialState:n,reducers:{setUserAndCredentials:(e,t)=>{var a;e.userId=null===(a=t.payload.user)||void 0===a?void 0:a._id,e.accessToken=t.payload.accessToken,e.user=t.payload.user},setUser:(e,t)=>{e.user=t.payload},logout:e=>{delete e.userId,delete e.accessToken,delete e.user,e.authenticationStatus="idle"},clearAuthError:e=>{delete e.authError},setAuthenticationStatus:(e,t)=>{e.authenticationStatus=t.payload},setSignupState:(e,t)=>{e.signup=t.payload},setHideSocketModal:(e,t)=>{e.hideSocketModal=t.payload},setUserDirection(e,t){let{payload:a}=t;e.direction=a},setUserWhatsappDirection(e,t){let{payload:a}=t;e.userWhatsappDirection=a},setAuthError:(e,t)=>{e.authError=t.payload},setWhatsappDarkMode:(e,t)=>{e.whatsappDarkMode=t.payload}}}),{setUser:r,setUserAndCredentials:s,clearAuthError:o,logout:l,setAuthenticationStatus:d,setSignupState:c,setHideSocketModal:u,setUserDirection:p,setUserWhatsappDirection:m,setAuthError:g,setWhatsappDarkMode:y}=i.actions,h=i.reducer},13772:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});const n=(0,a(30038).Z0)({name:"labelsSlice",initialState:{activeLabelId:"",isNewLabelModalOpen:!1,isSortChatToLabelModalOpen:!1,isLabelEditting:!1,isLabelDeletting:!1,label:{icon:"",name:""},labelNetWorkStatus:"",contactLabels:[],openIssueContactLabels:[],loadingState:[],customSnoozeWaContactId:"",snoozeData:{},isSnoozePopperOpen:!1,toastList:[],activeContactIds:[]},reducers:{toggleNewLabel:(e,t)=>{let{payload:a}=t;e.isNewLabelModalOpen=a},toggleSortChatToLabelModalOpen:(e,t)=>{let{payload:a}=t;e.isSortChatToLabelModalOpen=a},toggleEditLabel:(e,t)=>{let{payload:a}=t;e.isLabelEditting=a},toggleDeleteLabel:(e,t)=>{let{payload:a}=t;e.isLabelDeletting=a},setActiveLabel:(e,t)=>{let{payload:a}=t;e.activeLabelId=a},setLabel:(e,t)=>{let{payload:a}=t;e.label=a},setLabelNetworkStatus:(e,t)=>{let{payload:a}=t;e.labelNetWorkStatus=a},setContactLabelIds:(e,t)=>{let{payload:a}=t;e.contactLabels=a},toggleActiveContactId:(e,t)=>{let{payload:a}=t;e.activeContactIds.includes(a)?e.activeContactIds=e.activeContactIds.filter(e=>e!==a):e.activeContactIds=[...e.activeContactIds,a]},setOpenIssuedContactLabel:(e,t)=>{let{payload:a}=t;e.openIssueContactLabels=a},addOpenIssuedContactLabel:(e,t)=>{let{payload:a}=t;e.openIssueContactLabels.find(e=>e.waChatId===a.waChatId)||e.openIssueContactLabels.push(a)},setLoadingState:(e,t)=>{let{payload:a}=t;e.loadingState=a},addLoadingState:(e,t)=>{let{payload:a}=t;e.loadingState.push(a)},setCustomSnoozeWaContactId:(e,t)=>{let{payload:a}=t;e.customSnoozeWaContactId=a},setSnoozeData:(e,t)=>{let{payload:a}=t;e.snoozeData=a},setIsSnoozePopperOpen:(e,t)=>{let{payload:a}=t;e.isSnoozePopperOpen=a},setToastMessage:(e,t)=>{let{payload:a}=t;e.toastList.push(a)},deleteToastMessage:(e,t)=>{let{payload:a}=t;e.toastList=e.toastList.filter(e=>e.id!==a)}}}),i=(n.actions,n.reducer)},14513:(e,t,a)=>{"use strict";a.d(t,{L:()=>n});let n=function(e){return e.boardHeader="boardHeader",e.groupHeader="groupHeader",e.task="task",e.newTask="newTask",e.subTask="subTask",e.newSubTask="newSubTask",e.spacer="spacer",e.footer="footer",e.newGroup="newGroup",e}({})},14922:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SessionStatusAutomaton:()=>l});var n=a(64467),i=a(36596),r=a(1095),s=a(69886);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}class l{setSessionContext(e,t,a,n){this.ownerId=e,this.sessionId=t,this.localSessionId=a,this.podId=n}makeSureLocalStorageValuesAreSet(){this.sessionId||(this.sessionId=window.localStorage.getItem("sessionId")||""),this.podId||(this.podId=window.localStorage.getItem("podId")||"")}resetWaDisconnectTimer(){this.waDisconnectCheckTimeout&&clearTimeout(this.waDisconnectCheckTimeout),this.waDisconnectCheckTimeout=setTimeout(()=>{var e;"connected"!==(null===(e=this.currentCalcSession)||void 0===e?void 0:e.status)&&s.B.reloadPage("whatsapp is disconnected for ".concat(this.RELOAD_IF_WA_DISCONNECTED_INTERVAL_MS,"ms"))},this.RELOAD_IF_WA_DISCONNECTED_INTERVAL_MS)}constructor(){(0,n.A)(this,"currentCalcSession",{}),(0,n.A)(this,"previusCalcSession",{}),(0,n.A)(this,"initialQRCodeTimestamp",null),(0,n.A)(this,"RELOAD_IF_WA_DISCONNECTED_INTERVAL_MS",9e5),(0,n.A)(this,"QR_CODE_TIMEOUT_MS",24e4),(0,n.A)(this,"LAST_SEEN_THRESHOLD",3e5),(0,n.A)(this,"waDisconnectCheckTimeout",null),(0,n.A)(this,"moreTimeforWaToSyncTrigger",!1),(0,n.A)(this,"ownerId",void 0),(0,n.A)(this,"sessionId",void 0),(0,n.A)(this,"localSessionId",void 0),(0,n.A)(this,"podId",void 0),(0,n.A)(this,"waLogoutTrigger",!1),this.resetWaDisconnectTimer()}static getInstance(){return l.instance||(l.instance=new l),l.instance}calcNewState(e){let{state:t,stream:a,hasSynced:i,qrcode:r}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.makeSureLocalStorageValuesAreSet(),this.previusCalcSession=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this.currentCalcSession),this.currentCalcSession={_id:this.sessionId,lastSeen:(new Date).toISOString(),qrcode:"",rawWaStatus:{state:t||"",stream:a||"",hasSynced:i||!1,qrcode:r||""},triggerdBy:l||"",podId:this.podId,options:{ignoreOriginalEntity:!0}},"handleLogout"===l)this.currentCalcSession.status="logout",this.waLogoutTrigger=!0,s.B.triggerWaLogout();else if("handleQRChanged"===l&&r)this.initialQRCodeTimestamp||(this.initialQRCodeTimestamp=Date.now()),Date.now()-this.initialQRCodeTimestamp>this.QR_CODE_TIMEOUT_MS&&s.B.triggerQRTimeout(),this.currentCalcSession.qrcode=r,this.currentCalcSession.status="qrcode";else if("CONNECTED"===t&&"CONNECTED"===a)this.initialQRCodeTimestamp=null,this.currentCalcSession.status="connected",this.currentCalcSession.wasConnected=!0,this.resetWaDisconnectTimer();else if("OPENING"===t)this.currentCalcSession.status="OPENING";else if("PAIRING"===t)this.currentCalcSession.status="PAIRING";else{if(i||"CONNECTED"!==t||"DISCONNECTED"!==a)return;this.initialQRCodeTimestamp=null,this.currentCalcSession.status="syncing",this.resetWaDisconnectTimer()}this.updateSessionStatus(this.currentCalcSession,d)}updateSessionStatus(e,t){null!=e&&e._id&&(this.isDifferent(this.previusCalcSession,e)||t)&&r.A.dispatch(i.DBSessionThunks.patch({entity:e,options:{ignoreOriginalEntity:!0}}))}isDifferent(e,t){if(!e.rawWaStatus||!e.lastSeen||!t.lastSeen)return!0;if(e.status!==t.status)return!0;if(e.rawWaStatus.stream!==t.rawWaStatus.stream)return!0;if(e.rawWaStatus.hasSynced!==t.rawWaStatus.hasSynced)return!0;if(e.rawWaStatus.qrcode!==t.rawWaStatus.qrcode)return!0;const a=new Date(e.lastSeen);return new Date(t.lastSeen).getTime()-a.getTime()>this.LAST_SEEN_THRESHOLD}getWaStatus(){var e;return(null===(e=this.currentCalcSession)||void 0===e?void 0:e.status)||""}}(0,n.A)(l,"instance",null)},15245:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,V:()=>o});var n=a(30038),i=a(12142);const r={socketId:null,lastMessageTimestamp:Date.now(),connectionStatus:i.P.DISCONNECTED},s=(0,n.Z0)({name:"notifier",initialState:r,reducers:{setConnectionStatus:(e,t)=>{e.connectionStatus=t.payload}}}),{setConnectionStatus:o}=s.actions,l=s.reducer},15283:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>b,EQ:()=>f,Po:()=>h,qg:()=>y,wr:()=>g});var n=a(64467),i=a(30038),r=a(95093),s=a.n(r),o=a(92032),l=a(36596),d=a(66159),c=a(12239),u=a(97424),p=a(42001);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}const g=15e3,y={"delete-task-list":"task","delete-group-list":"group","delete-board-list":"board","delete-board-user-list":"board user","delete-arrow-relation":"gantt-arrow"},h={"delete-task-list":{doAction:async e=>{const{data:t,thunkApi:a}=e,{dispatch:n,state:i}=a,r=(0,c.XK)(i),[s]=t,[d]=(0,l.Qrb)(i.DBTasksReducer,{_id:s});n(l.mZE.removeMany(t));const{recycleId:u}=await n(o.br5.requestRecycle.initiate({workspaceId:r._id,deletedOrArchived:e.deletedOrArchived,itemList:t.map(e=>({id:e,type:"tasks"}))})).unwrap();return{recycleId:u,boardId:d.boardId}},undoAction:async e=>{const{thunkApi:t,doActionResponse:a}=e,{recycleId:n,boardId:i,deletedOrArchived:r}=a,{dispatch:s}=t;await s(o.br5.restoreRequest.initiate({recycleId:n,deletedOrArchived:r})),await s(l.urn.find({boardId:i,$paginate:!1})).unwrap(),s(f.clearUndoToast())}},"delete-group-list":{doAction:async e=>{const{data:t,thunkApi:a}=e,{dispatch:n,state:i}=a,r=(0,c.XK)(i),[s]=t,[d]=(0,l.Qrb)(i.DBTaskgroupsReducer,{_id:s});n(l.XO.removeMany(t));const{recycleId:u}=await n(o.br5.requestRecycle.initiate({workspaceId:r._id,deletedOrArchived:e.deletedOrArchived,itemList:t.map(e=>({id:e,type:"task-groups"}))})).unwrap();return{recycleId:u,boardId:d.boardId}},undoAction:async e=>{const{thunkApi:t,doActionResponse:a}=e,{recycleId:n,deletedOrArchived:i,boardId:r}=a,{dispatch:s}=t;await s(o.br5.restoreRequest.initiate({recycleId:n,deletedOrArchived:i})),s(l.bSE.find({boardId:r,$paginate:!1})),s(l.urn.find({boardId:r,$paginate:!1})),s(f.clearUndoToast())}},"delete-board-list":{doAction:async e=>{const{data:t,thunkApi:a}=e,{dispatch:n,state:i}=a,r=(0,c.XK)(i),s=await(0,u.PX)(i);n(l.Hgo.removeMany(t));const[m]=t,g=(0,l.G5s)(i.DBBoardsReducer,{_id:m});n(d.L.setDeletedBoardName(null==g?void 0:g.name));const{recycleId:y}=await n(o.br5.requestRecycle.initiate({workspaceId:r._id,deletedOrArchived:e.deletedOrArchived,itemList:t.map(e=>({id:e,type:"boards"}))})).unwrap(),h=await(0,u.ey)(i);return g._id===s&&await n((0,p.D)({boardId:h})),{recycleId:y,boardIdList:t}},undoAction:async e=>{const{thunkApi:t,doActionResponse:a}=e,{recycleId:n,boardIdList:i}=a,{dispatch:r}=t;await r(o.br5.restoreRequest.initiate({recycleId:n})).unwrap(),r(l.DBBoardsThunks.find({$paginate:!1,$id:{$in:i}})),r(d.L.clearDeletedBoardName()),r(f.clearUndoToast())}},"delete-board-user-list":{doAction:async e=>{const{data:t,thunkApi:a}=e,{dispatch:n,state:i}=a,r=(0,c.XK)(i);n(l.Vrk.removeMany(t));const{recycleId:s}=await n(o.br5.requestRecycle.initiate({workspaceId:r._id,deletedOrArchived:e.deletedOrArchived,itemList:t.map(e=>({id:e,type:"board-users"}))})).unwrap();return{recycleId:s,boardUserIdList:t}},undoAction:async e=>{const{thunkApi:t,doActionResponse:a}=e,{recycleId:n,boardUserIdList:i}=a,{dispatch:r}=t;await r(o.br5.restoreRequest.initiate({recycleId:n})),r(l.Fv8.find({$paginate:!1,_id:{$in:i}})),r(f.clearUndoToast())}},"delete-arrow-relation":{doAction:async e=>{const{data:t,thunkApi:a}=e,{dispatch:i,state:r}=a,s=(0,c.XK)(r);t.tasksDependencies=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},undefined),i(l._vS.updateMany(t.cloneDependencies));const{recycleId:d}=await i(o.br5.requestRecycle.initiate({workspaceId:s._id,deletedOrArchived:e.deletedOrArchived,itemList:t.map(e=>({id:e,type:"delete-arrow-relation"}))})).unwrap();return{recycleId:d,gantt:t}},undoAction:async e=>{const{thunkApi:t,doActionResponse:a}=e,{recycleId:n,gantt:i}=a,{dispatch:r}=t;await r(o.br5.restoreRequest.initiate({recycleId:n})),r(l.EEr.find({$paginate:!1,_id:{$in:i}})),r(f.clearUndoToast())}}},v=(0,i.Z0)({name:"undoRedoSlice",initialState:{undoStack:[],redoStack:[]},reducers:{pushUndoAction:(e,t)=>{e.undoStack=[...e.undoStack,t.payload]},pushRedoAction:(e,t)=>{e.redoStack=[...e.redoStack,t.payload]},showUndoToast:e=>{e.timerDueTime=s()().add(g,"milliseconds").toISOString()},clearUndoToast:e=>{delete e.timerDueTime,delete e.timerHandle},updateToastTimerHandler:(e,t)=>{e.timerHandle=t.payload}}}),f=v.actions,b=v.reducer},15614:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={DEFAULT_TITLE:"Tudo Board",asset_key:"tudoboard",google_client_id:"171213536785-40uq3jeidmqcuabjsous4deaj8t99870.apps.googleusercontent.com",GTM_ID:"GTM-P5TZZS2V",TIKTOK_ID:"CK4N433C77U7PQISIVQ0",CLARITY_ID:"jcwyjg3i2h",GA_ID:"G-2YQ649PE93",FB_PIXEL_ID:"3467001760179401",AW_ID:"",WS_ID:"",HJ_ID:0,HJ_SV:0,EXTENTION_ID:"faalgfonbpmhjboamhgopbjnbolehpcl",API_ENDPOINT:"https://api.tudoboard.com",APP_ENDPOINT:"https://app.tudoboard.com",NOTIFIER_ENDPOINT:"https://notify.tudoboard.com/",VZNLYTICS_ENDPOINT:"https://analytics.tudoboard.com",GATEWAY_ENDPOINT:"https://blueticks-gateway-staging.herokuapp.com",PRICING_PAGE:"https://app.tudoboard.com/pricing",HOMEPAGE:"https://tudoboard.com",LOGO:"/img/tudu-logo.svg",LOGO2:"/img/tudo-logo-icon.svg",PAYPAL_CLIENT_ID:"ARQG3WFWCo5c_cl0idcg5fPastyJNcC3Gpzgh-7y7wHqliqw8heanLqZZLDQK-JNc5Bt2tHNJUkVx5pC",ENV:"tudostage",BLUESNAP_ENDPOINT:"https://sandbox.bluesnap.com",BLUESNAP_STORE_ID:"296929",BLUESNAP_REDIRECT_ENC:"qOU7VjlOZpEXrX8r1i62voZwKP3M6kkP%2Br1vzvsSupdiE0Qg2F3CyOGQycNZgCn8K%2Fiy2kZ%2BIvFADXUZTrmv3PI4fjyTt8EwZwOPRxwLX1QmAv5wdoRog4pA4aYqzoCxhfs1hP7gmhsxfqUumgZTT7vPVFc44W6Y45Y4AkQkilLhQKTU05HCFjx8eh30pkIzYgQYco52LMwbGjdPK%2FNJ6TC43C8TZTPnUSjELG7cJNyPc91K8YHmJqVijKcmtkWq",extensionStoreLink:"https://chrome.google.com/webstore/detail/blueticks/adgnjhngogijkkppficiiepmjebijinl",PRODUCTS:{personal:"PROD-72S99618JL130302",professional:"PROD-47W322527S599700R"},PLANS:{"P-2EV08809U66066511L45HVQQ":{id:"P-2EV08809U66066511L45HVQQ",key:"personal-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!1,order:1},"P-4CT097158P9389945L45HWKY":{id:"P-4CT097158P9389945L45HWKY",key:"personal-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!1,order:1},"P-5LL88227H7791351XMC3LKOA":{id:"P-5LL88227H7791351XMC3LKOA",key:"tasks-annual",planName:"Tasks - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!1,price:240,order:2},"P-6BE32461V8593561LMC3LIMI":{id:"P-6BE32461V8593561LMC3LIMI",key:"tasks-monthly",planName:"Tasks - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!1,price:29,order:2},"P-1DS464590R230570GL52SZ7I":{id:"P-1DS464590R230570GL52SZ7I",key:"professional-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!0,tasks:!0,order:3},"P-1CW95607EC450134SL52S6DY":{id:"P-1CW95607EC450134SL52S6DY",key:"professional-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!0,tasks:!0,order:3},"P-69U602591G622303FL4WIK5A":{id:"P-69U602591G622303FL4WIK5A",key:"personal-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!1,price:5,order:1},"P-8HF747276X955703PL4WIFMY":{id:"P-8HF747276X955703PL4WIFMY",key:"personal-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!1,price:36,order:1},"P-82N59649C2985174VMDG5NTQ":{id:"P-82N59649C2985174VMDG5NTQ",key:"tasks-annual",planName:"Tasks - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!1,price:240,order:2},"P-8CM2055424428610AMDG5PEI":{id:"P-8CM2055424428610AMDG5PEI",key:"tasks-monthly",planName:"Tasks - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!1,price:29,order:2},"P-06L82419PV9017747MDG5O3A":{id:"P-06L82419PV9017747MDG5O3A",key:"professional-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!0,price:49,order:3},"P-4KN135463M447572VL52SW4Y":{id:"P-4KN135463M447572VL52SW4Y",key:"professional-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!0,price:348,order:3}}}},19048:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,z:()=>i});const n=(0,a(30038).Z0)({name:"myWorkSlice",initialState:{myWorkPreferences:{},myWorkIsLoading:!1,myWorkViewMode:"board",myWorkTasksFilter:"",myWorkBoardsIds:[]},reducers:{setMyWorkPrefernces(e,t){e.myWorkPreferences=t.payload},setMyWorkLoading(e,t){e.myWorkIsLoading=t.payload},setMyWorkViewMode(e,t){e.myWorkViewMode=t.payload},setMyWorkBoardsIds(e,t){e.myWorkBoardsIds=t.payload},setTasksFilterName(e,t){e.myWorkTasksFilter=t.payload?new RegExp(t.payload,"i"):"",""===e.myWorkTasksFilter&&delete e.myWorkTasksFilter}}}),i=n.actions,r=n.reducer},19262:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>g,PD:()=>m});var n=a(64467),i=a(30038),r=a(1081),s=a(95093),o=a.n(s),l=a(45806);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const u={showErrorDialog:!1,open:!1,message:{dueDate:void 0,message:"",isRecurring:!1,state:l.Zu.pending,cancelIfReceived:!1},messageDraft:{dueDate:void 0,message:"",isRecurring:!1,state:l.Zu.pending,cancelIfReceived:!1},isEmojiPicker:!1,showConfirmationDialog:!1,originalMessage:void 0,isWaSocketsLimitReached:null,pollFromWAModal:null,linkPreviewLoading:!1,openedFromContext:"default",lastClosedAt:null},p=(0,i.Z0)({name:"AddScheduledMessageButtonSlice",initialState:u,reducers:{editMessage:(e,t)=>{const a=Date.now();if(e.lastClosedAt&&a-e.lastClosedAt<250)return;const n=performance.now(),i=c({},t.payload);if(!e.open){i.dueDate=o()(i.dueDate).toDate().toISOString(),i.state=l.Zu.editing,e.lastClosedAt=null,e.open=!0,e.message=i,e.messageDraft=c({},i),e.openedFromContext="default";performance.now();"undefined"!=typeof performance&&performance.mark&&performance.mark("redux-state-open-true")}},editMessageFromContext:(e,t)=>{const a=Date.now();if(e.lastClosedAt&&a-e.lastClosedAt<250)return;const{message:n,context:i}=t.payload,r=c({},n);e.open||(r.dueDate=o()(r.dueDate).toDate().toISOString(),r.state=l.Zu.editing,e.lastClosedAt=null,e.open=!0,e.message=r,e.messageDraft=c({},r),e.openedFromContext=i)},updateMessage:(e,t)=>{e.message=t.payload},mergeMessage:(e,t)=>{e.message=c(c({},e.message),t.payload)},updateMessageDraft:(e,t)=>{e.messageDraft=c(c({},e.messageDraft),t.payload)},closeDialog:(e,t)=>c(c({},u),{},{lastClosedAt:Date.now()}),setIsEmojiPicker:(e,t)=>{e.isEmojiPicker=t.payload},editCalendarMessage:(e,t)=>{const a=Date.now();if(e.lastClosedAt&&a-e.lastClosedAt<250)return;const n=c({},t.payload);n.state=l.Zu.editing,e.lastClosedAt=null,e.open=!0,e.message=n,e.messageDraft=c({},n),e.originalMessage=c({},n),e.openedFromContext="default"},setConfirmationDialog:(e,t)=>{e.showConfirmationDialog=t.payload},setPollFromWAModal:(e,t)=>{e.pollFromWAModal=t.payload},setLinkPreviewLoading:(e,t)=>{e.linkPreviewLoading=t.payload}}}),m=((0,r.Mz)(e=>e.AddScheduledMessageButtonReducer,e=>e.open),p.actions),g=p.reducer},19636:(e,t,a)=>{"use strict";a.r(t),a.d(t,{appConfigLocal:()=>n,default:()=>i});const n={VZNLYTICS_ENDPOINT:"http://localhost:3030",API_ENDPOINT:"http://localhost:3310",NOTIFIER_ENDPOINT:"http://localhost:3310",APP_ENDPOINT:"http://localhost:3000",CLARITY_ID:"",asset_key:"blueticks",pricingOptions:"extension",MQTT_BROKER_URL:"wss://stg-mqtt.blueticks.co:443/mqtt",retrySendMessageTimeoutMinutes:1},i=n},20130:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(47839),i=a(44010),r=a(96540),s=a(74848);function o(e){let{children:t,value:a,styling:o={},onBlur:l}=e;const[d,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),m=(0,r.useRef)(null),g=(0,i.GV)(e=>e.BoardsReducer.resizing),y=()=>{const e=m.current;e&&c(e.scrollWidth>e.clientWidth)};(0,r.useLayoutEffect)(()=>(y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}),[a,g]);let h=(0,r.isValidElement)(t)?(0,r.cloneElement)(t,{ref:m,onFocus:()=>p(!0),onBlur:()=>{p(!1),y(),l&&l()}}):t;return(0,s.jsx)(n.A,{componentsProps:{tooltip:{sx:{unicodeBidi:"plaintext"}}},title:!u&&d?a:"",placement:"top",arrow:!0,disableInteractive:!0,children:h})}},22548:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c,EH:()=>o});var n=a(30038),i=a(69886),r=a(71083),s=a(92032);const o=(0,n.zD)("getProfilePicThunk",async(e,t)=>{var a,n,o;const l=t.getState();let c,u,p;var m;if(l.ProfilePicReducer.profilePicMap[e])p=l.ProfilePicReducer.profilePicMap[e];else if(t.dispatch(d({id:{_serialized:e},profilePicThumb:{}})),p=await i.B.getProfilePicThumb(e),t.dispatch(d({id:{_serialized:e},profilePicThumb:p})),null!==(m=p)&&void 0!==m&&m.img){const e=await t.dispatch(s.Hvd.endpoints.getSignedUploadUrl.initiate("image/jpeg"));if(!("error"in e)){const t=e.data;u=t.url,c=t.publicUrl}if(u){var g;const e=await fetch(null===(g=p)||void 0===g?void 0:g.img),t=await e.blob();await(0,r.A)({method:"PUT",url:u,data:t,headers:{"Content-Type":"image/jpeg"}})}}return{profilePic:null!==(a=null!=c?c:null===(n=p)||void 0===n?void 0:n.profilePicUrl)&&void 0!==a?a:null===(o=p)||void 0===o?void 0:o.img,waId:e}}),l=(0,n.Z0)({name:"ProfilePicReducer",initialState:{profilePicMap:{}},reducers:{updateProfilePic:(e,t)=>{var a,n;null!==(a=t.payload.id)&&void 0!==a&&a._serialized&&t.payload.profilePicThumb&&(e.profilePicMap[null===(n=t.payload.id)||void 0===n?void 0:n._serialized]=t.payload.profilePicThumb)}}}),{updateProfilePic:d}=l.actions,c=l.reducer},24076:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,q:()=>i});const n=(0,a(30038).Z0)({name:"mediaManagerSlice",initialState:{index:0,shown:!1,taskId:"",columnId:"",showFileDialog:!1,currentFiles:[],showVersionTab:!1,showEditTab:!1,isNewVersion:!1,isVersionPreview:!1,versionIndex:0,filesToDecideNewVersionOrNewFile:[],filesTotal:[],isViewOnly:!1},reducers:{setSelectedCellFilesAndCurrentindex(e,t){let{payload:a}=t;e.taskId=a.taskId,e.columnId=a.columnId,e.index=a.index,e.shown=a.shown,e.filesTotal=a.filesTotal,e.isViewOnly=a.isViewOnly},updateVersionOrAddFile(e,t){let{payload:a}=t;e.index=a.index,e.currentFiles=a.currentFiles,e.isNewVersion=a.isNewVersion,e.showFileDialog=a.showFileDialog},closeDialog(e,t){let{payload:a}=t;e.shown=a.shown},switchFile(e,t){let{payload:a}=t;e.index=a.index,e.isVersionPreview=a.isVersionPreview,e.versionIndex=a.versionIndex},closeFileExistsDialog(e,t){let{payload:a}=t;e.showFileDialog=a.showFileDialog},setFilesToDecideNewVersionOrNewFile(e,t){let{payload:a}=t;e.filesToDecideNewVersionOrNewFile=a.filesToDecideNewVersionOrNewFile,e.taskId=a.taskId,e.columnId=a.columnId},setVersionTab(e,t){let{payload:a}=t;e.showVersionTab=a},setEditTab(e,t){let{payload:a}=t;e.showEditTab=a},updateDuplicateFilesState(e,t){let{payload:a}=t;e.filesToDecideNewVersionOrNewFile=a},setVersionPreview(e,t){let{payload:a}=t;e.isVersionPreview=a.isVersionPreview,e.versionIndex=a.versionIndex},setTaskId(e,t){let{payload:a}=t;e.taskId=a}}}),i=n.actions,r=n.reducer},24346:(e,t,a)=>{"use strict";a.d(t,{$:()=>n});a(96540),a(74848);const n={}},25129:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d});const n=(0,a(30038).Z0)({name:"btLayoutSidebar",initialState:{isOpen:!1,componentToShow:"ChatScheduledMessages"},reducers:{setIsOpen:(e,t)=>{e.isOpen=t.payload},toggleSidebar:e=>{e.isOpen=!e.isOpen},setComponentToShow:(e,t)=>{e.componentToShow=t.payload},openWithComponent:(e,t)=>{e.isOpen=!0,e.componentToShow=t.payload},closeSidebar:e=>{e.isOpen=!1}}}),{setIsOpen:i,toggleSidebar:r,setComponentToShow:s,openWithComponent:o,closeSidebar:l}=(n.actions,n.actions),d=n.reducer},25650:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={DEFAULT_TITLE:"Blueticks",asset_key:"blueticks",pricingOptions:"extension",google_client_id:"143723739146-oa75527ckplc3kb9nk8q41redtoq6t18.apps.googleusercontent.com",GTM_ID:"",GA_ID:"",CLARITY_ID:"",TIKTOK_ID:"",CRISP_ID:"f317863d-feb0-4f63-9ae2-fb8280d54a53",FB_PIXEL_ID:"",AW_ID:"",WS_ID:"",HJ_ID:0,HJ_SV:0,EXTENTION_ID:"elmlpmbhicpdnbpnicbmgjhbolmlfmnf",GATEWAY_ENDPOINT:"https://stg-gateway.blueticks.co",NOTIFIER_ENDPOINT:"https://stg-api.blueticks.co",VZNLYTICS_ENDPOINT:"https://analytics.blueticks.co",API_ENDPOINT:"https://stg-api.blueticks.co",PRICING_PAGE:"https://staging--blueticks-app.netlify.app",APP_ENDPOINT:"https://staging--blueticks-app.netlify.app",HOMEPAGE:"https://blueticks.co",LOGO:"/img/tudu-logo.svg",LOGO2:"/img/tudo-logo-icon.svg",PAYPAL_CLIENT_ID:"ARQG3WFWCo5c_cl0idcg5fPastyJNcC3Gpzgh-7y7wHqliqw8heanLqZZLDQK-JNc5Bt2tHNJUkVx5pC",ENV:"staging",BLUESNAP_ENDPOINT:"https://sandbox.bluesnap.com",BLUESNAP_STORE_ID:"296929",BLUESNAP_REDIRECT_ENC:"y3BO7mSu04vXEh55QSFI51vnnO%2FrL2uZ10%2FPUF2Fh8tM%2BuK1SbYHdaA64niusbZmSEzNN%2B8UxIi5s2XCYmwZBC5nSCktB%2Fecf9WpUAVm7dThQyrBSGNEc8rMNTv8OPFzs55%2B5SK6yOAzB1mmeWYME1RPVUsco5idX4uxIUpmzFXkrAfzgUdezK%2BtTWmKvtGXG%2FudtOXj2tdcR6XJcZDQBUGHsDmn0cVumqSNZ98gQSS3l5R3EcBxJRNX7RVdp3EH",extensionStoreLink:"https://chrome.google.com/webstore/detail/blueticks/adgnjhngogijkkppficiiepmjebijinl",PRODUCTS:{personal:"PROD-72S99618JL130302",professional:"PROD-47W322527S599700R"},MQTT_BROKER_URL:"wss://stg-mqtt.blueticks.co:443/mqtt"}},28079:(e,t,a)=>{"use strict";a.d(t,{iN:()=>i});var n=a(79613);async function i(e,t){const a=await r(e,t),n=await fetch(e),i=await n.blob();if(a.url){const e=await s(a.url,i,t);return{image_url:a.publicUrl,uploadResponse:e}}}const r=async(e,t)=>{const a=await fetch("".concat(n.U.API_ENDPOINT,"/actions"),{method:"POST",headers:{"Content-Type":"application/json"},body:'{\n    "cmd": "signed-upload-url",\n\t\t"contentType": "'.concat(t,'"\n}')});return await a.json()},s=async(e,t,a)=>await fetch(e,{method:"PUT",headers:{"Content-Type":a},body:t})},28573:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={DEFAULT_TITLE:"Tudo Board",asset_key:"tudoboard",google_client_id:"171213536785-40uq3jeidmqcuabjsous4deaj8t99870.apps.googleusercontent.com",GTM_ID:"GTM-P5TZZS2V",GA_ID:"",FB_PIXEL_ID:"",CLARITY_ID:"",TIKTOK_ID:"",AW_ID:"",WS_ID:"",HJ_ID:0,HJ_SV:0,EXTENTION_ID:"faalgfonbpmhjboamhgopbjnbolehpcl",API_ENDPOINT:"https://stg-api.tudoboard.com",APP_ENDPOINT:"https://staging--app-tudo.netlify.app",NOTIFIER_ENDPOINT:"https://stg-notify.tudoboard.com/",VZNLYTICS_ENDPOINT:"https://analytics.tudoboard.com",GATEWAY_ENDPOINT:"https://gateway.blueticks.co",PRICING_PAGE:"https://app.tudoboard.com/pricing",HOMEPAGE:"https://tudoboard.com",LOGO:"/img/tudu-logo.svg",LOGO2:"/img/tudo-logo-icon.svg",PAYPAL_CLIENT_ID:"ARQG3WFWCo5c_cl0idcg5fPastyJNcC3Gpzgh-7y7wHqliqw8heanLqZZLDQK-JNc5Bt2tHNJUkVx5pC",ENV:"tudostage",BLUESNAP_ENDPOINT:"https://sandbox.bluesnap.com",BLUESNAP_STORE_ID:"296929",BLUESNAP_REDIRECT_ENC:"qOU7VjlOZpEXrX8r1i62voZwKP3M6kkP%2Br1vzvsSupdiE0Qg2F3CyOGQycNZgCn8K%2Fiy2kZ%2BIvFADXUZTrmv3PI4fjyTt8EwZwOPRxwLX1QmAv5wdoRog4pA4aYqzoCxhfs1hP7gmhsxfqUumgZTT7vPVFc44W6Y45Y4AkQkilLhQKTU05HCFjx8eh30pkIzYgQYco52LMwbGjdPK%2FNJ6TC43C8TZTPnUSjELG7cJNyPc91K8YHmJqVijKcmtkWq",extensionStoreLink:"https://chrome.google.com/webstore/detail/blueticks/adgnjhngogijkkppficiiepmjebijinl",PRODUCTS:{personal:"PROD-72S99618JL130302",professional:"PROD-47W322527S599700R"},PLANS:{"P-2EV08809U66066511L45HVQQ":{id:"P-2EV08809U66066511L45HVQQ",key:"personal-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!1,order:1},"P-4CT097158P9389945L45HWKY":{id:"P-4CT097158P9389945L45HWKY",key:"personal-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!1,order:1},"P-5LL88227H7791351XMC3LKOA":{id:"P-5LL88227H7791351XMC3LKOA",key:"tasks-annual",planName:"Tasks - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!1,price:240,order:2},"P-6BE32461V8593561LMC3LIMI":{id:"P-6BE32461V8593561LMC3LIMI",key:"tasks-monthly",planName:"Tasks - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!1,price:29,order:2},"P-1DS464590R230570GL52SZ7I":{id:"P-1DS464590R230570GL52SZ7I",key:"professional-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!0,tasks:!0,order:3},"P-1CW95607EC450134SL52S6DY":{id:"P-1CW95607EC450134SL52S6DY",key:"professional-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!0,tasks:!0,order:3},"P-69U602591G622303FL4WIK5A":{id:"P-69U602591G622303FL4WIK5A",key:"personal-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,bulk:!1,price:5,order:1},"P-8HF747276X955703PL4WIFMY":{id:"P-8HF747276X955703PL4WIFMY",key:"personal-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,bulk:!1,price:36,order:1},"P-82N59649C2985174VMDG5NTQ":{id:"P-82N59649C2985174VMDG5NTQ",key:"tasks-annual",planName:"Tasks - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!1,price:240,order:2},"P-8CM2055424428610AMDG5PEI":{id:"P-8CM2055424428610AMDG5PEI",key:"tasks-monthly",planName:"Tasks - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!1,price:29,order:2},"P-06L82419PV9017747MDG5O3A":{id:"P-06L82419PV9017747MDG5O3A",key:"professional-monthly",planName:"Premium - Monthly",intervalCount:1,intervalUnit:"month",messageLimit:-1,tasks:!0,bulk:!0,price:49,order:3},"P-4KN135463M447572VL52SW4Y":{id:"P-4KN135463M447572VL52SW4Y",key:"professional-annual",planName:"Premium - Annual",intervalCount:1,intervalUnit:"year",messageLimit:-1,tasks:!0,bulk:!0,price:348,order:3}}}},29167:(e,t,a)=>{"use strict";a.d(t,{S:()=>n});const n=new Map},29780:(e,t,a)=>{"use strict";a.d(t,{ZX:()=>j,wP:()=>R});var n=a(64467),i=a(87951),r=a(79899),s=(a(62243),a(36596)),o=a(46217),l=a(29167),d=a(46228),c=a(87435),u=a(95005),p=a(47283),m=a(19262),g=a(47610),y=a(97424),h=a(3139),v=a(83750),f=a(22548),b=a(31141),k=a(12239),w=a(38189),x=a(6889),D=a(92032),I=a(45806),A=a(69886),T=a(30038),S=a(95093),O=a.n(S),C=a(87879);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const _=new o.c,P=((0,T.zD)("setAppStateThunk",async(e,t)=>{let{dispatch:a}=t;a((0,w.vY)(e))}),(0,i._)([e=>e.DBBotReducer],e=>(0,s.xSQ)(e,{}).filter(e=>e.activeDeploymentId))),R=((0,T.zD)("handleNewMessageThunk",async(e,t)=>{var a;const{getState:n}=t,i=t.dispatch,o=n();if(!(0,k.mB)(o))return;const l=(0,s.iNb)(o.DBWebhooksReducer,{});try{i(D.Q3g.initiate({type:"receivedNewMessage",msg:e}))}catch(e){}if(P(o).length>0&&"status@broadcast"!==(null===(a=e.from)||void 0===a||null===(a=a.id)||void 0===a?void 0:a._serialized))try{i(D.YR9.initiate({data:B(B({},e),{},{userId:o.UserReducer.userId})}))}catch(e){}(null==l?void 0:l.length)>0&&(i(D.S$n.initiate({service:"actions",entity:{cmd:"sendMessageToWebhook",message:e}})),_.event("message_api_receive",{category:"messages",action:"api-receive",label:"regular"}));const d=Object.keys(o.DBUserMessageReducer.entities).map(e=>o.DBUserMessageReducer.entities[e]).filter(t=>{var a;return(null!==(a=t.contactList)&&void 0!==a?a:[]).find(t=>{var a;return t.id===(null===(a=e.from)||void 0===a||null===(a=a.id)||void 0===a?void 0:a._serialized)})});if(d)for(const e of d)e.cancelIfReceived&&i((0,r.mm)(e._id))}),(0,T.zD)("handleMessageAckChangedThunk",async(e,t)=>{const a=t.dispatch;try{a(D.Q3g.initiate({type:"receivedMessageAckUpdate",msg:e}))}catch(e){}}),(0,T.zD)("handleMessageRemovedThunk",async(e,t)=>{const a=t.dispatch;try{a(D.Q3g.initiate({type:"receivedMessageRemoved",msg:e}))}catch(e){}}),(0,T.zD)("handleMessageRevokedThunk",async(e,t)=>{const a=t.dispatch;try{a(D.Q3g.initiate({type:"receivedMessageRevoked",msg:e}))}catch(e){}}),(0,T.zD)("handleCiphertextMessageAddedThunk",async(e,t)=>{const a=t.dispatch;try{a(D.Q3g.initiate({type:"receivedCiphertextMessageAdded",msg:e}))}catch(e){}}),(0,T.zD)("handleUnreadCountChangedThunk",async(e,t)=>{const a=t.dispatch;try{a(D.Q3g.initiate({type:"receivedUnreadCountChanged",msg:e}))}catch(e){}}),(0,T.zD)("subscribeCurrentBoardToSocket",async(e,t)=>{var a;const{dispatch:n,getState:i}=t,r=i(),s=(0,y.sw)(r,null===(a=r.WhatsAppReducer)||void 0===a?void 0:a.currentChat);s&&n((0,v.Pc)({entityType:"boards",entityId:s._id}))})),E=((0,T.zD)("setCurrentChatThunk",async(e,t)=>{let{chat:a}=e;const{dispatch:n,getState:i}=t,r=i();n((0,w.nO)(a));const s=(0,y.sw)(r,a);s&&n((0,v.Pc)({entityType:"boards",entityId:s._id}))}),(0,T.zD)("getCurrentChatThunk",async(e,t)=>{var a,n,i,r,o,l;const d=t.getState(),c=t.dispatch,u=d.WhatsAppReducer.currentChat,p=d.WhatsAppReducer.me,m=(0,k.mB)(d);function y(e){var t,a,n;return{waId:null!==(t=null==e||null===(a=e.id)||void 0===a?void 0:a._serialized)&&void 0!==t?t:"",name:null!==(n=null==e?void 0:e.displayName)&&void 0!==n?n:"",isMyContact:null==e?void 0:e.isMyContact,isWAContact:null==e?void 0:e.isWAContact}}let h,v=[];var w,x,D,I;null!=u&&u.isGroup?(v=(null!==(w=null==u?void 0:u.participants)&&void 0!==w?w:[]).map(y),h=[null==u||null===(x=u.id)||void 0===x?void 0:x._serialized]):(v.push(y(u.contact)),v.push(y(p)),h=[null==u||null===(D=u.id)||void 0===D?void 0:D._serialized,null==p||null===(I=p.id)||void 0===I?void 0:I._serialized].filter(Boolean));const A={name:null!==(a=null!==(n=null!==(i=null!==(r=null==u?void 0:u.formattedTitle)&&void 0!==r?r:null==u?void 0:u.displayName)&&void 0!==i?i:null==u?void 0:u.name)&&void 0!==n?n:null===(o=u.id)||void 0===o?void 0:o.user)&&void 0!==a?a:"New WA board",owner:m._id,personList:v,isGroup:null!==(l=null==u?void 0:u.isGroup)&&void 0!==l&&l,isWABoard:!0,_IdByWaChatIds:h};c(g.r.setNewWaBoardStatus("creating WA board"));const T=await c(s.DBBoardsThunks.create(A)),S=u.participants.map(e=>{var t;return c((0,f.EH)(null===(t=e.id)||void 0===t?void 0:t._serialized)).unwrap()});Promise.all(S).then(e=>{var t;const a=e.filter(e=>!e.error).map(e=>B(B({},u.participants.find(t=>{var a;return(null==t||null===(a=t.id)||void 0===a?void 0:a._serialized)===e.waId})),{},{profilePic:e.profilePic}));c((0,b.l$)({boardId:null===(t=T.payload)||void 0===t?void 0:t._id,personList:a}))})}),(0,T.zD)("toggleSelectAllContactsThunk",async(e,t)=>{const a=t.getState(),n=t.dispatch,i=[...(0,w.V1)(a)];if(0===a.WhatsAppReducer.importedContactsArray.length){n((0,w.T2)([...i]))}else n((0,w.T2)([]))}),(0,T.zD)("scheduleMessage",async(e,t)=>{let{contact:a,isSelected:n}=e;const i=t.getState(),r=t.dispatch,s=[...i.WhatsAppReducer.importedContactsArray],o=s.findIndex(e=>e.whatsappId===a.whatsappId);o>-1&&s.splice(o,1),n&&s.push(a),r((0,w.T2)(s))})),j=((0,T.zD)("toggleContactSelectionThunk",async(e,t)=>{let{contact:a}=e;const n=t.getState(),i=t.dispatch,r=void 0!==n.WhatsAppReducer.importedContactsArray.find(e=>e.whatsappId===a.id._serialized);i(E({contact:a,isSelected:!r}))}),(0,T.zD)("getProfilePicUrlThunk",async(e,t)=>{const a=t.dispatch,n=t.getState();let i=(0,x.gA)(n,e);var r;if(void 0===i&&((0,c.B2)()&&(i=await A.B.getProfilePicUrl(e),"string"==typeof i||(i=Array.isArray(i)&&null!==(r=i[0])&&void 0!==r&&null!==(r=r.profilePic)&&void 0!==r&&r.eurl?i[0].profilePic.eurl:void 0),i))){const t=(0,s.i2Z)(n.DBWaContactsCacheReducer,{waId:e});a(s.WaContactsCacheReducerActions.upsertOne({_id:t._id,imgUrl:null!=i?i:""}))}})),L=((0,T.zD)("getWaVersionThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,k.mB)(n),r=await(0,u.XL)({cmd:"getWaVersion"});r&&(null!=i&&i.waVersion&&i.waVersion===r||a(s.DBUserThunks.patch({entity:{_id:i._id,waVersion:r}})))}),(0,T.zD)("requestMissingContactsImagesThunk",async(e,t)=>{let{startIndex:a,endIndex:n,debouncedSearchFilter:i}=e;const r=t.dispatch,s=t.getState();let o=[];o=(0,x.R$)(s,i).slice(a,n+1).filter(e=>O()(null==e?void 0:e.profilePicLastUpdate).isBefore(O()().subtract(1,"day"))||!(null!=e&&e.profilePicLastUpdate)).map(e=>{var t;return null===(t=e.id)||void 0===t?void 0:t._serialized}),o.length>0&&r(D.cZv.initiate({type:"requestMissingContactsImages",contactIds:o}))}),(0,T.zD)("clearChatInputThunk",async(e,t)=>{var a;const{getState:n}=t,i=n().WhatsAppReducer.currentChat;A.B.clearChatInput(null==i||null===(a=i.id)||void 0===a?void 0:a._serialized)}),(0,T.zD)("media/sendMedia",async(e,t)=>{const{getState:a,dispatch:n}=t,i=a();if((0,k.mB)(i))try{var r,s,o,c,u,g,y,h,v;const e=await A.B.getMedia(null!==(r=null===(s=i.WhatsAppReducer.currentChat)||void 0===s||null===(s=s.id)||void 0===s?void 0:s._serialized)&&void 0!==r?r:""),t=i.WhatsAppReducer.currentChat;if(!t)throw new Error("No chat selected");let a,p;if(null!=e&&null!==(o=e.mediaBlobList)&&void 0!==o&&o[0]){var f,b;const t=e.mediaBlobList[0],n=t.file instanceof Blob||t.file instanceof File?t.file:(null===(f=t.file)||void 0===f?void 0:f.blob)||(null===(b=t.file)||void 0===b?void 0:b._blob);if(!n)throw new Error("Invalid media format");const{name:i,type:r}=(0,d.x)({originalName:t.filename,mimeType:t.mimetype});a=new File([n],i,r?{type:r}:{}),p=C.generate(10),l.S.set(p,a)}const k=B(B({},t),{},{name:null!==(c=null!==(u=null!==(g=null!==(y=null==t?void 0:t.formattedTitle)&&void 0!==y?y:null==t?void 0:t.name)&&void 0!==g?g:null==t?void 0:t.displayName)&&void 0!==u?u:null==t||null===(h=t.contact)||void 0===h?void 0:h.displayName)&&void 0!==c?c:"Unknown",id:null==t||null===(v=t.id)||void 0===v?void 0:v._serialized});setTimeout(()=>{n(m.PD.editMessage({message:null==e?void 0:e.caption,imageId:p,contactList:[k],dueDate:O()().toISOString(),isRecurring:!1,state:I.Zu.editing}))},1e3)}catch(e){throw e}else n(p.g.setStatus("Login"))}),(0,T.zD)("waitForConnectedThunk",async(e,t)=>{const a=t.getState(),n=async()=>!!(0,h.B1)(a);for(;;){if(await n())return;await new Promise(e=>setTimeout(e,2e3))}})),N=(0,T.zD)("whatsapp/getChatsAndContactsThunk",async(e,t)=>{var a,n;const{getState:i,dispatch:r}=t,o=i(),l=(0,k.mB)(o),d=null!==(a=e.shouldForceUpdate)&&void 0!==a&&a,u=null!==(n=e.shouldRefreshContacts)&&void 0!==n&&n;if(l){if((0,c.B2)()&&(!o.DBWaContactsCacheReducer.itemsLoadedLocaly||!o.DBWaChatReducer.itemsLoadedLocaly)){var m,g;await r(L());const e=await A.B.getChatsAndContacts();var y,h;if((null==e||null===(m=e.contactList)||void 0===m?void 0:m.length)>0)r(s.WaContactsCacheReducerActions.setAll(null!==(y=null==e?void 0:e.contactList)&&void 0!==y?y:[])),r(s.WaContactsCacheReducerActions.setItemsLoadedLocaly(!0));if((null==e||null===(g=e.chatList)||void 0===g?void 0:g.length)>0)r(s.MD0.setAll(null!==(h=null==e?void 0:e.chatList)&&void 0!==h?h:[])),r(s.MD0.setItemsLoadedLocaly(!0))}if(!(0,c.B2)()){const e=o.DBWaContactsCacheReducer.itemsLoading,t=o.DBWaContactsCacheReducer.ids.length>0;e||t&&!u||r(s.bF$.find({$forceContactsUpdate:d}))}}else r(p.g.setStatus("Login"))});(0,T.zD)("forceRefreshContactsThunk",async(e,t)=>{const a=t.dispatch;try{await a(s.bF$.find({$forceContactsUpdate:!0})).unwrap()}catch(e){throw e}}),(0,T.zD)("checkAndRefreshContactsThunk",async(e,t)=>{const a=t.getState(),n=t.dispatch;if(!(0,c.B2)()){var i;const e=a.DBWaContactsCacheReducer.entities,t=Object.values(e),r=60;(0===t.length||(null===(i=t[0])||void 0===i?void 0:i.updatedAt)&&O()().diff(O()(t[0].updatedAt),"minutes")>=r)&&await n(N({shouldForceUpdate:!0,shouldRefreshContacts:!0}))}}),(0,T.zD)("whatsapp/getLinkPreview",async(e,t)=>{try{return await A.B.getWaLinkPreview(e)}catch(e){throw e}});let F=new Map,z=null;(0,T.zD)("whatsapp/requestProfilePic",async(e,t)=>{const a=t.dispatch,n=t.getState();F.set(e,!0),z&&clearTimeout(z),z=setTimeout(async()=>{const e=Array.from(F.keys());if(F.clear(),e.length>0){const t=e.filter(e=>void 0===(0,x.gA)(n,e));t.length>0&&a(D.cZv.initiate({type:"requestMissingContactsImages",contactIds:t}))}},500)})},30703:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});const n=(0,a(30038).Z0)({name:"chatList",initialState:{contactList:[]},reducers:{setContactList(e,t){e.contactList=t.payload}}}),{setContactList:i}=n.actions,r=n.reducer},31141:(e,t,a)=>{"use strict";a.d(t,{J0:()=>ee,XB:()=>ne,Yd:()=>q,ey:()=>re,gV:()=>ve,l$:()=>ie,pw:()=>he,tt:()=>te,wZ:()=>me,z2:()=>ae});var n=a(80045),i=a(64467),r=a(85855),s=a(99331),o=a(14513),l=a(79043),d=a(63210),c=a(87879),u=a(97424),p=a(42001),m=a(59680),g=a(36596),y=a(94303),h=(a(4458),a(66159)),v=a(12239),f=a(92032),b=a(1081),k=a(30038),w=a(37021),x=a(41947),D=a(42636),I=a(38189);function A(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const O=(e,t,a)=>{let n;try{var i,r;if("string"==typeof e&&"string"==typeof t)n="asc"===a.sortOrder?null===(i=e)||void 0===i?void 0:i.localeCompare(t):null===(r=t)||void 0===r?void 0:r.localeCompare(e);else e=e||1/0,t=t||1/0,n="asc"===a.sortOrder?e-t:t-e}catch(e){}return null!=n?n:0},C=(0,b.Mz)(e=>e,e=>{let t=[];const a=(0,u.xd)(e),n=e.DBTaskColumnReducer,i=null==n?void 0:n.entities;t=Object.values(i);return t.filter(e=>e.boardId===a)}),M=((0,b.Mz)(e=>e,e=>(0,g.Qrb)(e.DBTasksReducer,{boardId:(0,u.xd)(e),$or:[{deleted:{$exists:!1}},{deleted:!1}]})),(0,b.Mz)([e=>e,(e,t,a)=>({taskList:t,columnId:a})],(e,t)=>{let{taskList:a,columnId:n}=t;const i=[],r=[];let s,o;for(let e=0;e<a.length;e++){var l;const t=a[e],n=null==t?void 0:t.groupId,r=a.filter(e=>(o=e.groupId,e.groupId===n));var d;if((null===(l=r[0])||void 0===l?void 0:l.groupId)!==s)s=null===(d=r[0])||void 0===d?void 0:d.groupId,i.push(r)}P(e,o);for(let t=0;t<i.length;t++){const a=i[t];let s,o,l;const d=new Date(Math.max(...a.map(e=>{var t;return new Date(null==e||null===(t=e.customData[n])||void 0===t||null===(t=t.value)||void 0===t?void 0:t.endDate)}))),c=new Date(Math.min(...a.map(e=>{var t;return new Date(null==e||null===(t=e.customData[n])||void 0===t||null===(t=t.value)||void 0===t?void 0:t.startDate)})));a.map(t=>{l=null==t?void 0:t.groupColor,s=null==t?void 0:t.groupId,o=(0,g.V1I)(e.DBTaskgroupsReducer,{_id:s},"name")});const u={start:new Date(c),end:new Date(d),name:o,id:s,progress:100,isDisable:!1,type:"project",hideChildren:!1,styles:{projectBackgroundColor:l,projectBackgroundCriticalColor:l,projectBackgroundSelectedColor:l}};r.find(e=>u.id===e.id)||r.push(u)}return r})),B=(0,b.Mz)([e=>e,(e,t,a)=>({taskId:t,columnId:a})],(e,t)=>{let{taskId:a,columnId:n}=t;const i=(0,D.ao)(e);for(let e=0;e<i.length;e++){const t=i[e];var r;if(a===t._id)return null===(r=t.customData[n])||void 0===r?void 0:r.value}}),_=((0,b.Mz)([e=>e,(e,t,a)=>({picker:t,taskId:a})],(e,t)=>{let{picker:a,taskId:n}=t;const i=(0,u.xd)(e),r=[];return V(e,i).filter(e=>e.type===a).map((t,i)=>{if(t.type===a){const a=B(e,n,null==t?void 0:t._id);a&&r.push(...a)}}),r}),(0,b.Mz)([e=>e,(e,t)=>({ganttTaskList:t})],(e,t)=>{let{ganttTaskList:a}=t;(0,D.ao)(e);function n(e,t){return e.setDate(e.getDate()+t),e}for(let e=0;e<a.length;e++){var i;const t=a[e];if("task"===(null==t?void 0:t.type)&&0!==Object.keys(null!==(i=null==t?void 0:t.dependencies[0])&&void 0!==i?i:{}).length){var r,s,o;const e=null==t||null===(r=t.dependencies[0])||void 0===r?void 0:r.ownTarget,i=null==t||null===(s=t.dependencies[0])||void 0===s?void 0:s.sourceTarget,l=null==t||null===(o=t.dependencies[0])||void 0===o?void 0:o.sourceId,d=a.find(e=>{if(l===(null==e?void 0:e.id))return e});switch(e){case"startOfTask":if("startOfTask"===i){if(d.start.getTime()>(null==t?void 0:t.start.getTime())){const e=(d.start.getTime()-(null==t?void 0:t.start.getTime()))/864e5;t.start=n(t.start,e),t.end=n(t.end,e)}}else if("endOfTask"===i&&d.end.getTime()>(null==t?void 0:t.start.getTime())){const e=(d.end.getTime()-(null==t?void 0:t.start.getTime()))/864e5;t.start=n(t.start,e+1),t.end=n(t.end,e+1)}break;case"endOfTask":if("startOfTask"===i){if(d.start.getTime()>=(null==t?void 0:t.end.getTime())){const e=(d.start.getTime()-(null==t?void 0:t.end.getTime()))/864e5;t.start=n(t.start,e+1),t.end=n(t.end,e+1)}}else if("endOfTask"===i&&d.end.getTime()>=(null==t?void 0:t.end.getTime())){const e=(d.end.getTime()-(null==t?void 0:t.end.getTime()))/864e5;t.start=n(t.start,e+1),t.end=n(t.end,e+1)}}}}})),P=(0,b.Mz)([e=>e,(e,t)=>({groupId:t})],(e,t)=>{var a,n;let{groupId:i}=t;const r=(0,u.xd)(e),s=null===(a=V(e,r).map((e,t)=>({type:e.type,_id:e._id,title:e.title})).filter(e=>"status-option-picker"===e.type)[0])||void 0===a?void 0:a._id,o=[],l=ge(e,{groupId:i,columnId:s,boardId:r,columnType:"status-option-picker"});let d;const c=null==l||null===(n=l.selectedOptionsCloned)||void 0===n?void 0:n.filter((e,t,a)=>t===a.findIndex(t=>(null==t?void 0:t._id)===(null==e?void 0:e._id))),p=null==c?void 0:c.sort((e,t)=>(null==e?void 0:e.order)-(null==t?void 0:t.order));let m="linear-gradient(";return p.map((e,t)=>{const a=null==e?void 0:e.bgcolor;d=((e,t)=>{const a=e/t*100;return a%1!=0?a.toFixed(2):a})(null==e?void 0:e.count,null==l?void 0:l.tasksLength),o.push({bgColor:a,percentage:d})}),o.map(e=>{const t="90deg, ".concat(e.bgColor,", ").concat(e.percentage,",");m+=t}),m+=" )",m}),R=(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,u.xd)(e),n=ye(e,t),i=M(e,n,t),r=(0,g.wvC)(e.DBGanttReducer,{boardId:a}),s=(0,g.k1u)(e.DBGanttReducer,{_id:r[0]._id},"orderTasksBy"),o=(0,g.k1u)(e.DBGanttReducer,{_id:r[0]._id},"milestoneTasks"),l=(0,g.k1u)(e.DBGanttReducer,{_id:r[0]._id},"showTasksByGroup"),d=(0,g.k1u)(e.DBGanttReducer,{_id:r[0]._id},"fixDependency"),c=[],p=g.sWy.selectAll(e),m=[],y=new Date;for(let a=0;a<n.length;a++){var h,v,f,b,k,w;const i=n[a],s=null===(h=n[a])||void 0===h?void 0:h._id,l=[],d=null===(v=r[0])||void 0===v?void 0:v.tasksDependencies,c=d?Object.keys(d):{};if(0!==Object.keys(c).length){const e=d[s];l[0]=S({},e)}const u=U(e,null===(f=n[a])||void 0===f?void 0:f._id,t);let g=null!==(b=new Date(null==u?void 0:u.startDate))&&void 0!==b?b:new Date(y),x=null!==(k=new Date(null==u?void 0:u.endDate))&&void 0!==k?k:new Date(y.getDate()+1);const D=0,I=null===(w=n[a])||void 0===w?void 0:w.text,A=p.find(e=>e._id===i.groupId),T=null==i?void 0:i.groupColor;if(g>=x){const e=g;g=x,x=e}const O=null==o?void 0:o.find(e=>s===e),C={start:new Date(g),end:new Date(x),name:I,id:s,type:O?"milestone":"task",progress:D,isDisabled:!1,dependencies:l,parent:null==A?void 0:A._id,styles:{barBackgroundColor:T,barBackgroundSelectedColor:T}};m.find(e=>C.id===e.id)||m.push(C)}l?c.push(...m,...i):c.push(...m);let x=E(e,c,r[0]);return!0===d&&_(e,x),"customOrder"===s||void 0===s?x=E(e,c,r[0]):"startDate"===s?x=c.sort(function(e,t){return e.start-t.start}):"endDate"===s&&(x=c.sort(function(e,t){return t.end-e.end})),x}),E=((0,b.Mz)([e=>e,(e,t,a)=>({taskId:t,gantt:a})],(e,t)=>{let{taskId:a,gantt:n}=t;const i=null==n?void 0:n.milestoneTasks;return null!=i&&i.find(e=>a===e)?"milestone":"task"}),(0,b.Mz)([e=>e,(e,t,a)=>({ganttTaskList:t,gantt:a})],(e,t)=>{let{ganttTaskList:a,gantt:n}=t;const i=null==n?void 0:n.tasksOrder;let r=[];if((null==i?void 0:i.length)>1){for(const e in i){const t=Object.keys(i[e]);Object.values(i[e]);const n=a.find(e=>e.id===t[0]);r.push(n)}const e=a.filter(e=>!r.includes(e));r.push(...e)}else r=[...a];return r})),j=(0,b.Mz)([e=>e],e=>(0,g.$0K)(e.DBTaskgroupsReducer,{boardId:(0,u.xd)(e),$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id","isCollapsed","colorAccent","order","isFooterAutoFocused","isSubFooterAutoFocused"],{order:1})),L=(0,b.Mz)(e=>e,D.ao,j,u.xd,(e,t,a,n)=>{var i;let r=!1;const o=e.TasksReducer.currentBoardView,[l]=(0,g.bTq)(e.DBBoardViewReducer,{boardId:n,_id:o.id});let d=(0,g.Y6C)(e.DBViewFiltersReducer,{viewId:null!==(i=null==l?void 0:l._id)&&void 0!==i?i:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{updatedAt:1});(e.TasksReducer.tasksFilter.text||e.TasksReducer.personFilter||d.length>0)&&(r=!0);return(0,s.c)(n,a,t,r,e.TasksReducer.isGroupDragging,e.TasksReducer.toggleTasksMap)}),N=(0,b.Mz)([e=>e,(e,t,a,n)=>({columnId:t,columnValue:a,isDefault:n})],(e,t)=>{let{columnId:a,columnValue:n,isDefault:i}=t;const r=(0,D.ao)(e),s=(0,g.u7r)(e.DBTaskColumnOptionReducer,{boardId:(0,u.xd)(e),columnId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]},void 0,{order:1}).filter(e=>e._id!==n).map(e=>e._id);let o=[],l=[];for(let e=0;e<r.length;e++){let t=!1;const d=r[e];d.customData&&d.customData[a]&&d.customData[a].value===n&&(t=!0),t?o.push(d):i&&(d.customData?(void 0===d.customData[a]||-1===s.indexOf(d.customData[a].value))&&l.push(d):l.push(d))}return[...o,...l].sort((e,t)=>(void 0===e.customData||void 0===e.customData[a]||void 0===e.customData[a].order?-1:e.customData[a].order)-(void 0===t.customData||void 0===t.customData[a]||void 0===t.customData[a].order?-1:t.customData[a].order))}),F=(0,b.Mz)([u.xd,e=>e,(e,t)=>t,(e,t,a,n,i)=>N(e,a,n,i)],(e,t,a,n)=>{const i=(0,g.Oy_)(t.DBKanbanReducer,{boardId:e,_id:a});let r=[];const s=n.length;r=i.tasksOrder?n.sort((e,t)=>{let a=s;void 0!==i.tasksOrder[e._id]&&(a=i.tasksOrder[e._id]);let n=s;return void 0!==i.tasksOrder[t._id]&&(n=i.tasksOrder[t._id]),a-n}):n;return r.map((e,t)=>({_id:e._id}))}),z=(e,t)=>{const a=r.pz.find(e=>e.type===(null==t?void 0:t.type));let n;if(null!=a&&a.cellValueFunction)n=a.cellValueFunction(e);else{const a=(null==e?void 0:e.customData)&&(null==e?void 0:e.customData[null==t?void 0:t._id]);n=null==a?void 0:a.value}return n},U=(0,b.Mz)([e=>e,(e,t,a)=>({taskId:t,columnId:a})],(e,t)=>{let{taskId:a,columnId:n}=t;const i=e.DBTasksReducer,r=e.DBTaskColumnReducer,[s]=(0,g.Qrb)(i,{_id:a}),[o]=(0,g.l_$)(r,{_id:n});return z(s,o)}),V=((0,b.Mz)([e=>e,u.xd],(e,t)=>(0,g.$0K)(e.DBTaskgroupsReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id","name"])),(0,b.Mz)([(e,t)=>(0,g.l_$)(e.DBTaskColumnReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],boardId:null!=t?t:"No Board"},[],{order:1}),(e,t,a)=>(0,D.j)(e,a)],(e,t)=>{let a;return a=[...w.Z,...e].sort((e,t)=>{var a,n;return(null!==(a=e.order)&&void 0!==a?a:0)-(null!==(n=t.order)&&void 0!==n?n:0)}),0===t&&(a=a.splice(0,2)),a})),W=((0,b.Mz)([u.xd,(e,t)=>e,(e,t)=>t],(e,t)=>{(0,u.xd)(e);return C(e).find(e=>t===(null==e?void 0:e._id))}),(0,b.Mz)([u.xd,(e,t)=>e,(e,t)=>t],(e,t,a)=>{const n=(0,g.Z4b)(t.DBKanbanReducer,{_id:a},"includedColumns");let i;return i=[...(0,g.l_$)(t.DBTaskColumnReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],boardId:e},["_id","type","title"],{order:1})].filter(e=>n&&n[null==e?void 0:e._id]).sort((e,t)=>{var a,n;return(null!==(a=null==e?void 0:e.order)&&void 0!==a?a:0)-(null!==(n=null==t?void 0:t.order)&&void 0!==n?n:0)}),i.map((e,t)=>({_id:null==e?void 0:e._id,type:null==e?void 0:e.type,title:null==e?void 0:e.title}))}),(0,b.Mz)([e=>e,u.xd],(e,t)=>(0,g.V1I)(e.DBTaskgroupsReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id"],{order:-1})),(0,b.Mz)([u.xd,(e,t)=>e,(e,t)=>t],(e,t,a)=>{const n=(0,g.J4y)(t.DBBoardViewReducer,{_id:a},"includedColumns");let i;return i=[...(0,g.l_$)(t.DBTaskColumnReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],boardId:e},["_id","type","title"],{order:1})].filter(e=>n&&n[null==e?void 0:e._id]).sort((e,t)=>{var a,n;return(null!==(a=null==e?void 0:e.order)&&void 0!==a?a:0)-(null!==(n=null==t?void 0:t.order)&&void 0!==n?n:0)}),i.map((e,t)=>({_id:null==e?void 0:e._id,type:null==e?void 0:e.type,title:null==e?void 0:e.title}))})),Q=(0,b.Mz)([u.xd,e=>e],(e,t)=>{const a=(0,u.xd)(t),n=t.TasksReducer.currentBoardView,[i]=(0,g.bTq)(t.DBBoardViewReducer,{boardId:a,_id:n.id});return i}),G=((0,b.Mz)([e=>e,(e,t)=>(0,g.l_$)(e.DBTaskColumnReducer,{$and:[{$or:[{deleted:{$exists:!1}},{deleted:!1}]},{$or:[{isVisible:!0},{isVisible:{$exists:!1}}]}],boardId:null!=t?t:"No Board"},[],{order:1}),(e,t,a)=>a],(e,t,a)=>{let n;if("tasks"===e.TasksReducer.viewMode){const i=(0,u.xd)(e),r=e.TasksReducer.currentBoardView;if((0,g.bTq)(e.DBBoardViewReducer,{boardId:i,_id:r.id}).length>0){const t=W(e,r.id);n=[...w.Z,...t].sort((e,t)=>{var a,n;return(null!==(a=e.order)&&void 0!==a?a:0)-(null!==(n=t.order)&&void 0!==n?n:0)})}else{const i=(0,D.Ux)(e,a),r=(0,g.V1I)(e.DBTaskgroupsReducer,{_id:a},["isCollapsed"]);n=[...w.Z,...t].sort((e,t)=>{var a,n;return(null!==(a=e.order)&&void 0!==a?a:0)-(null!==(n=t.order)&&void 0!==n?n:0)}),(0===i||r)&&(n=n.splice(0,2))}}else{const a=e.MyWorkReducer.myWorkPreferences;n=G(a,t)}return n}),(e,t)=>{let a=[];const n=["person-picker","datepicker","status-option-picker"],i={"person-picker":"Owner","status-option-picker":"Status",datepicker:"Date"};let r={};const s=t.filter(e=>!(!n.includes(e.type)||r[e.type])&&(r[e.type]=!0,!0)).map(e=>S(S({},e),{},{width:180,title:i[e.type]})).sort((e,t)=>n.indexOf(e.type)-n.indexOf(t.type));return n.forEach((e,t)=>{if(!r[e]){const a=s.findIndex(e=>n.indexOf(e.type)>t),r={_id:"empty-cell",type:"empty-cell",title:i[e],width:180,static:!0,outerCell:!0,order:t};-1===a?s.push(r):s.splice(a,0,r)}}),null!=e&&e.selectedColumns&&s.forEach((a,n)=>{const r=null==e?void 0:e.selectedColumns[a.boardId];if(r)if(r.status&&"status-option-picker"===a.type){const e=t.find(e=>e._id===r.status);e&&(s[n]=S(S({},e),{},{width:250,title:i[e.type]}))}else if(r.date&&"datepicker"===a.type){const e=t.find(e=>e._id===r.date);e&&(s[n]=S(S({},e),{},{width:100,title:i[e.type]}))}}),a=[...w.W,...s],a}),q=(0,b.Mz)([(e,t)=>V(e,t)],e=>e.filter(e=>!e.static)),H=((0,b.Mz)([e=>e,(e,t)=>q(e,t),(e,t,a)=>a],(e,t,a)=>{const n=(0,g.bgX)(e.DBWorkloadReducer,{_id:a},"includedColumns");return t.filter(e=>n&&n[e._id])}),(0,b.Mz)([u.xd,e=>e,(e,t)=>t,(e,t,a)=>a],(e,t,a,n)=>{const i=(0,g.bgX)(t.DBWorkloadReducer,{_id:n},"personPickerId"),r=(0,g.Qrb)(t.DBTasksReducer,{boardId:e,$or:[{deleted:{$exists:!1}},{deleted:!1}]},[],{}),s=(0,g.bgX)(t.DBWorkloadReducer,{_id:n},"tasksOrderByUser"),o=(e,t)=>{if(void 0===s)return t;if(void 0!==s[a]){const t=s[a];if(void 0!==t[e])return t[e]}},l=r.filter(e=>((e,t)=>{if(void 0===e.customData)return!1;if(void 0===e.customData[i])return"emptystateuserfordisplay"===t;if(void 0===e.customData[i].value)return"emptystateuserfordisplay"===t;if(0===e.customData[i].value.length)return"emptystateuserfordisplay"===t;{let a=0;for(let n=0;n<e.customData[i].value.length;n++)e.customData[i].value[n].id===t&&a++;if(0!==a)return!0}})(e,a)).sort((e,t)=>{const a=r.length;return o(e._id,a)-o(t._id,a)});return l.map(e=>({_id:e._id,customData:e.customData}))})),K=((0,b.Mz)([(e,t,a,n)=>e,(e,t,a,n)=>t,(e,t,a,n)=>a,(e,t,a,n)=>n,u.xd],(e,t,a,n,i)=>{const r=H(e,t,a),s=(0,g.u7r)(e.DBTaskColumnOptionReducer,{boardId:i,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),o=(0,g.bgX)(e.DBWorkloadReducer,{_id:a},"people"),l=(0,g.bgX)(e.DBWorkloadReducer,{_id:a},"defaultCapacity"),d=void 0===l?100:l;let c;var u;(e=>!(!o||!o[e]))(t)?c=null!==(u=o[t].capacity)&&void 0!==u?u:d:c=d;return r.map((e,t)=>{var a;const i=s.find(t=>void 0!==e.customData&&void 0!==e.customData[n]&&""!==e.customData[n].value.toString()&&t._id===e.customData[n].value);return[(null==i?void 0:i.complexity)/c*100,null!==(a=null==i?void 0:i.bgcolor)&&void 0!==a?a:"var(--color-surface)"]})}),(0,b.Mz)([(e,t,a,n)=>e,(e,t,a,n)=>t,(e,t,a,n)=>a,(e,t,a,n)=>n,u.xd],(e,t,a,n,i)=>{const r=H(e,t,a),s=(0,g.u7r)(e.DBTaskColumnOptionReducer,{boardId:i,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]});return r.map((e,t)=>{var a;const i=s.find(t=>void 0!==e.customData&&void 0!==e.customData[n]&&""!==e.customData[n].value.toString()&&t._id===e.customData[n].value);return null!==(a=null==i?void 0:i.complexity)&&void 0!==a?a:0})}),(0,b.Mz)([(e,t,a)=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{const n=(0,g.bgX)(e.DBWorkloadReducer,{_id:t},"people"),i=(0,g.bgX)(e.DBWorkloadReducer,{_id:t},"defaultCapacity"),r=void 0===i?100:i;let s;var o;(e=>!(!n||!n[e]))(a)?s=null!==(o=n[a].capacity)&&void 0!==o?o:r:s=r;return s}),(0,b.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{const a=(0,g.bgX)(e.DBWorkloadReducer,{_id:t},"defaultCapacity");return void 0===a?100:a}),(0,b.Mz)([u.xd,e=>e],(e,t)=>q(t,e).filter(e=>!e.static))),X=((0,b.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{let a;return a="board"===t?K(e).map((e,t)=>({_id:e._id,title:e.title,type:e.type,isVisible:e.isVisible})):K(e).map((e,t)=>({_id:e._id,title:e.title,type:e.type})),a}),(0,b.Mz)([(e,t)=>V(e,t)],e=>e.filter(e=>"timeline-picker"===e.type)),(0,b.Mz)([e=>e],e=>{const t=(0,u.xd)(e);return V(e,t).map((e,t)=>({type:e.type,_id:e._id,title:e.title})).filter(e=>"option-picker"===e.type||"status-option-picker"===e.type)}),(0,b.Mz)([(e,t,a)=>a,(e,t,a)=>V(e,t)],(e,t)=>t.filter(t=>t.type===e)),(0,b.Mz)([(e,t)=>q(e,t)],e=>{let t=e.filter(e=>{const t=r.pz.find(t=>t.type===e.type);return null==t?void 0:t.isCellInForms});return t=[{_id:"name",type:"row-prefix",title:"Task Name"},...t],t}),(0,b.Mz)([(e,t)=>q(e,t)],e=>e.map((e,t)=>[e._id,e.type,e.title])),(0,b.Mz)([(e,t)=>{let{columnId:a}=t;return{columnId:a}},(e,t)=>{let{boardId:a}=t;return q(e,a)}],(e,t)=>{let{columnId:a}=e;return t.find(e=>e._id===a)}),(0,b.Mz)(e=>e,e=>{const{selectedBoardId:t}=e.BoardsReducer;return g._xB.selectById(e,t)}),(0,b.Mz)(e=>e,e=>e.TasksReducer.personFilter),(0,b.Mz)([e=>e,D.aL,u.xd],(e,t,a)=>{let n=[],i=[];if(t.length>0){const i=V(e,a).filter(e=>"person-picker"===e.type).map(e=>{let{_id:t}=e;return t});if(i.length>0)for(let e=0;e<t.length;e++)i.forEach(function(a){var i;const r=null===(i=t[e])||void 0===i||null===(i=i.customData)||void 0===i||null===(i=i[a])||void 0===i?void 0:i.value;r&&n.push(r)})}n.length>0&&(i=n.flatMap(e=>e).filter((e,t,a)=>a.findIndex(t=>(null==t?void 0:t.id)===(null==e?void 0:e.id))===t).map(e=>e.id));return[...(0,g.jKk)(e.DBBoardUserReducer,{_id:{$in:i}}),...(0,g.u7r)(e.DBTaskColumnOptionReducer,{_id:{$in:i},boardId:a,imageUrl:{$exists:!0}}).map(e=>{const[t,a]=e.label.split(" ");return{_id:e._id,status:"active",profile:{firstName:t,lastName:a,profileImg:e.imageUrl},type:"option"}})]}),(0,b.Mz)([e=>e,j],(e,t)=>t.every(e=>e.isCollapsed)),(0,b.Mz)([(e,t,a)=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{const n=L(e).filter(e=>"task"===(null==e?void 0:e.type)),i=n.length,r=n.indexOf(n.find(e=>(null==e?void 0:e.id)===t));var s,o,l,d;return"previous"===a?0===r?null===(s=n[i-1])||void 0===s?void 0:s.id:null===(o=n[r-1])||void 0===o?void 0:o.id:r===i-1?null===(l=n[0])||void 0===l?void 0:l.id:null===(d=n[r+1])||void 0===d?void 0:d.id}),(0,b.Mz)([e=>e,L],(e,t)=>t.filter(e=>[o.L.task,o.L.subTask].indexOf(e.type)>-1).map(t=>e.DBTasksReducer.entities[t.taskId]))),Y=((0,b.Mz)(j,e=>e.length),(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>(0,g.AhX)(e.DBTasksExtraDataReducer,{taskId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id"],{createdAt:-1}))),Z=((0,b.Mz)(Y,e=>{var t;return null!==(t=e.length)&&void 0!==t?t:0}),(0,k.zD)("tasks/updateBoardViewTasksOrderByOrderChangesThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,u.xd)(n),r=n.TasksReducer.currentBoardView,[s]=(0,g.bTq)(n.DBBoardViewReducer,{boardId:i,_id:r.id});let o=s.tasksOrder;e.forEach(e=>{o=S(S({},o),{},{[e.id]:e.changes.order})}),a(g.Bqe.patch({entity:{_id:null==s?void 0:s._id,tasksOrder:o}}))})),J=(0,k.zD)("boardViews/addNewBoardViewThunk",async(e,t)=>{const{userId:a,boardId:n}=e,i=t.dispatch,r=(t.getState(),{owner:a,boardId:n,name:"Board View"});await i(h.L.setCurrentBoardView({type:"loader",id:""}));const s=(await i(g.Bqe.create(r))).payload;return await i(h.L.setCurrentBoardView({type:"boardView",id:s._id})),s}),$=((0,k.zD)("filter/saveFilterAsBoardViewThunk",async(e,t)=>{const{userId:a,boardId:n}=e,i=t.dispatch,r=t.getState(),s=((0,u.Wu)(r),(0,D.m_)(r,n)),o=(await i(J({userId:a,boardId:n}))).payload,l=s.reduce((e,t)=>(!0===t.isVisible&&(e[t._id]=t.isVisible),e),{});(0,g.Y6C)(r.DBViewFiltersReducer,{viewId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{updatedAt:1}).forEach(async e=>{let t=S({},e);t.viewId=null==o?void 0:o._id,delete t._id,await i(g.yik.create(t))}),i(g.Bqe.patch({entity:{_id:o._id,includedColumns:l}}))}),(0,k.zD)("tasks/updateTasksOrderAfterTaskDragEnd",async(e,t)=>{const a=t.dispatch,n=t.getState(),{source:i,destination:r,entity:s,dragThresholdFromIndex:l}=e;if(i._id&&i._id===r.parent)return;if(Math.abs(i.index-r.index)<=(null!=l?l:0))return;const d=i.index-r.index>0?"bottomTop":"topBottom";var p,m;if("bottomTop"===d&&(null!=r&&null!==(p=r.IgnoreElementTypesOnBottomTop)&&void 0!==p&&p.includes(r.type)))return;if("topBottom"===d&&(null!=r&&null!==(m=r.IgnoreElementTypesOnTopBottom)&&void 0!==m&&m.includes(r.type)))return;let y=[],h=0,v={_id:i._id};if("groups"===s){let e=[];e=(0,g.$0K)(n.DBTaskgroupsReducer,{_id:{$ne:i._id},boardId:(0,u.PX)(n),$or:[{deleted:!1},{deleted:{$exists:!1}}]},null,{order:1}),y=[...e]}if("tasks"===s){r.type===o.L.subTask&&(r.parent=(0,g.dgT)(n.DBTasksReducer,r._id,"parentTaskId"));let e={_id:{$ne:i._id},groupId:r.grandparent,$or:[{deleted:!1},{deleted:{$exists:!1}}],parentTaskId:r.parent};y=[...(0,g.Qrb)(n.DBTasksReducer,e,null,{order:1})],v.groupId=r.grandparent,v.parentTaskId=r.parent}h=y.findIndex(e=>e._id===r._id),"groups"===s?-1===h&&"bottomTop"===d?h=0:-1===h&&"topBottom"===d?h=y.length:("spacer"===r.type&&"bottomTop"===d||"topBottom"===d)&&(h+=1):-1===h&&"bottomTop"===d?h=y.length:-1===h&&"topBottom"===d?h=0:"topBottom"===d&&(h+=1),y.splice(h,0,v);const f=y.map((e,t)=>{let a={id:e._id,changes:{order:t,dirtySessionId:c.generate(16)}};return e._id===v._id&&(delete v._id,a.changes=S({order:t},v)),a}),b=Q(n);"tasks"===s&&a(b?Z(f):g.urn.patchMany(f)),"groups"===s&&(b||a(g.bSE.patchMany(f)))})),ee=((0,k.zD)("tasks/updateGantttTaskTypeThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=n.BoardsReducer.selectedBoardId,r=(0,g.wvC)(n.DBGanttReducer,{boardId:i})[0],s=[...(0,g.k1u)(n.DBGanttReducer,{_id:r._id},"milestoneTasks")],o=R(n,e.columnId);for(let t=0;t<o.length;t++){const a=o[t];if((null==a?void 0:a.id)===e.ganttTaskId){if("task"===a.type?a.type="milestone":a.type="task","milestone"!==(null==a?void 0:a.type)){const e=s.indexOf(null==a?void 0:a.id);s.splice(e,1);break}if(!s.includes(null==a?void 0:a.id)){s.push(null==a?void 0:a.id);break}}}a(g.EEr.patch({entity:{_id:r._id,milestoneTasks:s}}))}),(0,k.zD)("tasks/updateGanttOrderTasksByDragableThunk",async(e,t)=>{var a,n,i,r;let{originalTaskList:s,newTaskList:l,gantt:d}=e;const c=t.dispatch,u=t.getState(),p=L(u);let m,g,y,h;s.filter(e=>-1===l.indexOf(e)).map(e=>{const t=l.find(t=>e.id===t.id);if("task"===e.type&&e.id===t.id){const e=l.find(e=>t.parent===e.parent);t.styles=e.styles,m=t,p.find((t,a)=>{t.taskId===e.id&&(g=a)})}}),p.map((e,t)=>{"task"===e.type&&e.taskId===m.id&&(h=e,y=t)});const v={_id:null===(a=m)||void 0===a?void 0:a.id,index:y},f={_id:null===(n=h)||void 0===n?void 0:n.id,index:g,parent:"",grandparent:null===(i=m)||void 0===i?void 0:i.parent,type:null===(r=m)||void 0===r?void 0:r.type,IgnoreElementTypesOnBottomTop:[o.L.spacer,o.L.groupHeader],IgnoreElementTypesOnTopBottom:[o.L.spacer,o.L.newTask]};c($({source:v,destination:f,entity:"tasks",dragThresholdFromIndex:0}))}),(0,k.zD)("tasks/moveTaskGroupByDays",async(e,t)=>{const a=t.getState(),n=t.dispatch;let i,r,s;const o=24*e.days*60*60*1e3;R(a,e.columnId).map(t=>{"project"===t.type&&t.id===e.groupId&&(s=t),(t.start<i||void 0===r)&&(i=t.start.getTime()+o),(t.end<r||void 0===r)&&(r=t.end.getTime()+o);const a=new Date(t.start.getTime()+o),l=new Date(t.end.getTime()+o);if("task"===t.type&&t.parent===e.groupId){const i={startDate:new Date(a),endDate:new Date(l)};n(se({taskId:t.id,columnId:e.columnId,data:{value:i}}))}})}),(0,k.zD)("tasks/updateColumnOrderAfterTaskDragEnd",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=c.generate(16),{sourceColumnId:r,destinationBoardId:s,dragDirection:o}=e;let{destinationOrder:l}=e;const d=g.mYF.selectById(n,r);l=null!=l?l:0;const u=(0,g.l_$)(n.DBTaskColumnReducer,{boardId:s,order:o<0?{$gte:l}:{$gt:l}});o>0&&u.push(d);const p=u.map(e=>{let t;return t=e._id===d._id?o<0?null!=l?l:0:(null!=l?l:0)+1:e.order+1,{id:e._id,changes:{order:t,boardId:s,dirtySessionId:i,dirty:!0,version:(null==e?void 0:e.version)+1}}});a(g.nxM.patchMany(p))}),(0,k.zD)("tasks/addNewTaskThunk",async(e,t)=>{var a;const n=t.dispatch,i=t.getState(),r=(0,v.X_)(i);let s,o;const l=(0,u.Wu)(i);o=e,s=e.isQuickTask?e.boardId:l._id;(0,g.cip)(i.DBTasksReducer,{boardId:s,$or:[{deleted:!1},{deleted:{$exists:!1}}]}),!r||r.hasTasks();const d=null!==(a=(0,g.CA0)(i.DBTasksReducer,{groupId:o.groupId,deleted:!1},"order","max"))&&void 0!==a?a:0;o.order=d+1;const{payload:c}=await n(g.urn.create(o));if(null!=c&&c._id)return c}),(0,k.zD)("tasks/updateGroupOrderAfterDragEnd",async(e,t)=>{let{destinationIndex:a,draggedItem:n}=e;const i=t.dispatch,r=t.getState(),s=L(r);s.splice(a,0,n),i(g.bSE.patchMany(s.filter(e=>e.type===o.L.groupHeader).map((e,t)=>({id:e.id,changes:{order:t}}))))}),(0,k.zD)("tasks/sortTasks",async(e,t)=>{let{sortOrder:a,sortColumnId:n}=e;const i=t.dispatch,s=t.getState(),o=(0,D.aL)(s);let l,[d]=(0,g.l_$)(s.DBTaskColumnReducer,{_id:n});"row-prefix"===n?d={type:"row-prefix"}:l=(0,g.u7r)(s.DBTaskColumnOptionReducer,{boardId:d.boardId,columnId:n});const c=((e,t,a)=>{var n;const i=r.pz.find(e=>e.type===t.type),s=null!==(n=null==i?void 0:i.compareFunction)&&void 0!==n?n:O;return e.sort((e,n)=>{const i=z(e,t),r=z(n,t);return s(i,r,a)}),e})(o,d,{sortOrder:a,columnOptions:l,state:s});i(g.mZE.updateMany(c.map((e,t)=>({id:e._id,changes:{order:t}})))),s.TasksReducer.isSortActive||i(h.L.setOriginalTaskOrder(o)),i(h.L.setSortActive(!0))})),te=(0,k.zD)("tasks/undoTasksSort",async(e,t)=>{const a=t.dispatch,n=t.getState().TasksReducer.originalTasksOrder;a(g.mZE.updateMany(n.map((e,t)=>({id:e._id,changes:{order:e.order}}))))}),ae=(0,k.zD)("tasks/saveTaskOrder",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,D.aL)(n);a(g.urn.patchMany(i.map((e,t)=>({id:e._id,changes:{order:e.order}}))))}),ne=(0,k.zD)("tasks/saveTaskOrder",async(e,t)=>{(0,t.dispatch)(h.L.setTaskViewSideDrawerOpenWith(""))}),ie=((0,k.zD)("tasks/addNewColumnThunk",async(e,t)=>{var a,n;const i=t.dispatch,s=t.getState(),o=null!==(a=(0,g.wq1)(s.DBTaskColumnReducer,{boardId:e.boardId,$or:[{deleted:{$exists:!1}},{deleted:!1}]},"order","max"))&&void 0!==a?a:0;e.order=o+1;const l=(0,g.l_$)(s.DBTaskColumnReducer,{boardId:e.boardId,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{title:1}),d=e.title||"",c=l.filter(e=>{var t;return(null===(t=e.title)||void 0===t?void 0:t.substring(0,d.length))===d}).map(e=>e.title);let u="";if(c.length)for(let e=1;e<100&&!u;e++)c.includes("".concat(d," ").concat(e))||(u="".concat(d," ").concat(e));e.title=u||d,"number"===e.type&&(e.customData={func:"sum"});const p=(await i(g.nxM.create(e))).payload,m=r.pz.find(t=>t.type===e.type),y=null!==(n=null==m?void 0:m.defaultOptions)&&void 0!==n?n:[];for(const e of y)i(g.e2w.create(S(S({},e),{},{owner:p.owner,boardId:p.boardId,columnId:p._id})))}),(0,k.zD)("tasks/updateBoardPersonListThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,g.u7r)(n,{boardId:e.boardId,columnType:"person-picker"}),r=n.UserReducer.userId;for(const[t,n]of e.personList.entries()){var s;const o=i.find(e=>{var t;return(null===(t=e.customData)||void 0===t?void 0:t.waId)===n.waId}),l=S(S({},o),{},{columnType:"person-picker",owner:r,boardId:e.boardId,label:null!==(s=n.displayName)&&void 0!==s?s:null==n?void 0:n.label,customData:{waId:n.waId},imageUrl:n.profilePic,order:t,isDefaultLabel:!1});a(o?g.e2w.patch({entity:l}):g.e2w.create(l))}})),re=((0,k.zD)("tasks/createNewGroupAtBottom",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,g.xTm)(n.DBTaskgroupsReducer,{boardId:e.boardId,$or:[{deleted:{$exists:!1}},{deleted:!1}]},"order","max");e.order=i+1,a(g.bSE.create(e))}),(0,k.zD)("extraDatFfiles/createOrUpdateTaskExtraDatFile",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=n.BoardsReducer.selectedBoardId,r=n.ExtraDataReducer.displayExtraDataOfTaskById,s=(0,g.Hy0)(n.DBTasksExtraDataFilesReducer,{taskId:r,$or:[{deleted:{$exists:!1}},{deleted:!1}]});if(s){const t=[...s.files,...e],n={entity:{_id:s._id,files:t}};await a(g.v4X.patch(n))}else await a(g.v4X.create({files:e,taskId:r,boardId:i}));return(0,D.AK)(n)}),(0,k.zD)("tasks/addNewTaskGroupThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,g.xTm)(n.DBTaskgroupsReducer,{boardId:e.boardId,$or:[{deleted:{$exists:!1}},{deleted:!1}]},"order","max");e.order=i+1,a(g.bSE.create(e))}),(0,k.zD)("tasks/addNewGroupBelowTaskGroup",async(e,t)=>{(0,t.dispatch)(g.bSE.create(e))}),(0,k.zD)("tasks/checkIfMenuActiveTaskIdInBulkAction",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,m.yr)(n),r=n.TasksReducer.menuActiveTaskId;i.find(e=>e._id===r)||(a(m.EX.setIsBulkActionsDialogOpen(!1)),a(m.EX.setBulkTasksMap({})))})),se=((0,k.zD)("tasks/checkIfMenuActiveTaskIdInBulkAction",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=n.TasksReducer.menuActiveTaskId,r=(0,g.mCi)(n.DBTasksReducer,i),s=(0,g.Qrb)(n.DBTasksReducer,{groupId:r.groupId,parentTaskId:{$exists:!1},$or:[{deleted:{$exists:!1}},{deleted:!1}]}).map(e=>({id:e._id,changes:{order:i===e._id?0:e.order+1}}));a(g.urn.patchMany(s))}),(0,k.zD)("tasks/deleteOptionFromTaskThunk",async(e,t)=>{let{taskId:a,columnId:i}=e,{dispatch:r,getState:s}=t;const o=s(),[l]=(0,g.Qrb)(o.DBTasksReducer,{_id:a});if(!l)return;const d=(0,m.yr)(o);if(d.some(e=>e._id===a)){const e=d.map(e=>{const t=e.customData,{[i]:a}=t,r=(0,n.A)(t,[i].map(A));return{id:e._id,changes:{customData:r}}}),t=await r(g.urn.patchMany(e));if(null!=t&&t.payload){const e=Object.assign({},...t.payload.map(e=>({[e._id]:e})));r(m.EX.setBulkTasksMap(e))}}else{const e=l.customData,{[i]:t}=e,a=(0,n.A)(e,[i].map(A)),s={entity:S(S({},l),{},{customData:a})};r(g.urn.patch(s))}}),(0,k.zD)("tasks/convertSubTaskToTaskAndReOrderGroup",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=n.TasksReducer.menuActiveTaskId,r=(0,g.mCi)(n.DBTasksReducer,i);if(!r)throw new Error("Task not found");const s=(0,g.Qrb)(n.DBTasksReducer,{_id:null==r?void 0:r.parentTaskId});if(!s||0===s.length)throw new Error("Parent task not found");let o=(0,m.yr)(n);0===o.length&&(o=[{_id:i}]);const l=o.map(e=>({id:e._id,changes:{parentTaskId:"",taskType:"task",order:s[0].order+1}})),d=(0,g.Qrb)(n.DBTasksReducer,{groupId:r.groupId,taskType:{$ne:"subTask"},$or:[{deleted:{$exists:!1}},{deleted:!1}]}).map(e=>({id:e._id,changes:{order:e.order>s[0].order?e.order+1:e.order}}));d.push(...l),a(g.urn.patchMany(d))}),(0,k.zD)("tasks/closeAndOpenTasksIfOpen",async(e,t)=>{const a=t.dispatch;t.getState().TasksReducer.isTasksPanelOpen&&a(h.L.setIsTasksPanelOpen(!0))}),(0,k.zD)("tasks/createNewGroupAtTopThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,u.xd)(n),r=(0,g.$0K)(n.DBTaskgroupsReducer,{boardId:i,$or:[{deleted:{$exists:!1}},{deleted:!1}]}).map(e=>({id:e._id,changes:{order:e.order+1}}));a(g.bSE.patchMany(r)),await a(g.bSE.create(e))}),(0,k.zD)("tasks/checkIfMenuActiveTaskIdInBulkAction",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=n.MainReducer.menuActiveGroupId,r=((0,g.OBc)(n.DBTaskgroupsReducer,{_id:i}),(0,u.xd)(n)),s=(0,g.$0K)(n.DBTaskgroupsReducer,{boardId:r,$or:[{deleted:{$exists:!1}},{deleted:!1}]}).map(e=>({id:e._id,changes:{order:i===e._id?0:e.order+1}}));a(g.bSE.patchMany(s))}),(0,k.zD)("tasks/collapseAll",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=j(n);a(g.bSE.patchMany(i.map(t=>({id:t._id,changes:{isCollapsed:e}}))))}),(0,k.zD)("tasks/updateCellValueThunk",async(e,t)=>{var a;const{taskId:n,columnId:i,data:r}=e,s=t.dispatch,o=t.getState(),[l]=(0,g.Qrb)(o.DBTasksReducer,{_id:n}),d=(0,m.yr)(o),c=d.find(e=>e._id===n),u=null!==(a=(null==l?void 0:l.customData)&&(null==l?void 0:l.customData[i]))&&void 0!==a?a:{};if(c){const e=d.map(e=>({id:e._id,changes:{customData:S(S({},e.customData),{},{[i]:{value:r.value}})}})),t=await s(g.urn.patchMany(e));if(null!=t&&t.payload){const e=Object.assign({},...t.payload.map(e=>({[e._id]:e})));s(m.EX.setBulkTasksMap(e))}}else{const e={entity:S(S({},l),{},{customData:S(S({},l.customData),{},{[i]:S(S({},u),r)})})};l&&s(g.urn.patch(e))}})),oe=((0,k.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{taskId:a}=e,n=t.dispatch,i=t.getState(),[r]=(0,g.Qrb)(i.DBTasksReducer,{_id:a});n(m.EX.setBulkTasksMap({[a]:r}))}),(0,k.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{columnId:a,newPersonName:n,imgUrl:i,imgColor:r}=e,s=d.AX[Math.floor(Math.random()*d.AX.length)];let o=r;""===r&&(o=s);const l=t.dispatch,c=t.getState(),p=(0,u.xd)(c);l(g.e2w.create({boardId:p,columnId:a,label:n,imageUrl:""!==i?i:o}))}),(0,k.zD)("tasks/updateTaskOrderValueThunk",async(e,t)=>{const{taskId:a,optionId:n,isDefault:i,destinationIndex:r,kanbanId:s}=e,o=t.getState(),l=(0,g.Z4b)(o.DBKanbanReducer,{_id:s},"optionColumnId"),d=(0,u.xd)(o),c=(0,g.Oy_)(o.DBKanbanReducer,{boardId:d,_id:s}),p=F(o,s,l,n,i),[m]=(0,g.Qrb)(o.DBTasksReducer,{boardId:d,_id:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),y=[...p.filter(e=>e._id!==a)];y.splice(r,0,m);let h={};const v=y.map((e,t)=>({NullableId:e._id,number:t}));for(let e in v)h=S(S({},h),{},{[v[e].NullableId]:v[e].number});if(c.tasksOrder)for(const e in c.tasksOrder)void 0===h[e]&&(h=S(S({},h),{},{[e]:c.tasksOrder[e]}));const f=t.dispatch;f(g.rFI.patch({entity:{_id:c._id,tasksOrder:h}})),f(g.urn.patch({entity:{_id:a,customData:S(S({},null==m?void 0:m.customData),{},{[l]:{value:n}})}}))}),(0,k.zD)("tasks/openPickerThunk",async(e,t)=>{const{anchorId:a,pickerType:n}=e,i=t.getState(),r=(0,u.xd)(i);(0,t.dispatch)(y.S.togglePicker({pickerAnchorId:a,pickerProps:{boardId:r,type:n}}))}),(0,k.zD)("tasks/updateKanbanOptionColumn",async(e,t)=>{const{kanbanId:a,columnId:n}=e,i=t.getState(),[r]=(0,g.dsM)(i.DBKanbanReducer,{_id:a});(0,t.dispatch)(g.rFI.patch({entity:S(S({},r),{},{optionColumnId:n})}))}),(0,k.zD)("tasks/updateFormIncludeNameQuestion",async(e,t)=>{const{formId:a,value:n}=e,i=t.getState(),r=(0,u.xd)(i),s=(0,g.T5t)(i.DBFormReducer,{_id:a,boardId:r,$or:[{deleted:{$exists:!1}},{deleted:!1}]});(0,t.dispatch)(g.gVU.patch({entity:S(S({},s),{},{columnData:S(S({},null==s?void 0:s.columnData),{},{name:S(S({},null==s?void 0:s.columnData.name),{},{visible:n})})})}))}),(0,k.zD)("tasks/updateFormAfterSubmitEvent",async(e,t)=>{const{formId:a,value:n,field:i}=e,r=t.getState(),s=(0,u.xd)(r),o=(0,g.T5t)(r.DBFormReducer,{_id:a,boardId:s,$or:[{deleted:{$exists:!1}},{deleted:!1}]});(0,t.dispatch)(g.gVU.patch({entity:S(S({},o),{},{afterSubmit:S(S({},null==o?void 0:o.afterSubmit),{},{[i]:n})})}))}),(0,k.zD)("tasks/updateTaskOrderInWorkloadUserThunk",async(e,t)=>{var a;const{draggedTaskId:n,sourceUserId:i,destinationUserId:r,workloadId:s,destinationIndex:o}=e,d=t.getState(),c=(0,g.bgX)(d.DBWorkloadReducer,{_id:s},"personPickerId"),u=t.dispatch,p=null!==(a=(0,g.bgX)(d.DBWorkloadReducer,{_id:s},"tasksOrderByUser"))&&void 0!==a?a:{},m=H(d,r,s),y=(0,g.mCi)(d.DBTasksReducer,n),h=()=>{let e={};const t=[...m].filter(e=>e._id&&e._id!==n);t.splice(o,0,y);const a=t.map((e,t)=>({NullableId:e._id,number:t}));for(let t in a)e=S(S({},e),{},{[a[t].NullableId]:a[t].number});let i={};if(0===Object.keys(p).length)i={[r]:e};else if(void 0===p[r]){for(let e=0;e<Object.keys(p).length;e++)i=S(S({},i),{},{[Object.keys(p)[e]]:p[Object.keys(p)[e]]});i=S(S({},i),{},{[r]:e})}else for(let t=0;t<Object.keys(p).length;t++)i=Object.keys(p)[t]===r?S(S({},i),{},{[r]:e}):S(S({},i),{},{[Object.keys(p)[t]]:p[Object.keys(p)[t]]});u(g.Jtj.patch({entity:{_id:s,tasksOrderByUser:i}}))};if(i===r&&h(),i!==r){const e=U(d,n,c),t=e?e.filter(e=>e.id!==i):void 0;u(se({taskId:n,columnId:c,data:{value:t}}));const a=t?t.concat({id:r,type:"user"}):[{id:r,type:"user"}];a.sort((e,t)=>(0,l.$H)(e).localeCompare((0,l.$H)(t))),u(se({taskId:n,columnId:c,data:{value:a}})),h()}}),(0,b.Mz)([u.xd,(e,t)=>e,(e,t)=>t],(e,t,a)=>{const n=(0,g.Z4b)(t.DBKanbanReducer,{_id:a},"optionColumnId"),i=(0,g.u7r)(t.DBTaskColumnOptionReducer,{boardId:e,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]},void 0,{order:1}),r=(0,g.Oy_)(t.DBKanbanReducer,{boardId:e,_id:a});return i.sort((e,t)=>{if(r.columnsOrder){const a=i.length;let n=a;void 0!==r.columnsOrder[e._id]&&(n=r.columnsOrder[e._id]);let s=a;return void 0!==r.columnsOrder[t._id]&&(s=r.columnsOrder[t._id]),n-s}return e.order-t.order}).map((e,t)=>S(S({},e),{},{order:t}))}),(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>void 0!==(0,g.Z4b)(e.DBKanbanReducer,{_id:t},"optionColumnId")),(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,g.Z4b)(e.DBWorkloadReducer,{_id:t},"complexityPickerId");return!(null==a)}),(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,g.Z4b)(e.DBWorkloadReducer,{_id:t},"personPickerId");return!(null==a)}),(0,b.Mz)([(e,t)=>e,(e,t)=>t,u.xd],(e,t,a)=>{var n;const i={_id:"emptystateuserfordisplay",type:"user",boardId:a,name:"Empty Tasks",firstName:"Empty",lastName:"Tasks"},r=[...(0,u._r)(e),i],s=null!==(n=(0,g.bgX)(e.DBWorkloadReducer,{_id:t},"usersOrder"))&&void 0!==n?n:{},o=Object.keys(s),l=r.filter(e=>!o.includes(e._id)),d=[];if(0!==Object.keys(s).length){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)){const t=s[e],a=r.find(t=>t._id===e);a&&(d[t]=a)}let e=d.filter(e=>e);return e.push(...l),e}return r})),le=((0,b.Mz)([e=>e,(e,t)=>t,(e,t,a)=>a],(e,t,a)=>oe(t,a).find(t=>t._id===e)),(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>(0,u._r)(t).find(t=>t._id===e)),(0,b.Mz)([e=>e],e=>e.state.TasksReducer.toggleTasksMap[e.taskId]),(0,b.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{var a,n,i,r;const s=[...(0,u._r)(e),...(0,u.uy)(e)];return null!==(a=null!==(n=null===(i=s.find(e=>e.userId===(null==t?void 0:t._id)))||void 0===i?void 0:i.profile)&&void 0!==n?n:null===(r=s.find(e=>e._id===t._id))||void 0===r?void 0:r.profile)&&void 0!==a?a:{firstName:t.firstName,lastName:t.lastName,email:"www@www.www"}}),(0,b.Mz)([e=>e,(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>n,(e,t,a,n,i)=>i],(e,t,a,n,i)=>{let r;if("kanban"===e&&(r=(0,g.V1I)(a.DBTaskgroupsReducer,{_id:t},"colorAccent")),"workload"===e){var s;const e=(0,g.dgT)(a.DBTasksReducer,n,"customData");let t,o;null!==e&&(t=e[i]),t&&(o=(0,g.CVY)(a.DBTaskColumnOptionReducer,{_id:t.value})),r=null===(s=o)||void 0===s?void 0:s.bgcolor}return r}),(0,b.Mz)([e=>e],e=>{const t=(0,g.dgT)(e.state.DBTasksReducer,e.taskId,"groupId");return(0,g.qMd)(e.state.DBTaskgroupsReducer,t,e.field)}),(0,k.zD)("restore/restoreItems",async(e,t)=>{var a;const n=t.dispatch,i=t.getState(),r="Trash"===e.deleteOrArchive?"deleted":"archived";n(x.N.setArchivedOrDeletedSnackMessage({message:"Restoring ".concat(e.items.length," items"),type:"info"}));let s=await n(f.Rzb.initiate({items:e.items,deleteOrArchive:r}));if(s){const t=i.RecycleBinReducer.archivedOrDeletedData,a=e.items.map(e=>e._id),r=t.filter(e=>!a.includes(e._id));n(x.N.setArchivedOrDeletedData(r)),n(x.N.setArchivedOrDeletedBulkItems([])),n(x.N.setArchivedOrDeletedSnackMessage({message:"".concat(e.items.length," items Successfully restored"),type:"success"}))}else n(x.N.setArchivedOrDeletedSnackMessage({message:"Failed to restore ".concat(e.items.length," items"),type:"error"}));s.data.modifiedTaskIds.length>0&&n(g.mZE.updateMany(s.data.modifiedTaskIds.map((e,t)=>({id:e,changes:{[r]:!0}})))),s.data.modifiedGroupIds.length>0&&n(g.XO.updateMany(s.data.modifiedGroupIds.map((e,t)=>({id:e,changes:{[r]:!0}}))));let o=(0,u.sw)(i,null===(a=i.WhatsAppReducer)||void 0===a?void 0:a.currentChat);await n(g.DBBoardsThunks.find({})),await n((0,p.nS)({boardId:null==o?void 0:o._id}))}),(0,k.zD)("delete/deletePermantley",async(e,t)=>{const a=t.dispatch,n=t.getState();a(x.N.setArchivedOrDeletedSnackMessage({message:"Deleting ".concat(e.items.length," items"),type:"info"}));const i=n.RecycleBinReducer.archivedOrDeletedData,r=e.items.map(e=>e._id),s=i.filter(e=>!r.includes(e._id));a(x.N.setArchivedOrDeletedData(s));let o=await a(f.K13.initiate({items:e.items}));a(o?x.N.setArchivedOrDeletedSnackMessage({message:"".concat(e.items.length," items Successfully deleted"),type:"success"}):x.N.setArchivedOrDeletedSnackMessage({message:"Failed to delete ".concat(e.items.length," items"),type:"error"}))}),(0,k.zD)("getData/fetchArchivedOrDeletedData",async(e,t)=>{const a=t.dispatch,n=t.getState();e.showLoader&&a(x.N.setArchivedOrDeletedIsLoading(!0));let i=await a(f.vl9.initiate({mode:e.mode,itemId:e.itemId,itemUpdatedAt:e.itemUpdatedAt,searchQuery:e.searchQuery,type:e.type,date:e.date,board:e.board})).unwrap();const r=new Set(n.RecycleBinReducer.archivedOrDeletedData.map(e=>e._id)),s=i.filter(e=>!r.has(e._id)),o=[...n.RecycleBinReducer.archivedOrDeletedData,...s];a(x.N.setArchivedOrDeletedData(o)),a(x.N.setArchivedOrDeletedIsLoading(!1))}),(0,b.Mz)([e=>e],e=>{const t=e.state.BulkActionsReducer.bulkTasksMap,a=g.ZIw.selectById(e.state,e.taskId);return!!t[null==a?void 0:a._id]}),(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>(0,g.Qrb)(e.DBTasksReducer,{parentTaskId:t,deleted:!1}).length),(0,b.Mz)((e,t)=>({state:e,taskId:t}),L,(e,t)=>{if(!e.taskId)return!1;var a=t.filter(e=>(null==e?void 0:e.type)===o.L.task);const n=a.find(t=>(null==t?void 0:t.id)===e.taskId);return(a=a.filter(e=>(null==e?void 0:e.groupId)===(null==n?void 0:n.groupId))).length&&a[a.length-1].id===e.taskId})),de=(0,b.Mz)((e,t)=>({state:e,taskId:t}),L,(e,t)=>{var a=t.filter(e=>(null==e?void 0:e.type)===o.L.task);const n=a.find(t=>(null==t?void 0:t.id)===e.taskId);return(a=a.filter(e=>(null==e?void 0:e.groupId)===(null==n?void 0:n.groupId))).length&&a[0].id===e.taskId}),ce=(0,b.Mz)([(e,t)=>({state:e,taskId:t})],e=>Boolean((0,g.dgT)(e.state.DBTasksReducer,e.taskId,"parentTaskId"))),ue=((0,b.Mz)((e,t)=>({state:e,taskId:t}),(e,t)=>ce(e,t),(e,t)=>de(e,t),(e,t)=>le(e,t),(e,t,a,n)=>!t&&a&&n?"12px 0 0 12px":!t&&a?"12px 0 0 0":!t&&n?"0 0 0 12px":"0"),(e,t,a)=>{let n=!1;for(let i of t)e?a[i._id]=i:a[i._id]&&(delete a[i._id],n=!0);return{anchorId:e?t[t.length-1]._id:void 0,uncheckParent:n}}),pe=(e,t,a,n)=>(e?n[t]=a:delete n[t],e?t:void 0),me=(0,k.zD)("tasks/selectRowItemWithThunk",async(e,t)=>{const{taskId:a,shiftKey:n}=e,i=t.getState(),r=t.dispatch,{bulkTasksMap:s,anchorId:o}=i.BulkActionsReducer,l=g.ZIw.selectById(i,a),d=X(i),c=(0,g.Qrb)(i.DBTasksReducer,{parentTaskId:a}),u=S({},s);let p=!s[a],y=pe(p,a,l,u),h=!1;if(c.length>0){const e=ue(p,c,u);y=e.anchorId,h=e.uncheckParent}if(h&&l.parentTaskId&&u[l.parentTaskId]){const e=g.ZIw.selectById(i,l.parentTaskId),t=(0,g.Qrb)(i.DBTasksReducer,{parentTaskId:l.parentTaskId});y=pe(!1,l.parentTaskId,e,u),t.length>0&&ue(!1,t,u)}if(!p&&l.parentTaskId){const e=g.ZIw.selectById(i,l.parentTaskId),t=(0,g.Qrb)(i.DBTasksReducer,{parentTaskId:l.parentTaskId});u[l.parentTaskId]?(y=pe(!1,l.parentTaskId,e,u),ue(!1,t,u)):delete u[l._id]}if(n){y=i.BulkActionsReducer.anchorId;const e=d.findIndex(e=>e._id&&e._id===l._id),t=Math.max(d.findIndex((t,a)=>a<e&&!!u[t._id]),0),a=Math.min(d.findIndex((t,a)=>a>e&&!!u[t._id]),d.length-1);let n;if(n=y?Math.max(d.findIndex(e=>e._id&&e._id===y),0):Math.abs(e-t)<=Math.abs(e-a)?t:a,n!==e)if(p){const t=n>e?n:e;for(let a=n>e?e:n;a<=t;a++){const e=d[a];u[e._id]=e}}else{let t,a,i=e>n?1:-1,r=e;do{t=d[r],t._id!==l._id?(a=!!u[t._id],t&&delete u[t._id]):a=!0,r+=i}while(t&&a&&(i<0?r>=0:r<d.length))}}const v=Object.keys(u).map(e=>({keys:e}));r(m.EX.setIsBulkActionsDialogOpen(v.length>0)),r(m.EX.setLastInteraction({bulkTasksMap:u,anchorId:y}))}),ge=((0,k.zD)("tasks/addNewTaskGroupThunk",async(e,t)=>{let{taskIdList:a,expand:n}=e;const i=t.dispatch,r=t.getState(),s=a.filter(e=>(0,g.Qrb)(r.DBTasksReducer,{parentTaskId:e}).length>0);i(n?h.L.openSubtasksForTaskList(s):h.L.closeSubtasksForTaskList(s))}),(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>{const{taskId:a,columnId:n,boardId:i}=t,r=U(e,a,n),s=(0,g.u7r)(e.DBTaskColumnOptionReducer,{boardId:i,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),o=(0,g.Qrb)(e.DBTasksReducer,{boardId:i,["customData.".concat(n)]:{$exists:!0}}).map(e=>null==e?void 0:e.customData[n].value).flat().map(e=>null==e?void 0:e._id),l=s.filter(e=>null==r?void 0:r.some(t=>t._id===e._id)).map(e=>e._id),d=s.filter(e=>!l.includes(e._id)),c=s.filter(e=>l.includes(e._id));return{columnOptions:s,optionsTopick:d,pickedOptions:c,dropdownValuesIds:o}}),(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>{const{groupId:a,columnId:n,boardId:i,columnType:r}=t,s=(0,D.ao)(e).map(e=>e._id),o=(0,g.Qrb)(e.DBTasksReducer,{boardId:i,groupId:a,taskType:{$ne:"subTask"},["customData.".concat(n)]:{$exists:!0}}).filter(e=>s.includes(e._id));let l;const d=o.map(e=>null==e?void 0:e.customData[n].value).flat();if("number"===r&&(l=d),"status-option-picker"===r||"option-picker"===r||"complexity-picker"===r){const t=(0,g.Qrb)(e.DBTasksReducer,{groupId:a,taskType:{$ne:"subTask"}}).filter(e=>s.includes(e._id)).length,r=(0,g.u7r)(e.DBTaskColumnOptionReducer,{boardId:i,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),o={};d.forEach(e=>{o[e]=(o[e]||0)+1});const c=d.map(e=>r.find(t=>t._id===e)),u=JSON.parse(JSON.stringify(c)),p=(e=>{const t={};return e.forEach(e=>{t[null==e?void 0:e._id]||(t[null==e?void 0:e._id]=0),t[null==e?void 0:e._id]++}),t})(u);p&&u.forEach(e=>{const t=p[null==e?void 0:e._id];e&&t&&t>=1&&(e.count=t)}),l={selectedOptionsCloned:u,tasksLength:t}}if("files"===r){let e=[];null==o||o.flatMap(t=>{var a,i;const r=null!==(a=null===(i=t.customData[n])||void 0===i||null===(i=i.value)||void 0===i?void 0:i.map(e=>S(S({},e),{},{_id:t._id})))&&void 0!==a?a:[];r.length>0&&e.push(r)}),l=e.flat()}return l})),ye=(0,b.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,D.ao)(e),n=[];for(let e=0;e<a.length;e++){var i;const r=a[e];null!=r&&r.customData&&null!=r&&null!==(i=r.customData[t])&&void 0!==i&&i.value&&n.push(r)}return n}),he=((0,k.zD)("tasks/updateManyTasksWithWhatsappName",async(e,t)=>{const{dispatch:a,getState:n}=t,i=n(),r=(0,D.ao)(i),s=(0,I.bY)(i);let o=[];for(let e=0;e<r.length;e++){const t=r[e];!t.isTaskConverted&&s[null==t?void 0:t.text]&&o.push({id:t._id,changes:{text:s[null==t?void 0:t.text].name,isTaskConverted:!0}})}0!==o.length&&await a(g.urn.patchMany(o))}),(0,k.zD)("tasks/toggleCollapseGroup",async(e,t)=>{let{groupId:a}=e;const{dispatch:n,getState:i}=t,r=i(),s=S({},(0,g.XQZ)(r.DBTaskgroupsReducer,a));s.isCollapsed=!s.isCollapsed,n(g.bSE.patch({entity:s}))})),ve=(0,k.zD)("tasks/updateGroupName",async(e,t)=>{let{groupId:a,groupName:n}=e;const{dispatch:i,getState:r}=t,s=r(),o=S({},(0,g.XQZ)(s.DBTaskgroupsReducer,a));o.name=n,i(g.bSE.patch({entity:o}))});(0,k.zD)("extraDataFiles/deleteTaskExtraDataFile",async(e,t)=>{let{fileIndex:a}=e;const n=t.dispatch,i=t.getState(),r=i.ExtraDataReducer.displayExtraDataOfTaskById,s=(0,g.Hy0)(i.DBTasksExtraDataFilesReducer,{taskId:r,$or:[{deleted:{$exists:!1}},{deleted:!1}]});if(s){const e=[...s.files];e.splice(a,1);const t={entity:{_id:s._id,files:e}};await n(g.v4X.patch(t))}})},31838:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});const n={imgIcon:"files_icons__imgIcon___z9JZh",docIcons:"files_icons__docIcons___z9JZh"},i=a.p+"27667965c42ffddcd2a2cf06981b7adf.png",r=a.p+"adb21708a4770ac123047f2ba4073f1b.png",s=a.p+"cf4f4081d74a3fdede3225648d8da095.png",o=a.p+"1644cf9ad2994d3c5d7897d817de6fc5.png",l=a.p+"e1299a663531cc23341b095ab9fcfffb.png",d=a.p+"6032704b266999995cdd88388f4ddab3.png",c=a.p+"1a5cdc020a4dff4c63d784549a55a4ee.png";var u=a(74848);function p(e){var t,a;let{file:p,style:m}=e;return(0,u.jsx)("img",{className:null!=p&&null!==(t=p.type)&&void 0!==t&&t.includes("image")?n.imgIcon:n.docIcons,style:m,src:null!=p&&null!==(a=p.type)&&void 0!==a&&a.includes("image")?null==p?void 0:p.url:function(e){let t="";return null!=e&&e.includes("sheet")&&(t=i),null!=e&&e.includes("pdf")&&(t=s),null!=e&&e.includes("word")&&(t=r),null!=e&&e.includes("text")&&(t=d),(null!=e&&e.includes("zip")||null!=e&&e.includes("rar"))&&(t=o),null!=e&&e.includes("presentation")&&(t=l),null!=e&&e.includes("postscript")&&(t=c),""===t&&(t=d),t}(null==p?void 0:p.type),alt:null==p?void 0:p.filename})}},33782:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(64467),i=a(36596),r=a(66159),s=a(65826),o=a(44010),l=a(71158),d=a(74848);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function p(e){let{taskId:t,isOnKanban:a=!1,boxSx:n,inputSx:c,isMultiline:p=!1,rowsMax:m=1,placeholder:g}=e;const y=(0,o.jL)(),h=(0,s.N)(),v=(0,o.GV)(e=>(0,i.dgT)(e.DBTasksReducer,t,"text"));const f=(0,o.GV)(e=>e.TasksReducer.forceEditModeByTaskId),b=e=>{""!==f&&y(r.L.setForceEditModeByTaskid(""))},k={cursor:"text",whiteSpace:"nowrap",color:"var(--bulk-text)",textOverflow:"ellipsis",overflow:"hidden",padding:"0 5px",border:"1px dashed transparent",fontSize:a?"14px":"15px","&:hover":{border:"1px dashed var(--tasks-text-secondary)"},alignItems:"center",borderRadius:"4px",fontFamily:"'Inter', 'Assistant', sans-serif"};return(0,d.jsx)(l.A,{"data-testid":"task-name-bteditablebox",inputSx:u(u({},{width:"100%",cursor:"text",border:"1px solid var(--color-accent)",color:"var(--color-primary)",background:"white",fontSize:"15px",fontFamily:"'Inter', 'Assistant', sans-serif",padding:"0 5px","& .MuiInputBase-input":{padding:"0"},borderRadius:"4px"}),c),boxSx:u(u({},k),n),text:v,onValueUpdate:e=>function(e){e&&(y(i.urn.patch({entity:{_id:t,text:e,isTaskInEditMode:!1}})),h.event("update_task",{category:"userEngagement",action:"update task"})),y(r.L.setForceEditModeByTaskid(""))}(e),onEditModeChange:e=>b(),shouldAutoFlex:!1,isMultiline:p,rowsMax:m,forceEditMode:t===f,placeholder:g})}},34675:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,F:()=>l});var n=a(30038),i=a(92032);function r(e){return e&&"error"in e}function s(e){return e&&"data"in e}const o=(0,n.zD)("credits/purchaseCreditPackage",async(e,t)=>{try{const{packageId:a,quantity:n=1}=e,o=await t.dispatch(i.br5.getCheckoutPageUrl.initiate({item_price_id:a,quantity:n}));if(r(o)){const e="object"==typeof o.error&&"message"in o.error?o.error.message:"Failed to fetch checkout URL";return t.rejectWithValue(e)}if(!s(o)||!o.data)return t.rejectWithValue("Invalid response from checkout URL endpoint");const l=o.data;return l&&l.checkoutPageUrl?{checkoutUrl:l.checkoutPageUrl}:t.rejectWithValue("No checkout URL returned from server")}catch(e){return t.rejectWithValue(e.message||"Failed to initiate purchase")}}),l=(0,n.zD)("credits/fetchPackages",async(e,t)=>{try{const e=await t.dispatch(i.br5.createEntity.initiate({service:"actions",entity:{cmd:"chargebee.getAddOns"}}));if(r(e)){const a="object"==typeof e.error&&"message"in e.error?e.error.message:"Failed to fetch credit packages";return t.rejectWithValue(a)}if(!s(e)||!e.data)return t.rejectWithValue("Invalid response from add-ons endpoint");const a=e.data;if(a&&Array.isArray(a)&&a.length>0){const e=function(e){const t={};return e.forEach(e=>{const a=e.credits,n=e.id.toLowerCase().includes("monthly")?"monthly":"annual";var i;t[a]||(t[a]={credits:a,name:(null===(i=e.name)||void 0===i?void 0:i.replace(/ (USD|Monthly|Yearly).*$/i,""))||"".concat(a," Credits"),description:e.description||"",popular:e.popular||!1,savePercentage:e.savePercentage||null}),"monthly"===n?t[a].monthly={price:e.price,perCredit:e.perCredit,billingCycle:"monthly",id:e.id}:t[a].annual={price:e.price,perCredit:e.perCredit,billingCycle:"annual",id:e.id}}),Object.values(t).sort((e,t)=>e.credits-t.credits)}(a);if(e.length>0)return e}return[{credits:100,monthly:{price:7.99,perCredit:.08,id:"small-monthly",billingCycle:"monthly"},annual:{price:81.5,perCredit:.068,id:"small-annual",billingCycle:"annual"}},{credits:200,monthly:{price:14.99,perCredit:.07,id:"medium-monthly",billingCycle:"monthly"},annual:{price:152.9,perCredit:.064,id:"medium-annual",billingCycle:"annual"},popular:!0},{credits:500,monthly:{price:34.99,perCredit:.07,id:"large-monthly",billingCycle:"monthly"},annual:{price:356.9,perCredit:.059,id:"large-annual",billingCycle:"annual"}},{credits:1e3,monthly:{price:64.99,perCredit:.06,id:"extra-monthly",billingCycle:"monthly"},annual:{price:662.9,perCredit:.055,id:"extra-annual",billingCycle:"annual"}}]}catch(e){if(e.message)return t.rejectWithValue(e.message);return[{credits:100,monthly:{price:7.99,perCredit:.08,id:"small-monthly",billingCycle:"monthly"},annual:{price:81.5,perCredit:.068,id:"small-annual",billingCycle:"annual"}},{credits:200,monthly:{price:14.99,perCredit:.07,id:"medium-monthly",billingCycle:"monthly"},annual:{price:152.9,perCredit:.064,id:"medium-annual",billingCycle:"annual"},popular:!0},{credits:500,monthly:{price:34.99,perCredit:.07,id:"large-monthly",billingCycle:"monthly"},annual:{price:356.9,perCredit:.059,id:"large-annual",billingCycle:"annual"}},{credits:1e3,monthly:{price:64.99,perCredit:.06,id:"extra-monthly",billingCycle:"monthly"},annual:{price:662.9,perCredit:.055,id:"extra-annual",billingCycle:"annual"}}]}})},35111:(e,t,a)=>{"use strict";a.d(t,{j:()=>r});var n=a(96540);a(74848);const i=n.createContext({shadowRoot:null,portalContainer:null}),r=()=>n.useContext(i)},35161:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});const n=(0,a(30038).Z0)({name:"task",initialState:{},reducers:{}}),i=n.reducer;n.actions},36074:(e,t,a)=>{"use strict";a.d(t,{E:()=>g});var n=a(52460),i=a(38148),r=a(28161),s=a(32325),o=a(6889),l=a(44010),d=a(96540),c=a(37352),u=a(36596),p=a(89034),m=a(74848);const g=e=>{let{cellValue:t,taskId:a,columnId:g,openPicker:y,withoutPlus:h=!1}=e;const v=(0,l.GV)(e=>(0,o.Hv)(e,t)),f=(0,d.useMemo)(()=>(0,o.vA)(t,h),[t]),b=(0,d.useMemo)(()=>v?(0,o.iQ)(v):"",[v]),k=(0,d.useMemo)(()=>(null==t?void 0:t.includes)&&(null==t?void 0:t.includes("@g.us")),[t]),w="wid_".concat(a,"_").concat(g);const{direction:x,textAlign:D}=(0,p.V)(b);return(0,m.jsx)(i.A,{sx:{px:1,overflow:"hidden",cursor:"pointer"},flex:1,justifyContent:"center",onClick:function(){(0,u.qfk)(a)||y({anchorId:w,pickerType:"wid-cell-edit-picker"})},id:w,children:(0,u.qfk)(a)?(0,m.jsx)(r.A,{sx:{width:1,height:1},children:(0,m.jsx)(s.A,{})}):t?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.A,{sx:{mr:1},contactId:t,size:24,textSize:12}),b&&(0,m.jsx)(r.A,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",direction:x,textAlign:D},dir:x,children:b}),!b&&!k&&(0,m.jsx)(c.H,{phone:f})]}):(0,m.jsx)(r.A,{sx:{fontSize:15,width:1,textAlign:"center"},children:"Click to add a contact"})})}},36143:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o});var n=a(30038),i=a(1081),r=a(36596);(0,i.Mz)([(e,t)=>(0,r.dsM)(e.DBKanbanReducer,{boardId:t})],e=>e.map((e,t)=>e._id));const s=(0,n.Z0)({name:"task",initialState:{settingsMode:!1},reducers:{setSettingsMode(e,t){e.settingsMode=t.payload}}}),o=s.reducer;s.actions},36364:(e,t,a)=>{"use strict";a.d(t,{m:()=>n});const n=140},36596:(e,t,a)=>{"use strict";a.d(t,{Vrk:()=>Di,oOE:()=>Je,tt8:()=>M,RLp:()=>wc,HX$:()=>Oc,Zef:()=>bs,wKD:()=>us,QHf:()=>Xr,klT:()=>_d,UrK:()=>ns,Mm0:()=>xi,Fv8:()=>Ii,qas:()=>zs,Bqe:()=>Us,Y_S:()=>qe,DBBoardsThunks:()=>Ke,R8k:()=>Dd,wX_:()=>rl,NGN:()=>C,nUT:()=>me,H_s:()=>Y,Y$S:()=>J,Pov:()=>E,drT:()=>$t,$JQ:()=>So,GJw:()=>Oo,xQg:()=>$s,djY:()=>Fn,gVU:()=>zn,TNZ:()=>Zn,EEr:()=>$n,UEi:()=>sa,aig:()=>gn,rFI:()=>yn,XYZ:()=>ic,a2W:()=>mc,APe:()=>Xd,JMF:()=>Qt,Hny:()=>zr,IFV:()=>re,t2M:()=>oe,lRC:()=>lo,UXG:()=>co,Qkk:()=>Ho,lx8:()=>Ko,gKl:()=>zd,Xod:()=>fo,wHq:()=>bo,PaH:()=>Dr,RuE:()=>Cc,amX:()=>Bl,X24:()=>jo,DBSessionThunks:()=>No,qnU:()=>Ei,DBSubscriptionThunks:()=>Li,hhE:()=>Va,e2w:()=>Qa,Syj:()=>ya,nxM:()=>ha,iJy:()=>Ae,bSE:()=>Se,inK:()=>Et,v4X:()=>jt,Za5:()=>At,kEN:()=>Tt,r1u:()=>ct,urn:()=>pt,PQo:()=>ad,eU5:()=>pd,l9$:()=>V,UZ9:()=>W,Tc9:()=>Br,Tic:()=>_r,AJ8:()=>Dl,hAH:()=>dr,aLm:()=>ur,cFC:()=>en,DBUserThunks:()=>an,nEF:()=>Ss,yik:()=>Os,JvV:()=>gl,KkI:()=>Ql,bF$:()=>ql,Z$t:()=>$i,QQS:()=>Sn,Jtj:()=>On,ANY:()=>Ca,jbN:()=>Ma,hWh:()=>di,WtJ:()=>ci,_vS:()=>Jn,imx:()=>Lo,NVH:()=>ji,g5P:()=>Wa,TeamInboxChatsCacheReducerActions:()=>nd,TeamInboxMessagesCacheReducerActions:()=>md,UserReducerActions:()=>tn,MD0:()=>yl,WaContactsCacheReducerActions:()=>Gl,IDN:()=>Ge,CVY:()=>ja,NpU:()=>Ie,Hy0:()=>_t,jKk:()=>Ai,cTv:()=>Si,Em_:()=>Ti,bTq:()=>Vs,J4y:()=>Qs,oxz:()=>Ws,Hgo:()=>He,Ha2:()=>Ye,nsz:()=>$e,G5s:()=>Ze,_xB:()=>Xe,xSQ:()=>sl,utb:()=>ge,WYp:()=>Z,JjF:()=>$,YYK:()=>ee,kQz:()=>j,GpN:()=>Un,T5t:()=>Vn,wvC:()=>ei,k1u:()=>ti,qfk:()=>_a,dsM:()=>hn,Z4b:()=>fn,Oy_:()=>vn,rzl:()=>Ur,pwx:()=>se,H5M:()=>le,y5T:()=>Xo,JGD:()=>Fo,FD1:()=>Ni,u7r:()=>Ga,_h0:()=>qa,l_$:()=>fa,bRR:()=>ba,mYF:()=>va,wq1:()=>ka,$0K:()=>Ce,xTm:()=>_e,qMd:()=>Re,V1I:()=>Me,XQZ:()=>Pe,OBc:()=>Be,XO:()=>Te,sWy:()=>Oe,AhX:()=>Ot,rNd:()=>St,mZE:()=>ut,Qrb:()=>gt,cip:()=>yt,CA0:()=>ht,dgT:()=>ft,mCi:()=>vt,ZIw:()=>mt,d7y:()=>id,oTf:()=>gd,u$k:()=>Q,W3:()=>cr,jHc:()=>pr,$qn:()=>mr,ALW:()=>gr,rBP:()=>nn,Gwv:()=>rn,Y6C:()=>Ms,KY7:()=>Bs,Jvr:()=>Cs,i2Z:()=>Kl,aQK:()=>Hl,iNb:()=>er,tZC:()=>Cn,bgX:()=>Mn,UlE:()=>Ba,WA:()=>ui,H47:()=>pi});var n=a(64467),i=a(30038),r=a(1081),s=a(87879),o=a(50570),l=a(61387),d=a(92032),c=a(71240);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const m=(0,i.pU)({selectId:e=>{var t,a;return null!==(t=null!==(a=null==e?void 0:e._id)&&void 0!==a?a:null==e?void 0:e.tempId)&&void 0!==t?t:null}}),g=[],y=new Map,h=e=>{let{service:t="",initialState:n,hooks:u,customReducers:h,getReducerState:v,customThunks:f={}}=e;const b=m.getSelectors(v),k=m.getSelectors(),w=(e,t)=>{let a;var n,i,r;if(t._id&&(a=e.entities[t._id],!a||(null!==(n=t.version)&&void 0!==n?n:0)>(null!==(i=null===(r=a)||void 0===r?void 0:r.version)&&void 0!==i?i:0)))return!0;return!1},x=function(){return(0,i.Z0)({name:t,initialState:n,reducers:p({addOne:m.addOne,addMany:m.addMany,setAll:m.setAll,removeOne:m.removeOne,removeMany:m.removeMany,removeAll:m.removeAll,updateOne:m.updateOne,updateMany:m.updateMany,upsertOne:m.upsertOne,upsertMany:m.upsertMany,clearState:e=>{m.removeAll(e),e.itemsLoaded=!1,e.itemsLoadedLocaly=!1},setItemsLoadedLocaly:(e,t)=>{e.itemsLoadedLocaly=t.payload},conditionalUpdateOne:(e,t)=>{const a=t.payload;w(e,a)&&m.upsertOne(e,a)},conditionalUpdateMany:(e,t)=>{m.updateMany(e,t.payload.filter(t=>w(e,t)).map(e=>({id:e._id,changes:e})))},setItemsLoaded:(e,t)=>{e.itemsLoaded=t.payload},setItemsLoading:(e,t)=>{e.itemsLoading=t.payload},setItemsTotalSkipAndLimit:(e,t)=>{const{total:a,skip:n,limit:i}=t.payload;e.total=a,e.skip=n,e.limit=i},setItemsTotal:(e,t)=>{e.total=t.payload}},h),extraReducers:h})}(),D=(e,t,a)=>{const n=a.getState();return!(!g.includes(e)&&!n.UserReducer.userId)},I=(e=>p({find:(0,i.zD)("".concat(e,"/find"),async(t,n)=>{if(!D(e,0,n))return;const i=n.dispatch,{cleanStateBeforeFetch:r,cleanStateIfResultIsEmpty:o}=t;r&&(i(x.actions.clearState()),delete t.cleanStateBeforeFetch),i(x.actions.setItemsLoading(!0));const l=p(p({},(e=>{const t=p({},e);return Object.entries(e).forEach(e=>{let[a,n]=e;n&&"object"==typeof n&&"$in"in n&&(delete t[a],t["".concat(a,"[$in][]")]=n.$in)}),t})(t)),{},{breakCache:s.generate(16)});return i(d.J09.initiate({service:e,query:l})).unwrap().then(async r=>{var s,l,d;const p=r&&"data"in r?r.data:r,m=null!==(s=null!==(l=await(null==u||null===(d=u.after)||void 0===d||null===(d=d.find)||void 0===d?void 0:d.apply(null,[null!=p?p:[],{dispatch:i}])))&&void 0!==l?l:p)&&void 0!==s?s:[];if(o&&0===m.length&&(i(x.actions.clearState()),delete t.cleanStateIfResultIsEmpty),"campaigns"===e&&m.length>0)try{const e=v(n.getState());let t=null,r=null;try{const{MQTTSubscriber:e}=await Promise.resolve().then(a.bind(a,81303)),n=e.getInstance();t=n.getCurrentClientId(),r=n.getCurrentClientType()}catch(e){}await(0,c.p)(m,e,i,t,r)}catch(e){}if(i(x.actions.addMany(m)),i(x.actions.updateMany(m.map(e=>({id:e._id,changes:e})))),i(x.actions.setItemsLoaded(!0)),r&&"skip"in r&&"limit"in r&&"total"in r){const{skip:e,limit:t,total:a}=r;i(x.actions.setItemsTotalSkipAndLimit({skip:e,limit:t,total:a}))}return i(x.actions.setItemsLoading(!1)),m}).catch(e=>{i(x.actions.setItemsLoading(!1))})}),getTotalCount:(0,i.zD)("".concat(e,"/getTotalCount"),async(t,a)=>{if(!D(e,0,a))return;const n=a.dispatch;n(x.actions.setItemsLoading(!0));try{var i;let t=await n(d.ogo.initiate({service:e})).unwrap();t=null!==(i=Number(t))&&void 0!==i?i:0,n(x.actions.setItemsTotal(null!=t?t:0))}catch(e){}finally{n(x.actions.setItemsLoading(!1))}}),create:(0,i.zD)("".concat(e,"/create2"),async(t,a)=>{var n,i;if(!D(e,0,a))return;t.version=1;const r=s.generate(16);t=p(p({},t),{},{dirtySessionId:r,dirty:!0});const o=a.dispatch;var l;null!=u&&null!==(n=u.before)&&void 0!==n&&n.create&&(t=await(null==u||null===(l=u.before)||void 0===l?void 0:l.create(t,{dispatch:o})));let c;null!==(i=t)&&void 0!==i&&i.disableOptimisticUpdates||o(x.actions.addOne(p(p({},t),{},{_id:r,tempId:r,deleted:!1})));try{var m,g;let a=await o(d.S$n.initiate({service:e,entity:t})).unwrap();var y;if(a=p(p({},a),{},{dirtySessionId:void 0,dirty:!1}),null!=u&&null!==(m=u.after)&&void 0!==m&&m.create)a=await(null==u||null===(y=u.after)||void 0===y?void 0:y.create(a,{dispatch:o}));null!==(g=t)&&void 0!==g&&g.disableOptimisticUpdates?o(x.actions.addOne(p({id:a._id},a))):o(x.actions.updateOne({id:r,changes:a})),c=a}catch(e){o(x.actions.removeOne(r)),c=e}return c}),patch:(0,i.zD)("".concat(e,"/patch2"),async(t,a)=>{var n,i;let{entity:r,options:o}=t;if(!D(e,0,a))return;const l=a.dispatch,c=b.selectById(a.getState(),r._id);if(!(null!=o&&o.ignoreOriginalEntity||c))return;if(!(null!=o&&o.ignoreOriginalEntity||c._id))return;const m=s.generate(16);var g;(r=p(p({},r),{},{dirtySessionId:m,dirty:!0,version:(null!==(n=null==c?void 0:c.version)&&void 0!==n?n:0)+1}),null!=u&&null!==(i=u.before)&&void 0!==i&&i.patch)&&(r=await(null==u||null===(g=u.before)||void 0===g?void 0:g.patch(r,{dispatch:l})));null!=o&&o.disableOptimisticUpdates||l(x.actions.updateOne({id:r._id,changes:r}));let y;try{var h;if(y=await l(d.e54.initiate({service:e,entity:r})).unwrap(),y=p(p({},y),{},{dirtySessionId:void 0,dirty:!1}),null!=u&&u.after)y=await(null==u||null===(h=u.after)||void 0===h?void 0:h.patch(y,{dispatch:l}));null!=o&&o.disableOptimisticUpdates?l(x.actions.updateOne({id:y._id,changes:y})):l(x.actions.conditionalUpdateOne(y))}catch(e){return null!=o&&o.inCaseOfErrorRollbackOptimisticUpdateDisabled&&l(x.actions.updateOne({id:c._id,changes:c})),a.rejectWithValue(e.data),e.data}return y}),patchMany:(0,i.zD)("".concat(e,"/patchMany"),async(t,a)=>{var n;if(!D(e,0,a))return;if(0===t.length)return;const i=a.dispatch,r=v(a.getState()),s=t.map(e=>e.id),o=Object.keys(null===(n=t[0])||void 0===n?void 0:n.changes),l=M(r,{_id:{$in:s}},o);if(l.length!==s.length)return;i(x.actions.updateMany(t));return i(d.ITG.initiate({service:e,entities:t})).unwrap().then(async e=>{const t=null==e?void 0:e.map(e=>p(p({},e),{},{dirtySessionId:void 0,dirty:!1}));return i(x.actions.conditionalUpdateMany(t)),t}).catch(e=>{const t=l.map(e=>({id:e._id,changes:e}));i(x.actions.updateMany(t))})}),createMany:(0,i.zD)("".concat(e,"/createMany"),async(t,a)=>{var n;if(!D(e,0,a))return;const i=a.dispatch;let r=[];const o=t.map(e=>{e.version=1;const t=s.generate(16);return p(p({},e),{},{dirtySessionId:t,dirty:!0,tempId:t})}),l=null!=u&&null!==(n=u.before)&&void 0!==n&&n.create?await Promise.all(o.map(e=>u.before.create(e,{dispatch:i}))):o;i(x.actions.addMany(l.map(e=>p(p({},e),{},{_id:e.dirtySessionId}))));try{var c;const t=await i(d.BwQ.initiate({service:e,entities:l})).unwrap(),a=null!=u&&null!==(c=u.after)&&void 0!==c&&c.create?await Promise.all(t.map(e=>u.after.create(e,{dispatch:i}))):t;i(x.actions.updateMany(a.map(e=>({id:e.dirtySessionId,changes:p(p({},e),{},{dirtySessionId:void 0,dirty:!1})}))))}catch(e){l.forEach(e=>{i(x.actions.removeOne(e.dirtySessionId))}),r.push(e)}return r}),delete:(0,i.zD)("".concat(e,"/delete2"),async(t,a)=>{var n,i;let{entity:r,options:o}=t;if(!D(e,0,a))return;const l=a.dispatch,c=b.selectById(a.getState(),r._id),m=s.generate(16);var g;(r={_id:r._id,dirtySessionId:m,dirty:!0,deleted:!0,version:(null!==(n=null==c?void 0:c.version)&&void 0!==n?n:0)+1},null!=u&&null!==(i=u.before)&&void 0!==i&&i.delete)&&(r=await(null==u||null===(g=u.before)||void 0===g?void 0:g.delete(r,{dispatch:l})));l(x.actions.removeOne(r._id));const y=l(d.$bn.initiate({service:e,entity:r})).unwrap();return y.then(async e=>{var t,a;(e=p(p({},e),{},{dirtySessionId:void 0,dirty:!1}),null!=u&&null!==(t=u.after)&&void 0!==t&&t.delete)&&(e=await(null==u||null===(a=u.after)||void 0===a?void 0:a.delete(e,{dispatch:l})));l(x.actions.removeOne(e._id))}).catch(e=>{var t;"NotFound"===(null==e||null===(t=e.data)||void 0===t?void 0:t.name)||null!=o&&o.inCaseOfErrorRollbackOptimisticUpdateDisabled||l(x.actions.addOne(c))}),y}),createOptimisticUpdate:(0,i.zD)("".concat(e,"/createOptimisticUpdate"),async(t,a)=>{if(!D(e,0,a))return;const n=s.generate(16);t=p(p({},t),{},{dirtySessionId:n,dirty:!0});const i=a.dispatch,r=p(p({},t),{},{_id:n,tempId:n});return t._id?i(x.actions.updateOne({id:t._id,changes:r})):i(x.actions.addOne({dirtyEntity:r})),t}),syncOptimisticUpdate:(0,i.zD)("".concat(e,"/syncOptimisticUpdate"),async(t,a)=>{if(!D(e,0,a))return;const n=t.dirtySessionId;t=p(p({},t),{},{dirtySessionId:void 0,dirty:!1});const i=a.dispatch;return i(x.actions.removeOne(n)),i(x.actions.addOne(t)),t}),undoOptimisticUpdate:(0,i.zD)("".concat(e,"/undoOptimisticUpdate"),async(t,a)=>{if(!D(e,0,a))return;return(0,a.dispatch)(x.actions.removeOne(t)),t})},f))(t),A=e=>e,T=(e,t)=>t,S=(e,t,a)=>a,O=(e,t,a)=>a,C=(e,t,a,n)=>n,M=(0,r.Mz)([A,T,S,C],function(e,t,a){var n;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t||0===Object.keys(t).length)return k.selectAll(e);if(!e)return[];if(!e.ids||0===e.ids.length)return[];let r=[];const s=(0,o.Ay)(t);return r=(null!==(n=e.ids)&&void 0!==n?n:[]).filter(t=>s(e.entities[t])).map(t=>e.entities[t]),0!==Object.keys(i).length&&(r=(0,l.d)(r,i)),Array.isArray(a)&&a.length>0&&(r=r.map(e=>e=a.reduce((t,a)=>(t[a]=e[a],t),{}))),r}),B=(0,r.Mz)([A,T],(e,t)=>M(e,t).length),_=(0,r.Mz)([A,T],(e,t)=>{const a=k.selectById(e,t);return null!=a&&a.deleted?null:a}),P=(0,r.Mz)([A,T,O],(e,t,a)=>{if(!a)return null;const n=_(e,t);return n&&n.hasOwnProperty(a)?n[a]:null}),R=(0,r.Mz)([A,T,S,C],function(e,t,a){let n=M(e,t,a,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});if(n.length>=1){return n[0]}return null}),E=(0,r.Mz)([A,T,O,C],function(e,t,a){if(!a)return null;const n=R(e,t,[a],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return n&&n.hasOwnProperty(a)?n[a]:null}),j=(0,r.Mz)([A,T,(e,t,a)=>a,(e,t,a,n)=>n],(e,t,a,n)=>{const i=M(e,t);if(0===i.length)return null;return window.Math.max(...i.map(e=>e.order))}),L=(0,r.Mz)([A],e=>({itemsLoaded:e.itemsLoaded,itemsLoading:e.itemsLoading,total:e.total,skip:e.skip,limit:e.limit})),N={slice:x,dbThunks:I,selectByQuery:M,selectors:b,selectByQueryOnlyLength:B,selectByQueryOnlyMaxMin:j,selectOneObjectByQuery:R,selectOneFieldByQuery:E,selectPaginationStatus:L,selectOneObjectById:_,selectOneFieldById:P,getReducerState:v};return y.set(t,N),N};var v=a(71083),f=a(29167);const b=async(e,t)=>{const a=f.S.get(e),n=await t.dispatch(d.Hvd.endpoints.getSignedUploadUrl.initiate(a.type));let i;if("data"in n){const{url:e,publicUrl:t}=n.data;try{await(0,v.A)({method:"PUT",url:e,data:a,headers:{"Content-Type":a.type}}),i={url:t,name:a.name,type:a.type}}catch(e){}}return i},k={before:{create:async(e,t)=>("snippet"===e.templateType&&e.imageId&&(e.asset=await b(e.imageId,t)),e),patch:async(e,t)=>("snippet"===e.templateType&&e.imageId&&(e.asset=await b(e.imageId,t)),e)}};function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const D={ids:[],entities:{},itemsLoaded:!1,itemsLoading:!1,itemsLoadedLocaly:!1,total:0,skip:0,limit:0},{slice:I,dbThunks:A,selectByQuery:T,selectOneObjectByQuery:S,selectPaginationStatus:O}=h({service:"lists",initialState:D,getReducerState:e=>e.DBBulkListReducer}),C=I.reducer,M=(I.actions,O),{slice:B,dbThunks:_,selectByQuery:P,selectOneObjectByQuery:R}=h({service:"contacts",initialState:D,getReducerState:e=>e.DBContactReducer}),E=B.reducer,j=(B.actions,P),{slice:L,dbThunks:N,selectByQuery:F,selectOneObjectByQuery:z,selectors:U}=h({service:"templates",initialState:D,getReducerState:e=>e.DBTemplateReducer,hooks:k}),V=L.reducer,W=(L.actions,N),Q=F,{slice:G,dbThunks:q,selectByQuery:H,selectOneObjectByQuery:K,selectors:X}=h({service:"campaigns",initialState:D,getReducerState:e=>e.DBCampaignReducer}),Y=G.reducer,Z=G.actions,J=q,$=H,ee=K,{slice:te,dbThunks:ae,selectByQuery:ne,selectOneObjectByQuery:ie}=h({service:"message-logs",initialState:D,getReducerState:e=>e.DBMessageLogReducer}),re=te.reducer,se=te.actions,oe=ae,le=ne,{slice:de,dbThunks:ce,selectByQuery:ue,selectOneObjectByQuery:pe}=h({service:"campaign-logs",initialState:D,getReducerState:e=>e.DBCampaignLogReducer}),me=de.reducer,ge=(de.actions,ue),{slice:ye,dbThunks:he,selectByQuery:ve,selectOneObjectByQuery:fe,selectOneFieldByQuery:be,selectByQueryOnlyLength:ke,selectByQueryOnlyMaxMin:we,selectOneObjectById:xe,selectOneFieldById:De,selectors:Ie}=h({service:"task-groups",initialState:D,getReducerState:e=>e.DBTaskgroupsReducer}),Ae=ye.reducer,Te=ye.actions,Se=he,Oe=Ie,Ce=ve,Me=be,Be=fe,_e=we,Pe=xe,Re=De,{slice:Ee,dbThunks:je,selectByQuery:Le,selectOneObjectByQuery:Ne,selectOneFieldByQuery:Fe,selectByQueryOnlyLength:ze,selectByQueryOnlyMaxMin:Ue,selectPaginationStatus:Ve,selectOneObjectById:We,selectOneFieldById:Qe,selectors:Ge}=h({service:"boards",initialState:D,getReducerState:e=>e.DBBoardsReducer}),qe=Ee.reducer,He=Ee.actions,Ke=je,Xe=Ge,Ye=Le,Ze=Ne,Je=Ve,$e=We,{slice:et,dbThunks:tt,selectByQuery:at,selectOneObjectByQuery:nt,selectOneFieldByQuery:it,selectByQueryOnlyLength:rt,selectByQueryOnlyMaxMin:st,selectOneObjectById:ot,selectOneFieldById:lt,selectors:dt}=h({service:"tasks",initialState:D,getReducerState:e=>e.DBTasksReducer}),ct=et.reducer,ut=et.actions,pt=tt,mt=dt,gt=at,yt=rt,ht=st,vt=ot,ft=lt,{slice:bt,dbThunks:kt,selectByQuery:wt,selectOneObjectByQuery:xt,selectOneFieldByQuery:Dt,selectors:It}=h({service:"tasks-extra-data",initialState:D,getReducerState:e=>e.DBTasksExtraDataReducer}),At=bt.reducer,Tt=(bt.actions,kt),St=It,Ot=wt,{slice:Ct,dbThunks:Mt,selectByQuery:Bt,selectOneObjectByQuery:_t,selectOneFieldByQuery:Pt,selectors:Rt}=h({service:"tasks-extra-data-files",initialState:D,getReducerState:e=>e.DBTasksExtraDataFilesReducer}),Et=Ct.reducer,jt=(Ct.actions,Mt),{slice:Lt,dbThunks:Nt,selectByQuery:Ft,selectOneObjectByQuery:zt,selectOneFieldByQuery:Ut,selectors:Vt,selectByQueryOnlyMaxMin:Wt}=h({service:"labels",initialState:D,getReducerState:e=>e.DBLabelReducer}),Qt=Lt.reducer,{slice:Gt,dbThunks:qt,selectByQuery:Ht,selectOneObjectByQuery:Kt,selectOneFieldByQuery:Xt,selectors:Yt,selectByQueryOnlyLength:Zt,selectByQueryOnlyMaxMin:Jt}=(Lt.actions,h({service:"contacts-labels",initialState:D,getReducerState:e=>e.DBContactsLabelsReducer})),$t=Gt.reducer,{slice:ea,dbThunks:ta,selectByQuery:aa,selectOneObjectByQuery:na,selectOneFieldByQuery:ia,selectors:ra}=(Gt.actions,h({service:"invoices",initialState:D,getReducerState:e=>e.DBInvoiceReducer})),sa=ea.reducer,{slice:oa,dbThunks:la,selectByQuery:da,selectOneObjectByQuery:ca,selectOneFieldByQuery:ua,selectors:pa,selectByQueryOnlyLength:ma,selectByQueryOnlyMaxMin:ga}=(ea.actions,h({service:"task-columns",initialState:D,getReducerState:e=>e.DBTaskColumnReducer})),ya=oa.reducer,ha=(oa.actions,la),va=pa,fa=da,ba=ua,ka=ga,{slice:wa,dbThunks:xa,selectByQuery:Da,selectOneObjectByQuery:Ia,selectOneFieldByQuery:Aa,selectors:Ta,selectByQueryOnlyLength:Sa,selectByQueryOnlyMaxMin:Oa}=h({service:"workspaces",initialState:D,getReducerState:e=>e.DBWorkspaceReducer}),Ca=wa.reducer,Ma=(wa.actions,xa),Ba=Ia;function _a(e){if(16===(null==e?void 0:e.toString().length))return!0}const{slice:Pa,dbThunks:Ra,selectByQuery:Ea,selectOneObjectByQuery:ja,selectors:La,selectByQueryOnlyLength:Na,selectByQueryOnlyMaxMin:Fa,selectOneObjectById:za,selectOneFieldById:Ua}=h({service:"task-column-options",initialState:D,getReducerState:e=>e.DBTaskColumnOptionReducer}),Va=Pa.reducer,Wa=Pa.actions,Qa=Ra,Ga=Ea,qa=za,{slice:Ha,dbThunks:Ka,selectByQuery:Xa,selectOneObjectByQuery:Ya,selectors:Za,selectByQueryOnlyLength:Ja,selectByQueryOnlyMaxMin:$a}=h({service:"users",initialState:D,getReducerState:e=>e.DBUserReducer}),en=Ha.reducer,tn=Ha.actions,an=Ka,nn=Xa,rn=Ya,{slice:sn,dbThunks:on,selectByQuery:ln,selectOneObjectByQuery:dn,selectOneFieldByQuery:cn,selectors:un,selectByQueryOnlyLength:pn,selectByQueryOnlyMaxMin:mn}=h({service:"kanbans",initialState:D,getReducerState:e=>e.DBKanbanReducer}),gn=sn.reducer,yn=(sn.actions,on),hn=ln,vn=dn,fn=cn,{slice:bn,dbThunks:kn,selectByQuery:wn,selectOneObjectByQuery:xn,selectOneFieldByQuery:Dn,selectors:In,selectByQueryOnlyLength:An,selectByQueryOnlyMaxMin:Tn}=h({service:"workloads",initialState:D,getReducerState:e=>e.DBWorkloadReducer}),Sn=bn.reducer,On=(bn.actions,kn),Cn=wn,Mn=Dn,{slice:Bn,dbThunks:_n,selectByQuery:Pn,selectOneObjectByQuery:Rn,selectors:En,selectByQueryOnlyLength:jn,selectByQueryOnlyMaxMin:Ln,selectOneFieldByQuery:Nn}=h({service:"forms",initialState:D,getReducerState:e=>e.DBFormReducer}),Fn=Bn.reducer,zn=(Bn.actions,_n),Un=Pn,Vn=Rn,{slice:Wn,dbThunks:Qn,selectByQuery:Gn,selectOneObjectByQuery:qn,selectOneFieldByQuery:Hn,selectors:Kn,selectByQueryOnlyLength:Xn,selectByQueryOnlyMaxMin:Yn}=h({service:"gantts",initialState:D,getReducerState:e=>e.DBGanttReducer}),Zn=Wn.reducer,Jn=Wn.actions,$n=Qn,ei=Gn,ti=Hn,{slice:ai,dbThunks:ni,selectByQuery:ii,selectOneObjectByQuery:ri,selectors:si,selectByQueryOnlyLength:oi,selectByQueryOnlyMaxMin:li}=h({service:"workspace-users",initialState:D,getReducerState:e=>e.DBWorkspaceUserReducer}),di=ai.reducer,ci=(ai.actions,ni),ui=ii,pi=ri,{slice:mi,dbThunks:gi,selectByQuery:yi,selectOneObjectByQuery:hi,selectors:vi,selectByQueryOnlyLength:fi,selectByQueryOnlyMaxMin:bi,selectOneObjectById:ki,selectOneFieldById:wi}=h({service:"board-users",initialState:D,getReducerState:e=>e.DBBoardUserReducer}),xi=mi.reducer,Di=mi.actions,Ii=gi,Ai=yi,Ti=hi,Si=wi,{slice:Oi,dbThunks:Ci,selectByQuery:Mi,selectOneObjectByQuery:Bi,selectors:_i,selectByQueryOnlyLength:Pi,selectByQueryOnlyMaxMin:Ri}=h({service:"subscriptions",initialState:D,getReducerState:e=>e.DBSubscriptionReducer}),Ei=Oi.reducer,ji=Oi.actions,Li=Ci,Ni=Mi,{slice:Fi,dbThunks:zi,selectByQuery:Ui,selectOneObjectByQuery:Vi,selectors:Wi,selectByQueryOnlyLength:Qi,selectByQueryOnlyMaxMin:Gi}=h({service:"recycled-items",initialState:D,getReducerState:e=>e.DBRecycledItemsReducer}),{slice:qi,dbThunks:Hi,selectByQuery:Ki,selectOneObjectByQuery:Xi,selectors:Yi,selectByQueryOnlyLength:Zi,selectByQueryOnlyMaxMin:Ji}=(Fi.reducer,Fi.actions,h({service:"webhooks",initialState:D,getReducerState:e=>e.DBWebhooksReducer})),$i=qi.reducer,er=(qi.actions,Ki),{slice:tr,dbThunks:ar,selectByQuery:nr,selectByQueryOnlyLength:ir,selectByQueryOnlyMaxMin:rr,selectOneFieldByQuery:sr,selectOneObjectByQuery:or,selectors:lr}=h({service:"user-messages",initialState:D,getReducerState:e=>e.DBUserMessageReducer}),dr=tr.reducer,cr=tr.actions,ur=ar,pr=nr,mr=ir,gr=or,{slice:yr,dbThunks:hr,selectByQuery:vr,selectOneObjectByQuery:fr,selectOneFieldByQuery:br,selectors:kr,selectByQueryOnlyLength:wr,selectByQueryOnlyMaxMin:xr}=((0,r.Mz)([e=>e,e=>e.WhatsAppReducer.currentChat],(e,t)=>{var a;return e.DBUserMessageReducer.ids.map(t=>e.DBUserMessageReducer.entities[t]).filter((0,o.Ay)({$or:[{deleted:{$exists:!1}},{deleted:!1}],contactList:{$elemMatch:{id:null==t||null===(a=t.id)||void 0===a?void 0:a._serialized}}}))}),h({service:"quick-launch",initialState:D,getReducerState:e=>e.DBQuickLaunchReducer})),Dr=yr.reducer,{slice:Ir,dbThunks:Ar,selectByQuery:Tr,selectOneObjectByQuery:Sr,selectors:Or,selectByQueryOnlyLength:Cr,selectByQueryOnlyMaxMin:Mr}=(yr.actions,h({service:"time-tracking-sessions",initialState:D,getReducerState:e=>e.DBTimeTrackingSessionReducer})),Br=Ir.reducer,_r=(Ir.actions,Ar),{slice:Pr,dbThunks:Rr,selectByQuery:Er,selectOneObjectByQuery:jr,selectors:Lr,selectByQueryOnlyLength:Nr,selectByQueryOnlyMaxMin:Fr}=h({service:"logs",initialState:D,getReducerState:e=>e.DBLogReducer}),zr=Pr.reducer,Ur=(Pr.actions,Er),{slice:Vr,dbThunks:Wr,selectByQuery:Qr,selectOneObjectByQuery:Gr,selectors:qr,selectByQueryOnlyLength:Hr,selectByQueryOnlyMaxMin:Kr}=h({service:"automations",initialState:D,getReducerState:e=>e.DBAutomationReducer}),Xr=Vr.reducer,{slice:Yr,dbThunks:Zr,selectByQuery:Jr,selectOneObjectByQuery:$r,selectors:es,selectByQueryOnlyLength:ts,selectByQueryOnlyMaxMin:as}=(Vr.actions,h({service:"automations-triggers",initialState:D,getReducerState:e=>e.DBAutomationTriggerReducer})),ns=Yr.reducer,{slice:is,dbThunks:rs,selectByQuery:ss,selectOneObjectByQuery:os,selectors:ls,selectByQueryOnlyLength:ds,selectByQueryOnlyMaxMin:cs}=(Yr.actions,h({service:"automations-conditions",initialState:D,getReducerState:e=>e.DBAutomationConditionsReducer})),us=is.reducer,{slice:ps,dbThunks:ms,selectByQuery:gs,selectOneObjectByQuery:ys,selectors:hs,selectByQueryOnlyLength:vs,selectByQueryOnlyMaxMin:fs}=(is.actions,h({service:"automations-actions",initialState:D,getReducerState:e=>e.DBAutomationActionsReducer})),bs=ps.reducer,{slice:ks,dbThunks:ws,selectByQuery:xs,selectOneObjectByQuery:Ds,selectors:Is,selectByQueryOnlyLength:As,selectByQueryOnlyMaxMin:Ts}=(ps.actions,h({service:"view-filters",initialState:D,getReducerState:e=>e.DBViewFiltersReducer})),Ss=ks.reducer,Os=(ks.actions,ws),Cs=Is,Ms=xs,Bs=As,{slice:_s,dbThunks:Ps,selectByQuery:Rs,selectOneObjectByQuery:Es,selectOneFieldByQuery:js,selectors:Ls,selectByQueryOnlyLength:Ns,selectByQueryOnlyMaxMin:Fs}=h({service:"board-views",initialState:D,getReducerState:e=>e.DBBoardViewReducer}),zs=_s.reducer,Us=(_s.actions,Ps),Vs=Rs,Ws=Es,Qs=js,{slice:Gs,dbThunks:qs,selectByQuery:Hs,selectOneObjectByQuery:Ks,selectors:Xs,selectByQueryOnlyLength:Ys,selectByQueryOnlyMaxMin:Zs,selectOneFieldByQuery:Js}=h({service:"features",initialState:D,getReducerState:e=>e.DBFeatureReducer}),$s=Gs.reducer,{slice:eo,dbThunks:to,selectByQuery:ao,selectOneObjectByQuery:no,selectOneFieldByQuery:io,selectors:ro,selectByQueryOnlyLength:so,selectByQueryOnlyMaxMin:oo}=(Gs.actions,h({service:"my-works",initialState:D,getReducerState:e=>e.DBMyWorksReducer})),lo=eo.reducer,co=(eo.actions,to),{slice:uo,dbThunks:po,selectByQuery:mo,selectOneObjectByQuery:go,selectors:yo,selectByQueryOnlyLength:ho,selectByQueryOnlyMaxMin:vo}=h({service:"notifications",initialState:D,getReducerState:e=>e.DBNotificationsReducer}),fo=uo.reducer,bo=(uo.actions,po),{slice:ko,dbThunks:wo,selectByQuery:xo,selectOneObjectByQuery:Do,selectors:Io,selectByQueryOnlyLength:Ao,selectByQueryOnlyMaxMin:To}=h({service:"entity-subscribers",initialState:D,getReducerState:e=>e.DBEntitySubscribersReducer}),So=ko.reducer,Oo=(ko.actions,wo),{slice:Co,dbThunks:Mo,selectByQuery:Bo,selectOneObjectByQuery:_o,selectors:Po,selectByQueryOnlyLength:Ro,selectByQueryOnlyMaxMin:Eo}=h({service:"sessions",initialState:D,getReducerState:e=>e.DBSessionReducer}),jo=Co.reducer,Lo=Co.actions,No=Mo,Fo=_o,{slice:zo,dbThunks:Uo,selectByQuery:Vo,selectOneObjectByQuery:Wo,selectors:Qo,selectByQueryOnlyLength:Go,selectByQueryOnlyMaxMin:qo}=h({service:"new-tab-focus",initialState:D,getReducerState:e=>e.DBNewTabFocusReducer}),Ho=zo.reducer,Ko=(zo.actions,Uo),Xo=Wo,Yo=(0,i.VP)("bot/reset"),{slice:Zo,dbThunks:Jo,selectByQuery:$o,selectOneObjectByQuery:el,selectors:tl,selectByQueryOnlyLength:al,selectByQueryOnlyMaxMin:nl,selectOneFieldByQuery:il}=h({service:"bot",initialState:D,getReducerState:e=>e.DBBotReducer,customReducers:e=>{e.addCase(Yo,()=>({ids:[],entities:{},itemsLoaded:!1,itemsLoading:!1,total:0,skip:0,limit:0}))}}),rl=Zo.reducer,sl=(Zo.actions,$o),{slice:ol,dbThunks:ll,selectByQuery:dl,selectOneObjectByQuery:cl,selectors:ul,selectByQueryOnlyLength:pl,selectByQueryOnlyMaxMin:ml}=h({service:"wachats",initialState:D,getReducerState:e=>e.DBWaChatReducer}),gl=ol.reducer,yl=ol.actions,{slice:hl,dbThunks:vl,selectByQuery:fl,selectOneObjectByQuery:bl,selectors:kl,selectByQueryOnlyLength:wl,selectByQueryOnlyMaxMin:xl}=h({service:"tracing",initialState:D,getReducerState:e=>e.DBTracingsReducer}),Dl=hl.reducer,{slice:Il,dbThunks:Al,selectByQuery:Tl,selectOneObjectByQuery:Sl,selectors:Ol,selectByQueryOnlyLength:Cl,selectByQueryOnlyMaxMin:Ml}=(hl.actions,h({service:"session-events",initialState:D,getReducerState:e=>e.DBSessionEventsReducer})),Bl=Il.reducer,{slice:_l,dbThunks:Pl,selectByQuery:Rl,selectOneObjectByQuery:El,selectors:jl,selectByQueryOnlyLength:Ll,selectByQueryOnlyMaxMin:Nl}=(Il.actions,h({service:"local-sessions",initialState:D,getReducerState:e=>e.DBLocalSessionsReducer})),{slice:Fl,dbThunks:zl,selectByQuery:Ul,selectOneObjectByQuery:Vl,selectors:Wl}=(_l.reducer,_l.actions,h({service:"wa-contacts-cache",initialState:D,getReducerState:e=>e.DBWaContactsCacheReducer})),Ql=Fl.reducer,Gl=Fl.actions,ql=zl,Hl=Wl,Kl=Vl,{slice:Xl,dbThunks:Yl,selectByQuery:Zl,selectOneObjectByQuery:Jl,selectors:$l,selectByQueryOnlyLength:ed,selectByQueryOnlyMaxMin:td}=h({service:"team-inbox-chats",initialState:D,getReducerState:e=>e.DBTeamInboxChatsCacheReducer}),ad=Xl.reducer,nd=Xl.actions,id=$l,{slice:rd,dbThunks:sd,selectByQuery:od,selectOneObjectByQuery:ld,selectors:dd,selectByQueryOnlyLength:cd,selectByQueryOnlyMaxMin:ud}=h({service:"team-inbox-messages",initialState:D,getReducerState:e=>e.DBTeamInboxMessagesCacheReducer}),pd=rd.reducer,md=rd.actions,gd=dd,yd=(0,i.VP)("bot-deployment/reset"),{slice:hd,dbThunks:vd,selectByQuery:fd,selectOneObjectByQuery:bd,selectors:kd,selectByQueryOnlyLength:wd,selectByQueryOnlyMaxMin:xd}=h({service:"bot-deployment",initialState:D,getReducerState:e=>e.DBBotDeploymentReducer,customReducers:e=>{e.addCase(yd,()=>({ids:[],entities:{},itemsLoaded:!1,itemsLoading:!1,total:0,skip:0,limit:0}))}}),Dd=hd.reducer,Id=(hd.actions,(0,i.VP)("automation-session/reset")),{slice:Ad,dbThunks:Td,selectByQuery:Sd,selectOneObjectByQuery:Od,selectors:Cd,selectByQueryOnlyLength:Md,selectByQueryOnlyMaxMin:Bd}=h({service:"automation-session",initialState:D,getReducerState:e=>e.DBAutomationSessionReducer,customReducers:e=>{e.addCase(Id,()=>({ids:[],entities:{},itemsLoaded:!1,itemsLoading:!1,total:0,skip:0,limit:0}))}}),_d=Ad.reducer,{slice:Pd,dbThunks:Rd,selectByQuery:Ed,selectOneObjectByQuery:jd,selectors:Ld,selectByQueryOnlyLength:Nd,selectByQueryOnlyMaxMin:Fd}=(Ad.actions,h({service:"node-events",initialState:D,getReducerState:e=>e.DBNodeEventsReducer})),zd=Pd.reducer,{slice:Ud,dbThunks:Vd,selectByQuery:Wd,selectOneObjectByQuery:Qd,selectOneFieldByQuery:Gd,selectors:qd,selectByQueryOnlyLength:Hd,selectByQueryOnlyMaxMin:Kd}=(Pd.actions,h({service:"knowledge-bases",initialState:D,getReducerState:e=>e.DBKnowledgeBaseReducer})),Xd=Ud.reducer,{slice:Yd,dbThunks:Zd,selectByQuery:Jd,selectOneObjectByQuery:$d,selectOneFieldByQuery:ec,selectors:tc,selectByQueryOnlyLength:ac,selectByQueryOnlyMaxMin:nc}=(Ud.actions,h({service:"knowledge-base-documents",initialState:D,getReducerState:e=>e.DBKnowledgeBaseDocumentReducer})),ic=Yd.reducer,{slice:rc,dbThunks:sc,selectByQuery:oc,selectOneObjectByQuery:lc,selectOneFieldByQuery:dc,selectors:cc,selectByQueryOnlyLength:uc,selectByQueryOnlyMaxMin:pc}=(Yd.actions,h({service:"knowledge-base-entries",initialState:D,getReducerState:e=>e.DBKnowledgeBaseEntryReducer})),mc=rc.reducer,{slice:gc,dbThunks:yc,selectByQuery:hc,selectOneObjectByQuery:vc,selectors:fc,selectByQueryOnlyLength:bc,selectByQueryOnlyMaxMin:kc}=(rc.actions,h({service:"allocated-phone-numbers",initialState:D,getReducerState:e=>e.DBAllocatedPhoneNumberReducer})),wc=gc.reducer,{slice:xc,dbThunks:Dc,selectByQuery:Ic,selectOneObjectByQuery:Ac,selectPaginationStatus:Tc,selectors:Sc}=(gc.actions,h({service:"auth-tokens",initialState:D,getReducerState:e=>e.DBAuthTokensReducer})),Oc=(x(x({},Dc),xc.actions),xc.reducer),Cc=new Map(y)},37021:(e,t,a)=>{"use strict";a.d(t,{W:()=>i,Z:()=>n});const n=[{_id:"context-menu",type:"context-menu",title:"context-menu",static:!0,width:46,outerCell:!0,order:-30},{_id:"row-prefix",type:"row-prefix",title:"row-prefix",static:!0,width:400,order:-20},{_id:"chat",type:"chat",title:"Chat",static:!0,order:-10,width:80},{_id:"row-suffix",type:"row-suffix",title:"row-suffix",static:!0,outerCell:!0,order:1e3}],i=[{_id:"row-prefix",type:"row-prefix",title:"row-prefix",static:!0,width:500,order:-20},{_id:"board-cell",type:"board-cell",title:"Board",static:!0,outerCell:!0,width:250,order:1e3},{_id:"group-cell",type:"group-cell",title:"Group",static:!0,outerCell:!0,width:250,order:1e3}]},37352:(e,t,a)=>{"use strict";a.d(t,{H:()=>l});var n=a(90815),i=a(87435),r=a(21372),s=a.n(r),o=a(74848);const l=e=>{var t;let{phone:a}=e;return a&&(0,o.jsxs)(n.A,{direction:"row",children:[(0,o.jsx)(s(),{containerStyle:{width:"0",marginRight:"25px"},value:null!==(t=null==a?void 0:a.toString())&&void 0!==t?t:"",inputStyle:{border:"none",paddingLeft:"0px",width:"100%",fontSize:"12px",height:"18px",cursor:"pointer",color:"#52bbe8",textDecoration:"underline",background:"transparent",textAlign:"center",display:"none"},disableDropdown:!0,disabled:!0,buttonStyle:{border:"none",background:"transparent",left:"-5px",top:(0,i.B2)()?"-5px":"-2px"}}),(0,o.jsx)("a",{style:{border:"none",width:"fit-content",fontSize:"12px",height:"18px",cursor:"pointer",color:"#52bbe8",textDecoration:"underline",background:"transparent",textAlign:"center"},href:"tel:"+a,children:a})]})}},37707:(e,t,a)=>{"use strict";a.d(t,{bZ:()=>n});const n=e=>{"undefined"!=typeof window&&window.gtag&&window.gtag("set","user_properties",{user_segment:e.type,user_source:e.source,plan_type:e.plan_type||"unknown"})}},38148:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(64467),i=a(80045),r=(a(96540),a(90815)),s=a(74848);const o=["children"];function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const c=e=>{let{children:t}=e,a=(0,i.A)(e,o);return(0,s.jsx)(r.A,d(d({direction:"row",alignItems:"center"},a),{},{children:t}))}},38189:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>R,nO:()=>h,V1:()=>y,Nn:()=>m,bY:()=>g,UM:()=>O,vY:()=>P,mC:()=>b,tq:()=>_,T2:()=>A,JG:()=>C,g3:()=>M});var n=a(64467);function i(e,t){const a=e.toLowerCase();return((null==t?void 0:t.name)||"").toLowerCase().indexOf(a)>-1||((null==t?void 0:t.firstName)||"").toLowerCase().indexOf(a)>-1||((null==t?void 0:t.lastName)||"").toLowerCase().indexOf(a)>-1||((null==t?void 0:t.displayName)||"").toLowerCase().indexOf(a)>-1||((null==t?void 0:t.origName)||"").toLowerCase().indexOf(a)>-1||((null==t?void 0:t.pushName)||"").toLowerCase().indexOf(a)>-1||((null==t?void 0:t.shortName)||"").toLowerCase().indexOf(a)>-1||((null==t?void 0:t.whatsappId)||"").toLowerCase().indexOf(a)>-1||((null==t?void 0:t.verifiedName)||"").toLowerCase().indexOf(a)>-1}var r=a(87435),s=a(30038),o=a(1081),l=a(36596);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const u={theme:"light",currentChat:null,chatMap:{},chatList:[],errorState:!1,completeDetailsClosed:!1,wapiInitialized:!1,assetMap:{},currentExtensionVersion:"",importedContactsArray:[],showWizard:!1,hoveredDate:void 0,isReply:null,mentions:null,redisContactsUpdateTimestamp:void 0,addMsgInCalendarContact:null,extensionSidebarSearchToken:void 0,highlightedContactId:void 0,appState:void 0},p=(0,s.Z0)({name:"whatsApp",initialState:u,reducers:{setAsset:(e,t)=>{e.assetMap[t.payload.url]=t.payload.file},privateSetCurrentChat(e,t){e.currentChat=t.payload},setWAchats(e,t){var a;e.chatMap=t.payload.reduce((e,t)=>{var a;const n=null==t||null===(a=t.id)||void 0===a?void 0:a._serialized;return n&&(e[n]=t),e},{}),e.chatList=null!==(a=Object.keys(e.chatMap).map(t=>e.chatMap[t]))&&void 0!==a?a:[]},setTheme(e,t){e.theme=t.payload},setErrorState(e,t){e.errorState=t.payload},setUserInfo(e,t){e.userInfo=t.payload},setInvalidWANumber:(e,t)=>{e.invalidWANumber=t.payload},setMe:(e,t)=>{e.me=t.payload},setWapiInitialized:(e,t)=>{e.wapiInitialized=t.payload},setCurrentExtensionVersion(e,t){e.currentExtensionVersion=t.payload},setImportedContactsArray(e,t){e.importedContactsArray=t.payload},setShowWizard(e,t){e.showWizard=t.payload},setHoveredDate:(e,t)=>{e.hoveredDate=t.payload},setAddMsgInCalendarContact:(e,t)=>{e.addMsgInCalendarContact=t.payload},setIsReply:(e,t)=>{e.isReply=t.payload},setMentions:(e,t)=>{e.mentions=t.payload},setExtensionSidebarSearchToken:(e,t)=>{e.extensionSidebarSearchToken=t.payload},setHighlightedContactId:(e,t)=>{e.highlightedContactId=t.payload},setAppState:(e,t)=>{e.appState=t.payload}}}),m=(0,o.Mz)(e=>{var t,a;const n=(null!==(t=null==e||null===(a=e.DBWaContactsCacheReducer)||void 0===a?void 0:a.ids)&&void 0!==t?t:[]).map(t=>{var a;return null==e||null===(a=e.DBWaContactsCacheReducer)||void 0===a?void 0:a.entities[t]}),i=(0,l.kQz)(e.DBContactReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}]});let r={};for(const e of n){var s;null!=e&&null!==(s=e.id)&&void 0!==s&&s._serialized&&!e.id._serialized.includes("@lid")&&(r[e.id._serialized]=c(c({},e),{},{whatsappId:e.id._serialized}))}for(const e of i){var o;if(null!=e&&e.whatsappId)r[e.whatsappId]=c(c({},null!==(o=r[e.whatsappId])&&void 0!==o?o:{}),e)}return r},e=>e),g=(0,o.Mz)([e=>e],e=>{const t=m(e);return Object.keys(t).filter(e=>t[e].name&&""!==t[e].name).reduce((e,a)=>(e[a]=t[a],e),{})}),y=(0,o.Mz)([e=>m(e)],e=>Object.keys(e).map(t=>e[t])),{privateSetCurrentChat:h,setWAchats:v,setTheme:f,setErrorState:b,setUserInfo:k,setInvalidWANumber:w,setMe:x,setWapiInitialized:D,setCurrentExtensionVersion:I,setImportedContactsArray:A,setShowWizard:T,setHoveredDate:S,setAddMsgInCalendarContact:O,setIsReply:C,setMentions:M,setExtensionSidebarSearchToken:B,setHighlightedContactId:_,setAppState:P}=((0,o.Mz)([e=>y(e),e=>e],(e,t)=>{const a=t.WhatsAppReducer.mentions;if(a)return a;return e.filter(e=>e.whatsappId&&(e.whatsappId.includes("c.us")||e.whatsappId.includes("g.us"))).map(e=>{var t;return{id:e.whatsappId,display:null!==(t=e.name)&&void 0!==t?t:e.whatsappId.split("@")[0]}})}),(0,o.Mz)([e=>m(e),(e,t)=>t],(e,t)=>Object.keys(e).map(t=>e[t]).filter(e=>i(t,e))),(0,o.Mz)([e=>m(e)],e=>{if((0,r.B2)())return Object.keys(e).map(t=>e[t])}),(0,o.Mz)([e=>e.WhatsAppReducer.importedContactsArray],e=>e.length),(0,o.Mz)([e=>e,e=>y(e),e=>e.ContactTableReducer.filterValue,e=>e.ContactTableReducer.showSelected,e=>e.CampaignReducer.contactListPanelState.selectedListId],(e,t,a,n,r)=>{const s=e.WhatsAppReducer.importedContactsArray.map(e=>e.whatsappId);return(e=>{try{return e.slice().sort((e,t)=>{var a,n;const i=e.name||e.shortName||e.pushname||(null===(a=e._serialized)||void 0===a?void 0:a.split("@")[0])||"",r=t.name||t.shortName||t.pushname||(null===(n=t._serialized)||void 0===n?void 0:n.split("@")[0])||"";return i.localeCompare(r)})}catch(t){return e}})(t.filter(e=>{var t,r,o;return(!a||i(a,e))&&(!n||s.indexOf(null!==(t=null!==(r=null===(o=e.id)||void 0===o?void 0:o._serialized)&&void 0!==r?r:e.whatsappId)&&void 0!==t?t:"")>-1)}))}),p.actions),R=(p.actions,p.reducer)},38972:(e,t,a)=>{"use strict";a.d(t,{M4:()=>i,_r:()=>r,hl:()=>n});const n="bt-token";function i(e,t){t._id=e._id,t.displayName=e.displayName,t.color=e.color,t.icon=e.icon}function r(e,t){if(void 0===e||void 0===t)return;const a=e.indexOf(t);void 0!==a&&-1!==a&&e.splice(a,1)}},40040:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAACmCAMAAAACnqETAAADAFBMVEUAAAD30gQCKn0GJJ4MP4kMlD43WGf9/f329vcBAQHhAADx8vHvAwL8AQL7UlL4RUUzqDP2MjLp6un2Jyj0Ghn2PTr9fHvi5OJYuln7Xl75+UPpNzXUAQH29jH6cXC+AAIAJwBNtE/23Ff5aGdDr0TJAQHsZV3qR0IAOQB3x3fdRD/Z2NvuWFLkcG7fVlH4kI4AAlXO0M8BATsdS6MCagIBfQEASgPoKSc4VKL442q4xeQAigD46eetAABYd9jvf3nZMiwAAoD30zz55X5ng9tPbKZnwGXz8x77+lY7OTjzzikABGsenh72pKNPldEAWgHgGBgAACH88/Gqt95JR0OWAwP3uLd/qdr53kMBBJJ3d3XMPTpWer8NnAwABKPH1O1VVFIuLSz13NtZnlf2kEh9keLn7vfZ4vNkZGHzvwJIXZRfZLuDwfv4y8tvk79LlUblzsxorGcCBusFKuYCCcdmfq5jqvlxt/tzktEABLb8/HL2tlTAw8SLlMFpj/ZlpNhBZ81BYbQcGxuToN9SYdjXY2Lz7lD0dCQ6S9Dm0EUCYPdDlvWWvd2AnviXqc11eMZTqPc3cPMCRev16ZrRUE0Hf/tNT7HIJyTptDVTffSsTkvhtgQ0T4jigoFUx/g+hsX9/QUHzQY1dbJ7sHV02Pduvd0leiK1XmaTrfpCQPgELrrdsrY1NamgyPrh03iPxosvX92ysbCgoZzk5kP1YD7t6AILnu+45LykNS40qvXDdHnR6tBennz6u3TSxU1Or9Swz6wqzCsPZKzglJbIqEY8hDhyAgFzbJxuOC+Li4d9sJLFsnhwbvH2d1A3kzAqPZQITsN76nq2dzaZdKJf4F6RJkb078YFiM+tnWZGh2F+dDibykYoMcsnekdI1UhCAwWb25qVkEq43km9yBrclQMGwfyZ3/zZ2QK9gJxsJWCBUk32QwqOSYKRxh6Xdm3B4oMW22EPZzawnR72kgZltCqPxrdH1dkBkqDdWwwMwMO9O2sqKXHvipPGJkzlRVLhJjVIs9KrAAAAB3RSTlMA/v3+/Pn9Fk05qAAAUU9JREFUeNp0nAlYVNcVxzHazoroGBkXhAgCCjMsroDoKIgKdFABBwQUnSAoCqLRFBfcCBIM4kbqShO1hlSrCJqQQmNssVFqjBarsdjFJWlMTOLXJDZt8/X7+j/n3pk3vNq/bb8+3nbP79137/+dd954qTVt8uTJL73OMhqNer03ady4cWOhWbNmjV+0FfKGjMb36Y9/1fXUst9cb2y8/lpb797z5k2dOjXVD9Ljn59fcHBwQEDAgGch3l9on6feeeedn0r9kvT222+/sErRgvcDArwV8f5tN/rcvPnMZ22pqVFRSVGjR38k9Rsp9fLql/MXLj20VGjt2rVeak2Og/auI/kHBQ3We/tCo0ZNhwYNGj58/NaWlpbOyMhIX1//2/jTrICvckhXruQsWbJw4cL3tzhPORynSk5lZWVtglL9IkmdDQ05NqvVGhLwbKSUL+Tvb9yH/2sj+eN0IZZ3fvq3Hnp71ZtCOyofdnTYSzq9xX7UtsF9+/Y1FpeZT54sc2aUlq6Jy89YM/qj2oZaoeOkMR8dV/Tee++NWb04rrA5MRYKDAyc/NKCpwDIyKhE9LEzZ/r4DLQAAE6EyEeM6AcNH7m1pTMnB+fHX7tG9Bs0Xt+GwM/frqm5tz950aKDk6rsiA0xbUrbRAii/BDeV9bGhQsPRlyOCAuZ9GykZwT++n2RHPnVYQU+oaFDPQD8jEQAPiDdaLPaHGVXbn/O7YHQuIH9B/gYgzts1iqrtSopKWlNRkzS6I8arFaOFvTfew8AfiYil/rN6sWTKwtbArOzExISUl7+vwCuQNt8Bg71AQCcTwNpWeFbW3IIQEmJr08XgIzX2xDcvZrs7Jru5EWXwwKSwh2RkQ77w7Q0bXp6YRoDaKO+kZl8MCwsYpJ3pEf8liAAoPhDhqUMQ/wAkF+oqKiosJYA7HxotdnTtVe6Pr/S0h+AI90QffU3T9obGuwdD5PqkmJiMtbM+ajWI/60TX0COhoarAAE1dfXV80FgMmLi1oSKP7/B6ASAGyBV4YM7D/Bx8/bF7g5fgmgEwCCSiJtJQRgxEi9zZqVdYUu9pW0tLCIgOvxdR0dpxx5aWl7EzV7CYDV+tXnCzMzkzMvE4AFlTuhZaSf/OQny1L32RC+JcHikzJ06NAJoe+YNKRbsbG3xPlWZTxssNmdOP/J27ffudLJ60V7DAaT1lxRVvfwYe3Jlrq4uJiKjAwAcIWP+BkAhV/i7HA0uAG8BAIUf8qfzvwvgJcQf+XMK4GWi8OGTpgQ6uftzwC0LIM2WgcASwaXOBwlA7v6/YgAhFRt2pRGeu0/UyImbal77eHDo2kVAJAeKwE0fl6P63/5nSlTAKBCiR8AovbZEL9lf8I5AMD5booAE7OzY8X5fhGJi0/nTzTcMh+80iIBaF0APqvIu3EjqfRGcV3S4aSKYk8AaW4ADU4gOFlfn8sAXnoJBDpTCMDL87zU2kwATl+x1Nw+P2HChKHBBMDHFT8DwGjX11FSYu/f/aMf9XtOjwAacf2hmxRg7ywXDrr30kb7NVhDquo/z0y+nJs7ZUoYA5DxM4BFmcnJyV93PzjbvQhK3urqAYF7xflWVT5ssDaU4Ox7T9+6Ei4BaN0AUkvXJEExMTGHD9cdFgA2yfgZQAP1f0dJw0lrfS4BmIb4z5yZBgL/H8DibbehGROenQ0AQRhvZPwQAGDQ8wlqsFkmdP9ofr/n/OgK2ml1xxQECAAy/tdee++91wCA1mfWJy/KXUTr536T+O67764X2r9//T+3JkPdDx50f7qItDXfff+zeAxY1lYV0VCmPV1Ts5fGAGUYDbHpo0qT6vKTignAtWvXiuf0StwGZZPQybMPAYC8/xF/bj0AUPwvvzytKCdl6dMAvJxRuXjxkCHnL86YMXs2A8B4m4yWQTrdIp0uByMajcATJrwzXwCIiIjAFSrbJwGI+FlH00YH8/rQy5enQPsYgBK/BLCI1c0Afonhn/XjH8MNLP9o1Y4Pfg795N9hYQ23bt1q4fb07z+A/ITR2J8AFJnqOP7iuj7Fc35TK+9/bkPaM+NGiSnsB6wRIwGA4n/5T5Pzc5aeeAqAP1VCM4niWRqVgr1p1sEYlskNJQC4BQZbLJi0MAgCgBUKqYo3VEVEhIWFTZqXtYmVxiIAtB4QeDUAvMuSFBgAJCkwAKHlLAKw4wMIFG5URVgdLdwedEq6BuCgj1qzpi4uiVScYa6I0fWKJQVC2aRDY0eNWrlyECwMMIDDc2vZ6UF0F7z8tB5w4kTvtZ+ygklGkk4lvZ6sne45SDg8aJIQ2z+4Mmg0qcfauXPnfvPNN9XV/1S0VSWyf1Ls4FZ5aIHu/blGKb2UOM0ckq4PmsZ2b8yYMb2l4FbhX8ePHwmhuSPXkhaQ5q0tXzBvntdUUq9eSyFu9njXxpA74Leg198yktRWVI4OkAkymw2Q3WO90+nnN3u2H0QkHI6JpHHj2GvTYdsupd68GfVZ4yTJqJeUaNKhQ+rzCUvOMXEr//4vD3333XdLe+rRJx4iqumDnT2O5zW1HII1hPLy8pJGjz9GWgk9D61Al4fWkWay9VRbUa1GEVCYDRoonu0dr++n0ZQ0dMCNdDRYHVrtuImjWHQ80lvfl4WfhJetw1CFm6h+rkazd28iJHvyIe/IHt7ZOBY7o4GPH4smPqf7nRwz/sH6bmmi2HtvYiBUYPxEcZakt701PdsPAIhb3DBbYmIIAOK+F9HXJ6z7t799AwDI48+cOQRi66m2ogoAYVwIQEkQb8DrJza1azRWq9NpjUjXtg+aNXHU9EEQHW/YsGFD3toHMFZbgzUsDNPkPgAgpScG1vA4TgB8PZATAAoc6IasWPHhhwCQkyNCdwMIJCVqDabA8+cAAJFLYVD92dvpjvQe7ZcA7p0/350dEzNmy+iRAHBPrO9+AwB41Of4h2HoFdZYhsfL7ej7QmbSBdED/GkDXv+ju9Pv4i9mM+g09Rs1duKoQSQR/4whb7msbFhufHy8M2xup6AZ3sHzWOChaveIWQCtn00A7s/84MDuD4bd+fBDcYEukrVna5fwMQPAsqnQZOqqLtBzezysvHd6z/YLANndUELMGAmgXqzPfeON3+IE8PHbuL2YegYCAO+/fz/io2VMM+5HpR/BGXIPGCzix3oAaBo13aApK9Mahg8fNAo9ANsPGi7iB4BLZRUPH9advJGb6zx+3Jk7FwFtCNekNzQUabW3cAv0Ek9uUA0U+PGsY4NmzrxQVBS3e82wGQDA7bvI8SsAsgNP7y26HV4GALyeJzGaY5J18fZ4GT+3DwBK8/K2ZF/s7v46ZYwEsMJHrJ/gApBJ8QPAs9gh2BYBnT077OwUnvcBwB0/nCEAQPFBdADefv5dPEu3p2u18e39Bg2aPou2h9wNmP3wi7bGL9qsuVOcizoBgM/X0BBtamggK2wGABn+WSLw8awm9P4Du3ecys+aMWPGt6J9medF/EsBIBbxJxSFm4vM5moJAOGL+AHAO90jfglgy5bshO7uFAIQM2fkyhUr6sX6fW+MJQDYX1wvWI/+uOIc79mziJec4ESxDPGy6AF9RfzYHgBw02s7yswNhf1GDJ8+lvcfPgKrxfoAa0S9uP9HTV95LHdur8TzuF7W5OSqDdEGAFiaiIjk9U8hAMdw+1Ts3r37VPOMGR/K9l3k+CUA9P9b4c6y8LKC6upqAiDj3wpxD1Dix/m9Uku3KAD6xMx5DgC6xfrLYwnAEuw/jOJnAMHjpnvECwA8aK5YseK3EA2aogf0pQNIAIOaXI8S0/sBAPaHaLUEIOJHPmjUsWACACN7/qLVmoz2Zjabv3x8X+oBdP/DWeih94d9sHv3BzO+fOOND6l9C93xL00BgOy97dHo/ZHm6EcAwM8OHlZ+YLpFtF9eQAGA9+81pg8DQCzdU3D9Ef/YN3AC8OP4Z5D1DBg7XYmfAKitqYl7AA8AvDxxVLtGW1VVVhYRZjC0jhg/Tuzv3j6gCuEjfghGYd/cXrFk5BNqai4K633k938h/Zp15C8Tx68E7X7Dtm2b8QZEAH743j8gYQQwC8TGlp08Z7ZWC+k/4eFf6pc//Sje3+TZ/pFeqXkQ7hoIhhoAnve8ogRgCQZBMQsgTgBgXykpAoDKmpoIuJP/wMvzwaOKHkisVfUnDYZZ2J/k3n4ST/94UiHt2/d+Lx7yttFAXnP+60W6+X9ggQFzGDdeOJT791fQNAgAv/qHFFMAAJou7AWQBCAkKXzknW71bD96APnWQ4c+hthRsv1Ty2WNA4InwYYpzhJSW1MT+lmkxx9awyfNhQVmvf9+c9M4kVt1by8tsmuLub3I/in6er7URGkh1SZ1znfk/xR9o2oP7F8Pax1vbO8RgJcwhYp8BvpMcD1t+0GffPJ7xUo+CA54Yc+DPXv2vGA0vkBavfqIW+xeH3kr8iJ9QxJegQNpu/TMzZupnzXOkQ7+OkumeCCOU+Si2Sr7kR6RkQZ/iA0y62PWVKlUiLy8fsz1MSd6s+YhLz1vu0t7ILS4T1Rqn2cU9fF6YQdpMZIAG6dNmzZ5bX+7PZKGsXi0CM9xwZ+0DmuVnejxsHMDJu3Zu24vkrT+QTtYq4/8nvWHPzyeCa2HUySRbzMKAO9CGhZ15Pku67uGlaS7frzoeFat26uY2CpzijiIrbKfLdH2buy7eKLkR8oAaXWhQNLH8+qEKirKy0tLS6O8bXVZQpvg8dPmbV/O+jH0IvRClLY06hkPAcBGqLa19ckBzC0HVg+0R9rQFpqFtWER1oBPhr3+eutPocevPzIaBwTseTORAu/rQ7sd2AgA4g69T1PlfmGVsX9fn8ESALk4ER5Gsb/Mny2tbzGkPQwASH1s2iTDBwC2yhYeVdgq+yXODAwpCCzAozT7Dml12fqR8VGcOMtk9A0pkUvsI7YvR+DQrl2vQLtWpdbFPAVAq8lgMrcygKEEoKQsJKTMYQgLDQn4ZN3r60T43ngSrH5g1rBcWaINAoCMX1plXq8GoBUAXNYX4RcfPqzVXa8tqk3bpATAVtnCVpytsp8tsCBifcJVil8BoFhfu7OE5RCyGn0HWxweQLYvf/HF2tp1T568IgD0Gf2MJilKBSCrPf5Cc3h76e4zuwmAv8ZqQ5cLMwwNA4DWn+IfwoeqX3/8kQvAQC2rGQCU+NkqywuiAqAVACa6rO/hYsR/uBi3wKZd7wGA1gPAcEvfhAQAmEEA4DwLEgo4/tmzwyYdYqurWF+9zWKxhCKlTjnV2WEBxkhHX5/G8jSZEZoKALWJWbuyYgWBVRgA6vqk9hgDNh54YtI2t2jbn5wBgAl2m1XTYAmxhFoNU5DG/uRnHuG/d/yjEa0X7kID+99tgu6OxTytxK8A0KoAaCGexz+rWHPpUtKaG4e1hwnAhhNZlLtMhwyG+HhDGVvl0PXZ2fv7w3oMe8vPijuf4of2AQCyutDmzWdI1zcv0Psr8SOFF2As0Th8Qr84CiEzcjSKni09b4l5C+al4r9uAcCBA1nthuYKc3spA4i0hWgNdFazgbK8n3iEjzct380S1rd/f+mkAECJH87O21/2v76eALQM4MiRX0+MKqXsFXSYAei8/d3WXLHaoQNTUga4AYSGiesPTSEASvwEwCrin4D4GYAv4m9MS5M5yalGX1uixccntCDwKqf5n5FSboGNBw4caG03m1tbz5zZs3v1bAAAKvtJDAuzAeD1c0r4DEBY4f4DKH4C8AclfgYQxFl0etRWAAj+RwjA6DUyfuoC3xt02F6JnwDQ8UNpeQAB+DTY6op/HxJLU+au3jj5JYRPwvR5ZoFN3v12oVxjkE+oXbG+4o71WH5dJa9VALD7wBPMArvP7AEAfaTVgm3NZkzcszHoBCvhM4BvhTcfMOCB8OZH/sDxp0hrCwA8PvKjNqkaAPaL80sAyvU3fF+sU1tptspDaRkA3gKAEIoforwaAPhZ3f2de4RWeUvAARqDKH65ZDKE7/nxriexm17ZtO0JxvhXX1n1Q5UAYCMQTCsvn7ybEuYL9JE2q9jfZJoSBgADEP5xt757MJM0xMcHUUOfzr9Pywlua+vtThhJAOvdPYDc/LjRayC+CxiDTm2l2SpbeJmPHywzyhLDXH1ICI96wEAcAlIr4ABKSThuXt4c75ByyJ2Zj9qDWbD2SSJmAdaqBSp5CdPoB5frx9LDdEVDG6C5cKnB/xz1kdB3rAcP2Bb7+X0q9GtOXirWU7HGEgBSwI/CoehosrIT2f7pFKmtNFvlYF4W/jvAI6kMoX2y1kBIZKBHu1PDwfNI7A1ZbP+UIgPMAn08hFnAIOROal3P6pnlzSQlK8pHf4F2s+AwjSRNvDsCadl76bQif9tbqDBdNvzPfxcy8+nCw1OULDDrOukEi7PXnngo+IDLY8UZZMmGOmsMn09yPTI8VwjhWEUkXIY4mYVu2/7qq9tJXuqsLoxJj+XMZqEWUmdnskabf8olWOI9Rl9Ik07vqeh1id/EpqZRUGKOhksqxveuZGm0Idx3g//+BPrd734n793wXnuFEoUOXc+ClJcrC4wiI8rv0On4GNUbbh8TBRtwDOPVWerxv2P9SuiPukKcBwd0xRPusuLSH+/xUmd1r9dm5XsuZzZ35kBLxCt+ANBoihA5CY6YAODEmnS8KRpIr7cBgJp2uyDkahcmi+EAUE7SpvPQFRrw9yfcvk5nPHUyApDokQWPBQCOXN7DafPo+ABH1RN8fL0t6OrVq1X3eC7C8dVZ6vHu2P/4xz//WQDAQ44rnmhXFlrYYxeAW+mJ6bcSEyUAEFCyqJdPfkX6HLp8+fJXBEBTyAR2uAD0tWjSfbh9BGAUxX/1zi8HVXcpAHZq03m9BNBptXY4ET8DUOKXANJk/AxAFETYbO/ayJ3aACAwcH3gep/Qru4PUZ8w/nW8X9gWOMSdZR7bRG81jkOU1XjeDUArFOey4i++WFW1vr4NAMTLaFjLvekuAJvylYKIXIcvFcQItzLB9o5G44CzylcA+Pe1+GjS+fojwGDO4hbcOfuXX35bnZ0deIgB7Nyp1QqrygB+1Wb9lbOBAUQTAOV1XuwhdRZXI7Q3UVplfSKS45aEc0MH9p/yTveKkQCw7WrIXneWmYDMrD3++Mnx47x8Iqt8GiTs4+bJ8y6V3Xj4sOLkjV27qjA9AYCBvGJsQkLgXraKBAAEOsCdZPfLdbjjRwQAUOJvxy7t/BK+NKuPhqVYTX6PEHJ101+qq8MWLcrUqdf/ne5Pa+OvMLPRPB3dBw+ychaDSkers7gaFiAliv31sSHr14euv0o8n322XoeAHXhwOyuydsMYwJDax0+ePD5OywCA8NM4fAIwdWfdtIqKvKyMXbuKDPWFRS8wAG3r3lvtF0RBAveANuqv7K2Dc+3K9Z/g7gGtlKRja9sjPjSQF6/eqc7+9ttztKz3Z6uarl22BcqL+jvdo1URvyqzGbSUpOTX6XlkW0mvpaqzuBLA6dOxOD4DKMA7koRzaMyUf3+xczUCvlVgic+m+CWAIUNqjz95vEkBwJdfAniVhj6+/xuRjGyTAO42XRjVxJMfACjxE4CuveRlC2SO7d13NJD59yJFSQD0QRj+tPHu7flhpqv6y+pv/9lF7wn0QexZ4g1bBIBZBCAnIsJaEm+QAJT4f/Naqrmndd2wCFMPhuHTp3OWQDk6vS1hfcL+6v6I/iU8vgPAkAs1+5vPIn62zt6+56AsdNChjx49OqcvwsEQPx2OjwcAIv5d+YW5hfkSgNZ814wNGADHP0HEo58Q8PXe2Fjx/JkCxd7T8uXn+CUA3P4AILcPFu8NuqrDziF+lND4hfCjigAQsywKozQN0Esc8eJ89LTHLk8+7ZmV+LnBnJX2KNAA8KvVQ//9xWTYkDNnJq9VW2m5XF8vl2lSx/X3AMDhU35kee7yXS94mfh8St78RNZDOetAEwBAmaRjoS6t4a7M0TKFcWxNtfE+cvvgsWKCjs3U8jwFAGxd0w150DIAkHO0QSjaSPM3Pa6BI+RnVtojAPAErBRo6AeHtN1YDP8uRra1aiutXgYALTZ1H287pn+SxAAA0pFB0aQT7wuzKbOQwV93kfC/Qt13j/TI0k5kg2Yqox1YY0VBwlKdWXgx6VvLzKlRrPEjRU53Q7QQdpenE/bW7G7JBpZOpUmfLVi9arXQWkhtpdXLZP8WzFsQFx3Hh2vm/CjrBZaX9UbvmzenotZWWmpZ3AOJUgvCtkq/2u2Vy0lmbiOfZhxLqSWuyC/FpS5qbCyiW/6LUm/om2rv6mrvR9VGyCRkNErs6uOprS2bcpaZ91Bbd0CTmsTiPd/i8gtuzxGVPpoIebTY61qJ+aT9pJOytEnQ6NfiSBlxcbWsMTRG7LBtdFvJ8nxI9FAyKEhgkJRa4jqHpigjQxMZqamry/fV1Hk3eWRx198zmjTpmEZovSbe7tRGq4+ntraGnlY9nJfT47Wu5YAGVIKSZIEF7y8KOrg9R5C++r2iI6/W9myvF2p3/YNwyqQYcl/Fc14TkcNAk+r60AkPhBzg0wkA4GNi2fyDCMAg5VURKkfz4uwOzWJN0GBNuR0Qrnk3jTrrqlh68O1wvDlyNCBp6R+k0Tqq7ACgOp7K2koA6b7xSgFGeuTgvkElWBYAEDgidxVY8P5c0DGMrbLTgx908tVTPdo73uumw+4baW94WByTlp+fFuMCkJGhBqD1ACCeFP2pTg/WVzkgTpiXUV6GtCCeD4Li82N29vYGoDs1/Lrvy379ngcADaWtg0JwMAe8ufp46gIM+brdYnEKL4/lSF5fItqjFE6ms6/g/UVBB18Qb1xgeno4x7qqf/XUKdr81i2ZIfJaU1LR0YEsbUxMWmnFUQEgP5/sYFxceXlWn1XIGR6w0JzDWosGZ2SIBgeFwJvDeBBvtxWVz5Ior2Xle486i4KIO1fP3aEXkiv0QQ47pa9CQoTTnP304227d08ejwMsszRaylwAZIGDvwCw/RQ8ObRRaBUXcIiCDpwPAN6NvQoN5vgHngOA5XT7NDVJa+31WUXSjRsxa27EXEuLawGAo3HU/+OysnBjlpdmPeNnExkYV16+HO3NEKMQJjgrGizjl1a0MTLI4xL2vek9KrBg+IiuhBRUFhMAfrojiae74Kcf715m8j0+ngDgj/vBR9QOAyArUmj2njc5cJmkOLCKa5u5PTO4YMM7cR0REPELAMtxxA0bpDX3SsXYFwNdu5bWmZN0bc7RjNraOMSPHpBRCgCrKWcYKq//njNrp4kGmyCQCQlGg5X40WDZA3z6u3vAnUEjRtw5d+5LAJi/Qm9xcOstFht9JxHp9/TjDeteKJyd7AFhuVPKhFX39vcXXd4hssjbuQO4IGxkAD6iPZy1Rg9Yj/g5/IGPAGD58kJ42Q0bwnE8AUDG39mZl5eToyMAiL62Fok2AkD34O7QM26jlIcG14oui6sYEjymrpxeyuUJlaZuqViWnz5Y0x8AQpt7J6V6Hxs+4k4N2chD386f/6EeRseB9lso89oBY6I+3lhVAQYDSHfud5qEkUEWGftj574ii2xWUqJyPTqfKOjg/WlQ5P7v4wJwSguhoJEV7hW1huOHKO1xDQD45aJWWyoAUAPOhBEAgwtAbZ2YhC2haDA/bbkfNvKmxmRobJF5mgEDNL/Q2EPKU72nD7rPPhq5rwf9CIDdageAUK2hod4GAKrj/U8BRiQ/ju8/R/7UJ4Ssbl9HutbpL63uUws2RH/k5bKe1vrKq8td1nsflDsXAES5OXQY9da639SS6uQswAC0ByyTlR6QAQkbEgIBQNbicggY8qCpdRpb3M6dNAguS4rTWC4ZjwVCXIABCitgdZ2RGNBDMAs4bSUAoDre/xRgsCFYvx5hkbkVVjfIv6/L6j61YIMLOs7ysuvttdSRV+vcnqEecycAiFpbFtUbiEpbzpiy6NKsDlhL/pS1ZQuq6TZwkjCYJOtuSVNJpZ8nIQeaf/NmPlKyz9R+b4T++cj46JF+9iM9JK2un5+0uurjkX2T5Qsso5Df/7O6smCj5/a93oI+5eUjKu0JVpLMJK/r18PDZRaWq4i3k0ykcHbLKmcqaoVlCvcQtGjEjyZ6emF1Fre3CpDa6vKZhbHn8wdLueytnqU8n7CTFSllugeMik0WaJd6CrUZDTfmwep/cY3S5M/hmqjP73V9Mj0uKjnA7ZQtFebiRWiVt8x/yrHW6GE1SYf8Hraa2psUa2m0QWRlQ0QWd8FiUrkrL5XK+ytm13iiUog3mzZtQbANsrpL7CfpySCz+G8BXEChYRVAxj1vSsmCDVUBxTfFTq3zpDO+Li5/Q9OFlrg6tdX2MovZCn6MtXM7PS8LAPQ+HQA48IcPeardqFesJtf6HvL2bby97tat9unCCQIAz/ORkWKeBwB3PgafKWxOFVYXCYvjwuqe4NAlnpcIgIhcFkQAAAfOfwwNIwAALR4IkKEpMJp6ZrWj1QUUgx2Yde32G/hIB+VVx6LUVlsCcF2Dyt4MQBzvFQgAKP62pvA2CUBaTZmF/RjLEV+dn7nuVvuo4fQRFQBYoHRH31DKAgdX5EMSb0ZGXIy0uiU+JcLqEoBprvgZgBK/BKDEHxYBAIMEAG16NQDoJYAdO7QCQAKnL043N5+mbpB4qNEZ77CXlFRk5FMJfFOd/OyOxJ/deZ1A99+8Weue5gjALphFLL+yezcB2AhZmy5Y2Wnh9feSCGE1ET8DAM2D3WeHDKFuMGi80R/hl+CjqvgSBsBlc5V0vMpCqigRF4viN7AVXV252B3+S8jaKtdTZoH5q7IIaUUjJnEBhYHWxysA3ty4482Nb2r5+KyMuvw64fQqnBknT2aU7aQe0PX8MqoXaKUsaCvivWvQmiQA7qHQ5t7bkSt5RctWYzcD2MEAwsNDJICvFi7sewf6knRnIltPn8vdxGNYvGkcAPj42OPt9hJfTqpyAws1GRnaImRBXQAQf4mBG7i2snwnaxlp51R1FjnEYRfqgBo69nHO0YD1ngAKNxbiP7S9BFAXV1EhnN7D8KLw5riiirq4lXUHK47VIf6mC63tTU3trU3T78IJilJSpQcAwK5XeLlQAXCg6oMbVYife8DCep8RSqkpACD+e0hL70UPGD5S70/pLXQ6pyhY4BzfYi20uNDgBoD4Bxi4gQyQZnVZPK3OMquXOecIdgQA0vMGuPwbD+yg9RIA4o8T20+tAFvxlV59Te6y0Vh5wWQytLYaTOgBAFCp3KNiEPzxrldUADD8VV06/wUWfw4AZDUVqzoSy2GXHwyZiTGgHwGhLHGoj7Mk0jmUAVS4D54BxcVcr90E5fUfkJTGb36ox4gSDwg9hkthP4RQCDtu3Ic6dYEDF1CYPAHweowBwgqPbVoJyXJXfFCxrCgjDv8Jr4urO51bk1GBLDOUQ+IssxesKKlSqveeH7+iBnAAqo/YTTogsq49rOfB7m23brUOp2UGQNH4DJ1gEVnledP47pKvfLdEqd/9occo8TMAJX4CoFXilwBg+lQA5HoFAIcvviiZWsHXH4q5nVDzk9HqLLNXUaFLJlORqahuz4uQOCDPAkblUYvkx1bTw3oGt3Xi4ivLsoDBnVWeygNc3mYSsoQA4PnyFwDIMCglD8EjXc3/kAQAPbPE4Wx9PW6BF6RDkW1ci2+K+JsngQE9AB2QOwEudGNdRoU6y+zl/ohMmjWyf6uiyfduWEVSnJ0wZLw4UvkMTaebCCuqLOtVFQxKGasQdwSYZdcZPWweSykFFuKwlZxoOBdQXIiGmvUkVxJ5g5TaSivnHs3SqeQ1UZUl7Q1p9Bp3kQWvFicXNvvQfGX7cR8fmqs6oPozOp1KAqgClSyw1AKSnqVA/PbTXj3E7RWnn/81jrcb4loHme7+n/Pz5krWuu3GM5+hVnmOfAICAFVWtzdVE9g05VApHvNTPawnW8fLiYmPeXvofmCNztv2lRxRuG/p1AUXOl6rrDd6WFGyyqsXQ4oXnKe3sRIT2f5YAsY2PV4nNJPUS2nv/a9wQJ3yewPiW2OcP3wDN8LQvIHP3zO+7/kXJ8IvrYGuJBUDgEhqyruaAJSXa0I0eaSjRwGA1otw2DrqOs8HBt6hzb+tSbi4RAdn17jE/UI7UwJw+Po6xLOFjmsroj//fEMmr+eCCovl6lUfeqHu47d2scsG0WA5eSqMj1AovM/QiAB8JXZnnRvBul6u9k4/v9Ccmbzwn8ZIgROwwDPET6sxdeaEa5xOTfiSnHA+//OeWetce0cDVAzl5BwGgNb29lb570L73fZ+AFCqsWg4fgCIYuspLidbVxzwNgggzZOQ0o2AyNpG2JWHKQZgJ6sdycvR3CGdDbYyE6kFABD/+uyEgoFcUBHQEAHVV1XxZyNhcwUAy/r1FP+UiIBZo0zmY+2etcQc//3uzE5T54P1evSokvj4SB/w7I/jAUB4Z3N6ZF8f3/TmJRsYwMILraQLUOvwz8ocHR2ODlSo5V65sg8ANKx0B7IsJGGtLaraXXF+Nir0/r77fPb58wkXM1HAAACUpbZjvQJAfJY00EnLRt8gdPXPIyIuiwoRLqi4mlBQkFI9gQFQUWpDhNNZbwWAXADg+AMD9w8dOmVKaMAsg2FQ+3BYFs/2TL+/EIN4Z8qjgXqjf4kdpoP7kwCgMWkdMGNDI03hOD+11+xhrWWt8uHiwyfbGk+6AdjtjkhhPV3Fx2F0/tnyszixP9cCy8/UshP2y8/Q7Brg9sHeImvLX42JlLADy+E4HrxxZlhY8gSuEGGrjOrnagAg4wMA9RH4lCu+w5lLADpQ+mlxxm8LvFUytKTEcnCWofV5fOVzzAmVlDk7yAneP4/4M79GcSoBcJb4l8SHIH4+Hj8oNoeGLtv8kNojASjWGlnwS5eK16BMM6eidMlhFwBtpK/Bw3qGqqyn2J+SkASAPtM6fz7l62QG4O8RvwQQL95qOGnZDeCyLGaGVeYesL8ayxKANl6Lt125+/DV2CVTZZGzcrHZPDmvbPLm8O/RA4a39+uux+WQF2T6/ZZMxJ/yDbcHPcBGPYDjFwBM2lPL8jafyTCF4/zUXrOHlY7iStXDEDlUAPCNdzgdeHqz8z9Hwzx8SQoAR4/S6/yYo1FsPbUKADipewnZeMvxZcrS7q2LuNY3TMYPAQAUSfHbeDma/1xmtdIYYMYYQE5yYEFKyjdoLwMIC4sHAPzHSQAqKovi8L5w2uT8yrz8uPLiWStN7Su60COnkADg8fkWU2dmZkr/ZwWAoCCMAUEU/7M4np9BE57TrM3avLm8sHnhBkM0ffbX4S4mdoSNXiPiv3b7ypIlt2/rvNjaYnwXFQb99QRAO5QB4Fvio6PZeor4OAury7mYXfMtWeFvD/X6OpNqfbtkXpYLIkTBhX1w30gDA6D9Mfp2d/cTn6kZg7gQoLpaFlQsKH/J9Sj6p1/8Yktq76LFIDAtP39yXn5dXv4zs5DFqFB06Us8jYZn7v/GVRCBW4qrC4aKMQA9wJyzJFqbn2+IXrgkmgHkDqRV8nwE4DDU53DO7dt0C6gLCqZi+tdatHlyGhjN1lPL4vVbAwPvu2aVOyn7dd4h92ReVhREqAsuxk6XqyFplT0LMILXyklQUpiaVJlfWRkXt7g8P6M8I2Na1KyVpTt2vPjiRgjO/MAq3RKopsDd3lNFbuVDWTj/hmYTj3ctzQYCEIFRVzkfirUheRdcAwB1lpXsnyHAFOVyj2w9hdPk9UsPjVM+Oxv/9cdzx49VliF1wcVY1S84eBg9JavMLlyqeOrhw6mpl4qjooqfiSruM+sErLmHYP7++sijvduVYgfa7gX1+XV6Y48TzoF6WOFPDilfxZHUWWB1VlY+Fe12qTe0wCOIQKkE+SaAQcp6E1JvlZRSYaH+AyCPn1sTnxMqmq2SOsurXl5L6vUWnYFb4KXWJ3v39viFBXXWVFpT/EFY0wOiSjg//03Wmd5ZdRcSL9SJdyN4MRK4cuX69bHvtjWyLn4claHNqFCssfN/ACSSlF+MGKC8+fSFjHPbWOJ4Bw/+1VsldXvVy2sXQ+ug2Fgy108DwIHXPr4gfmHhs4fQDegL0g2dPhI20/2ISwA4B52fv5EeQncAwGk0/HReHj/u5qUGrny+oCBWNPhg48GuKK3GcMkKcR2DddI8IfQYIffvA8hfjEDBBklG4A8AHDj0DnTwr656mAApdZZXvcxWe+bM27e3bQujn/J6CoDH/FFkQs1dBnCiklL4izERbebSUmEMTE3HzOIzOQaw42+dnX/bCBGAFjS/heNXADQ27u+6eLHrIABkGOouKVmdsgyhiooMoU/58/ga1vnzNV/j9beUqB94v02JnwDopFxPzOqCCvUyAZi8rQa/d5f9fwAkcg/APXteApgGFWq0hZM9ANx9fkWTJ4CizOQiAWDBYnR8cf1BYHNq4PMAEAgACfsPgkBXVMWlS+gBso6lapJGqKVFI6T+BQpTz6ywuSzeKVVG6tCxtrZsdQPgeLu65C9W8LLyCxEAgFlm2+2IiHsAMOWpAKgHXKAe8AQE3j5BxMrp/NO4tJQBtFOKpp2sJAPYsTwuOTnuRQbwfcWNG5eEMLdc0kkABxMu7t+f0nWzK75nlrdMxpe8SAGgxA8fYVJlhf+nFpkVvUSn6RQAOCtd39WVi3gJQKS4f0R9bxAATAaAewUFADDlqQD+W9y1hkVRRmGyy+6ygrYleMVCM4sQoRvQKiFSBlG56CZiYYigEIgFlcJWhIJ0YUuUCLMbT1mhS4ClaRJPEQRElhbhpRD1qSyhInvq6f6e832zMzta/arebm4zOzvnnW9n3j3fOe9H8f/gev6HH57vpPZyMAbK0pESpAfz/YKA5YuWvb9skdnMBGCq6PO2lpbMz6l19pWhUZdg8h1ljvLHSOCiZUxASxyw/eM9F7Cbn1LHNGWugYHyv3pJgIcDhSRAla5B/zQCZNvdnj2y7U73/lAiYFVJ3/33980jJXkqAsDA84e+aaorq5MEYCaLlBjiVwgw73z//eadZgAEIAV3O6YB9qN4CASQ1t/KMkP82BEE4Mu/5+ieoyDA6pnVzd3G6Ni3r0P8aVqwNA94nJDcetfnWyRuB7Z80rqDvv8MPA+36y1M9W13escIEACVNW9eX9+8vyIghr0Fnq/r/IEdFnq/xP1fwbHjprFqZyYCvHDaYzRXGBkHJAoCArby5qtJa4KAGctAwIzqTR9/vP3j7Xu20whQ69gwAs7UgbPIfGyRRUYxs1LMCzy6tnWTGj8R8CkDnUfyDyc5WOiyxCtmQmTOGxcXd20cm7mdTIALI4DwvHBYGOopjceO9czaggDcA0TBA+4BIGCSsp1mr8YIAgKrqqs/BrbvOWr1lMa5egJ0WWQQAIhqXgAEqE9BQu+3OuilvL7W+FZKOAmHvYuBkwl4rV81WCB4CmNtgncag+XfKyr0bWyiq7kK2MDQdb2dPALUtzPWywznWolWoFcD/fv1Ul6pE1DKjVmkiloGPgMvPTh/qpGOWjsGoPeZUlF9+ypv//pVTspyLe5S3n/paR5YynvfweDt+qzzEAn5CWhkdySGR2NKMD4+1oH/c5WAsv9lO9qSqJZ5k5LbNgukKuerrxUmKrSXzyTQ2moSuJEgiiouIKBfAPBTpWO0IzJS9rAsWNAWPLR0ZQw9VyIisH1UQcnXnJVdSYjg/U/Twcdvl5/fewzejv0ZSlZ2SDmhsLs7t5w+I2yIozwjwwGxjFcZkflh+iz1L7VBtW+jzc3pzM8CwoyGUM7hBcjz5YIKqTSBaWrWWbTxcVZ6IHhgYNMAZ6Vv7ADEk4J9jgUBE1TpiConQzls5WJji2IHStN+8vErCEzzpSqlEVtnVG0dylnZEioQmMf7y7jnzXMTEDjBF/aHAG/n/YHD54us8xDE7WjurLVXuPDDlAjIiUzPyTcY8ImRKSBAZH0PHJAFF4+/jfDwd2wl5c5jw8xB9cSAzVeeL0tleZ8gpYik6yRlQp0KMSkrXb3uq2EXvpv8LmWluWNFEIAqBDcBqnSMTiQCEH7R/D2lu1ItkJZdBWm+aWkj0qq2YjtnZbkKawbvf4TQ39/d3d/Pf/TZFVjg+xID22l/jv6aiyYOP4DECBNQX9HgKMx3VRAB0Q5k9nNiiYCUICaA4p84ejTCp/25zQ21zCCgvHxmJUZAoYEJkOcLLzQMDE5fsRcaLDQ+BA5to8IwImCA4qcn7cePX6cSAG8zI0nj8WJ6fJQqHeMdiZH5dPk3IXyjOf/rkC5fhF9QUFp69jkoNOSsLBdIzOD9ScGcf+gio/GiQ+dfjxcYMV2SAN6O/YGJzcaJQuoSARXfFDkiwztiYjPzw8opNZcSaTBGRpYnwhwT+59/WEijfux/heI4URk+8+aamZWzzTKNPUyebxKZwRURwskLbSqatCj+nTsPCQJ8/Dyn35kAY27nV7VaAiZdDAjT03gUfdLl79rVbcxw5M+mvjykMEePSyutikPpKkvXEtkxzwQA2wzANv6jT0RBYJcggLfT/ofroKK2NSOi4ZOHOEBAaE650VEUkwkC+LGNf5SkJRFwzWiaGm08QbW+xxxZe/dWOvdmhs901EzP1BAgpO9UR74U4sBZbSYm4KNtOz8iIAlLSlGVSgoB/vUDQWb+bSAIGMnnTlL0ivgcXP62Tbu6zZE54bDW+toPI6CrNC6utPQcGgEsXRE/CGDlxe1Tt8Ay8NAtz9KffWBmtpXCv/NO1RFip9G80+hfh+MTAfmFFbGO0AUdMZnhsbPLUzLSMQjQ05kY5J8YGUv7L2scfaB/XOMLtH+8MysWU9tAT0tfX7gkwGgdIaWvvlZZEPAhj4DPQIDOoYIJ2GdsQFkiDDLcBJyvFjzE5+Dmtys7qDwW1ZIgAFJza0HaCIRf+v3XisMD1+IKAoRIsaRmp2/nP/pEzPAkgM3TcAecOFwc35Gf73C5CuubY9rDQQCMkVPgCms04kVkfvhs3v/9/nHj+hE/E1CE+LmYt69vtyQAOWSY1UkCZPyybQ7KkupCP9yG+ImAG2vUyXYyiLyCCfBvaPDXEGA8Xy14iM9v67Tj4u++dPduJiCgYF7p2WdXVZ177tenfT9CODzw58Wx9OQMlq/9ppvsvufSn/EVmAECKEGnOkIMP7TN/9A1fHwiIL+jor4+ph7FuUxAeUo+EwBvcBDA+7//Pp8PEyDiZ4AAPl8iQErfE4cPc8GSBNr4hDK/Wrb9ieOp8YGAffvEF078NmDpeI1a4DC1vjYxJ5YQDuArMCuwC4MItjaY7Kq6lmtz5VOApScr2DE3QcvjP4APPZ9fYpyyljdetMkWFnJ2lghIsVgc+UYjnoL+QeGz9ftP5cd/bCxYIJhk1tn6F7XC+qzzeP32K94ABAEXAyCApOONkwGRtT1rSLxaPQzAP4qwdKk34wvOEn/xKnDUmzBGB9477w4gj7frfX01hg8MvMbfYRZLmHAX4/35DfyOydjbo5pZJn1zvSXUUmEBVb4L6D+f/yMKQKYRvPKSBgeTUKp7gdT0c3XSNSlaZqzjo4upse0DAVFcDHytgmt3rwDqLNQXbekwAaLAwky1x3w8ofRVua/P4iImwwcGNQ198OBBLy2mMlQSnQGLF/vOnD5scyCjTPEpVnZhFjRtdkrbHX8U4JVUUVFfUeF4z2wjWHN9NtZ5SNFop8PBZXzF6dmjID0/ePjh4vLyYsXn4davd0mI/uKh8CWm2Wwz5uN2ki8xS1tRsMDHQy2ytnfzTn3tMLLQhocNAcETpOPEwaHeBz0IQLM5Q5ixzX4iIzVjZUZ2yr0ls8gQvEw6RNCdZm8+vmLjbXZjsGfbnTGdunBEgYa31/6KehdKS9dMkVlfH79JfdousCSnK7ANPviRlgBIz4TmDx7+xlUyq6T+vpkzUeM0EwSkKSil2l2y2AQBNTWoxiSLTZa2ggA+HipRAf65DxABOBN3HpMImGS42cClc+w4sXmoNfVlDwI4cDm7Ezt7UmpMQkRIRMLqEkYZHCJYOmeGH99xfDcISDWkTvHwPU7npplhskADBDhcaE5fY7EycimrmqvxCU5yBoIAZ0YqbEKH5W678VgFcsz7R4/u3MsIy7ZZFaQCtZMFAYsWGY3bXmACRgoCjGaWtg8h06Ma3N3+4Dlau/xRAd6CAJmCIQJsqanW0zUE5GjihxvdsOyYkEC/iLensB98SZl0iNiLG+bx3cczZ4832g1TZPxyBKRsYTM04XiBr0CM0+VyrrmYSwKmjB+6o2CS77qFC5WSl2hnW1tloiUE99yQoIuoDW3WrP19eAYMGwY16uuN2IDsXbtkSQwREGrYtuydDiLgHZNa22tmKawYQsRUiIIFs2cWOMgA3Ky+tuy2W63eY4d4jgCKX5qxPZFhD5oVaX9xeiPiBwGKQ0T4pszdxzcdnz0+WG2rpPoD5fMofiYgz4HLDygjYKhrfqDvsGTFwQEEVGbh8o84e5h950RuQ5vVtx8MjEP8RIA4YEJX6S7hQEG+xKGGmnfeWW5sJgLU2l4LZX0VApo3SkcIszZ+aeCw+D5gJq8Qcesv3t6bdyN9oBCwocKloKmpyTW4KmHx4mGLnVOyED9QdmxvZlvbk20gYNPu3cfDmQAZPxOwfosYfTTbRZ4kXhdQ/z6AEUfCYLz3QGDwsGS+/A8IAootCfh2+gUdIqlMI2B0H+KfQfFTZ6c6AjgLS77Eoc3L33lnUUcz+RKrtb0Wer86AmKE9jfrsrj06j5NQcMvYzdu5OsvQStKuGd3z8g0Bc7CzY/RyASobYAQckPCTdK3mJukqP6A70G4Aymf52W1EZRvsTWXtHM20hUSndEZVrQt4vKPFFJ58jdNfXPm9I07wZnJfaZt8maxU6D5PCKgbhkufkcz+RKTtJUE8PvlPeD55/kxcPfa0++RM/EA2d9ByRnuY8cV4RU2NSo1dcpULQHlhoxYEf4ZggAZ/jyE31g1NV+N/9iQ3aZp5Fs8nCDOn9sBRDl0SBSyxl5jgy/RZnWnQfunwdWcgPRG3NEgKviZkNs8XErJyW8coJo4jh+pWZNH29pVw88jX2I00eBGENRMvsQsRQUB/H4qxmasB2BuFp0jg+dmrefCxk4iAjhLTO5x08JgTD9pWpibAHiRWSIRvyDgSRDA8SN8ip8IcMdfXX0MBJBvscZHGN5iiJ8IyL5wTDYISLUB6n28FtpftrkxC0d98JCy+9e5peR57FEk8SkI0ElN8iVGaVxNjdFcCF9isV0QwNvXqklvgAjIkUOAAQImGW82KlVaIOACOKmOBwMqATnKUwA8yBEgKWACshQdn3kcbYDsW6w5v7UYeQSaqU6lEUBunLUCbxOGfr90A5qtjiqAYuqsu0yVkqjj9YBeatLmGmRlC4NCF7m3hwbR/zmPtq8FtPZm0bpaXsg/88sWNcuJ/81QGFCW01DA8k+iCsD+HrtwOhonqIh9pZgCYpghfIXF1RcNegLu1rVeb0+p2pDkmTcmWenO4QI2BXJIXRYVdUWS5h1508aqWXZAX2sszNDUz1uvgvXzKZf40MwX6R0puCXvVeC009T0uSZGL5aimlrgsbq2NdPARqFSAgp4++juYqdmsawwesRrpbPNs1Y4NcpiycbuLqcLv7OzKqfe8d6XG0UWF4Djg77WGFIaULPU6kQJpm0efXTtqZf4GFD8vkx6RwquRdYsEeI9aRSyppw2JYwHATiQphZ4rK5tDVnV6kt8gbQZcVuxHQEmInBgMyAIuIZqd6Ujg00bPhPgb8/KaiqrbGrLbNkNApAvp/dI5OprjSGllx9oKiiQWV8QgMB/+OabH14ngIBTLfGB0IXXGQjQOVLk0WSvcJTg/b1HjRmT3NWVfDWDCcDxNLXAcqkrV0y3UGKUVv4KS06k4a5IvsFGg82W4pTxny4IQPzI+E1sngil5yZABvhCtr2msrKsrL2sJbNpSWwYCHjpvQx1u77WGAQ0lXVtLaiSWV8i4BCmYcYJBtby8ckugn1ozf5iBHD8TIDekSKPJns1S4SMRU3pxStXagkAnZpaYNGuHjElLcIqCVhY2DCnetjWrajuRUbI2L1ypc3s3Mzxn75ZElDnP3L4yJ3NUHoKAcoVDsKZVFa2tcMvP65lScvUOx5JwdpRe1ezozwmS30CRslaY5WArtTcLrmEBxMw7hmgkVYgen2tCDg1JCRVU5w9wPEzAXpHCnah1SwRMgQP3ITkZDseusBz8V6cNVVrgQUBFYGrdwRWSHO0woVz6ue8m3z2OaVLUZxs6541q9uwsuH4McJxk5l+506sI9P+kcNJKofILyjPWI7CXB0IaI/tmUEE7G8JuyPSkIFs0XEpTVuJAG2tsSAgI7iKs54gAN/9ZwjjBAHpQnnWObOF9BZKEvFLAvSOFAoBSOLheIIAFDFnX6olQK4mp86vm8v37i2HYwET0DBnznx8P7efc24ptmMEVNhsIe4sKxFw/sSLzIdkgYM+CxtKBLS0NM3vw11uMBNfgUhaNkuugLYaI0CNX0rpAy1dUWVx4v0g4NFHrxUj4DUQcKcgIDUqCgSYFQIGZPyt75r0jhRUIHF/ibpECBEA45mNl3KPPAgQq8npCDBmwARItKlRre2cBvpl0Ps4B2zrtmVPkPFJApBTbTbX1TWPBAH6goWhWI+wMhMFUC0tRwaXbAYBuP4Z6nS5rtaYf0scaKqqKsX7FQLoHnBtx2uCAGVPbvNKZwKMRhl+77smvSPFipmo9OD4BQFGIDk7N5mPgQssaoU1tcB6H18QUN9O8QNzh3LACcPUggQmgB4AdTv9rxl+1clLbnh3pq3bvHl+S8sgsGTzbBCwyuJu6zHX6muNJ9MSH+/jAPx+IgC3vh8OH0b8TADf1QFaLg1marcyAQNMQG8rCNA7UqygUieO/1U+Ht+YduzINQv4i1phtRYYBEzx8PFFbW77EqXN7N2rva/tDtEvqWH+uyU3QMDqrErG5vDNRMBe7ZoarfpaY7HEh/r+9fT4B15nEAGA6LYGmACcungMAia9IwXXInMWex4fz6wWTwgChhJyGd6EC7QqDTB5ojVNV5BAVN+od3AANJP0c8NUeTo7r3U8jqsuqaGrNZZaW33/ep37WR5B02amb03TO1LQXis2cIGEPF8mxw0vo4TSO6lRngycm8f6c3mL895Tz2D7IGRuUvQR8i6Tvr46qXoGgAINLomYCgz19qw/GeMMv2l8uPNxxQhZ3/ZmtCkwQ1pbLM+6cQvDKODuHLuccBrjlFL6KkDbR6f3Fc5YzwVaAi7X3WshTRmyE9NUbFxsSHwPwJewweXaHw2dW78SSBPS9Ko6T6l6BrLHqATOEXg6zDvbZseyvAEy6zu2MiElISTFnuh0kt1g1lSeKFXPx6Jvw4MpitYW5Rb9+bO5GytfIX3VeISPsFqwIXyJ9b7C/kgZKVnrzrIyFwhwNyPj7rTMlFecQrGvATrLmpYhY5SV5YLUTGNpSgURNVqpCgJycvCDTVr0gQCbPcAOF6ULpZMUChsnTAAdYoa/CATgt4Z6PhabgWtm+bUgQLPuDlas0J0/CEBgmtXx1HiEj7BnBsq80+slt0cwrW35yB14g7L/fU1N5SBgUd225prmZvzT8QIIWJyBq4/w9zaVHXiBCWgX8Z+tFEQs12QYckHADcgv5CN+SUDqJVi2WcQPAi5IwHjxi9pRVNQCFE2FoUIGtxKuIkxPeiUxalSq36jixYziFZ9tOwQoo+DDZyUBLpdRIQAXViN9RTx3bdnyKKUh7lrrE8J1pAUFUqh54bHEEBO6L92xXsaP3ekNdxIBzc11zXUdy5mANcZVxmJx+V9A3osIcLnjv8SeS1ng5WrbSOhS/ZIYdlsCHtDSIv/C8UUJiVEbEzc6isKZgLAVM+1m+xrCQWBNdN4jAci8+zqJEJTu3qp+PTRSuK4C+dHl/BoE0Fp2Bw4I6QsCEM2WlIwMUPDoQyCACyZm4IRYamsJoCzFS3dgvh1QZpxLvkCWt3lnc0dH3aLlNcsQcF7kquJVuPxNB16QBLTL+M+eYIew4CzwIqVSDwREqPETAUNxBTTl9xfMjSzescNZviM8fMCR4ggHAZhtUOJ/GQQsDh6VGuI7cxURsMZNgHL8IL5gD3f+8ENPA7JMd93Jnz8aNSaHxep44oLiB3IK4gcBomAibdy4UsSvJ+AOEKAvOJisLqbGAa/A+HfSt5/iv4wIcHH8IwKy3W12y/3l+TEBFL+6GpzNMwucixHEX38QMLBsERGAG4wHAaHOmc7a6Rw/E6B9vyRgeWddTc+yh4gAWcDR3y+lr/ARvj09/faHeLuQ3jNQyS1Xm5u28WfCbwI/t+oLDkiaNjMKmwUBaxo6cfk5fiKggeIfRj/OcEtpvhxZ4EWaR23hkJynn0b80qP0uTAmQOMHEO1E/JVU4VS0bFlReNjcL38W+Jjwc+/4jW/nTg/FuuF8fuvmHpSOQwC7zrBP8H03d7bcdwNPtbEZm0b6Ch9h3Ai2KFNxbqXGaX0vvXRFAB7L0REBYt21ukV0xfPqcfkXyfiR9Y12pQ3zTbCiBubQRcOx/+XXLJqjdWgAAc/h+iN+JmC2TY2fgBGgVHjtxlK54WGn8AkOsEepr1es4tEB5AEHo0Wef0ts7O0iQM5Sq6vjgQB1KpK2mw3ysy2M0JPa5k7K8roNKd4hmOZ0lnVqV6ML2+Vn99/ZXDdyotj/suWeDg1UEIG7AB4CjNlmXe1wvJPL3ABRkPFPPsG3riIo3xEQIGcZRZhEgPoUoP312y93t/HJ1eZOMifTFRwAJi2ODr7g8frdd9+/6jLs7y5AMHmC5B+yzO4SB5Jz0gwil0ACkHPCEv/kE6zvslOFsgCXVyAHitU5dFJabscO2iy211kmT4zXFUioApyxoiF4UrCKKVfrs7TwRvFwJt7Rdvqxj4cc26Skvrm0gl0hNrAWlu+9SpGm+uONB7T11nkEFvj4B2jV7T958uPT5k4+7zvluumPZxZQzdSefEVncRHlKRXvhLXMI8WPKHeeFfWpU66+2I2bxuuztDeopjkPA2+dIWt9xSIwsWFsniYW1SA5PFYWSLg/T18wofcN5l+D5JPlqidtkGTq3OXx+ZM7MLkB++7QDp7BMZ3sU5zqB6td5TUIeH29RyelT9QkjfEuCPDw+gIBWEYZi2lLPL5dn6X9vkK7uvqun0St78bg2KL89vZYIgB5e9EoCCFABCRkB4waFSgelWVy9ThVCut9gykfkJ7TiQVPmnqK1tyfZJrfE9ilfj4I2LFxdce+jn3+b/ASG3x+2Zj/svtJn+JRtByesj8IwK+kyFSLgoU+fl1pJcDoRrqTNvanpKutuUBxvXVXdwgYUAjQL2xMxcvrqhcutNqruc3tmFzSIraoKbCqpWg2ETBTNEqyEPLB9Ugd5et2f6tkSyMH4AQc0eK5H1NREWHj43OOL316J9DUfpAIWNJXUqDWOk/uwFjZV7gv1PLGp5IAX7vdzzfAHjJB+BRnj4Kxsbrw8hkPbXvo0ewQBe9CKnaljR5dMoj4B68dfcTgqbUt9fVL2g3Z5yhfKzYsMDaT+dghiyQgrQWPgVBrbkvuu9W9+bLWt6ioottNADu9BUIOEwF2q93X94QEapI4feLOOhs5/u6KCmuMQkBDw/T0+9e0d7b3HLw/2tQQtHB/ybw0WTsMAlZvWr3vDf+gjn1MAElfu1+C1c8vdQJtlxdMXXj5jIefKXxw/c8+Er1QSl1bYex73eC4/bcNjpMEpNTUpIiChvr65x21BssxBXRArK6N+M+/iKRv647OzoUNDXMKl7TX7tmDEeBYwKvLhYe3NLWAAG7MdHG36BgmIISywr7utrloJ8evpt0pfuSpkaN2kfSFUnQ1dC5Ys6aop70FvxVMFqyEg4qVNFkLfB4TsG/fGxQ/pu9J+dl9rX7D7NZRtF1XOwwCHq149MEv8UoABPAIaBwcd+2rg9cyAXyNm2XBQkPnlztiUqBZBIbwCGCLjzp/MxPgKK+GCij0r9/elrO9N56qLlnptBw4MBg+m5e8cFH8IECt5j7BGH7iininev1PT9osa4PxiypGSGsQ0NlQ1g4CsEY6pDKPgMZ5aUoW+rw3Vg+sw7y1nL4XBASEWBP8Un1puz5r7XXWaw8+mNJtVbDQZ8LWNEUJv/pqY3+k+v0X94DumApHtLpiob5NjdvcPr7utsJaavOSBIQTAZktLWeFzz6dZmpcFH8ZF0EtjaCeYVmQgIWTk4o1M4+VWVPNuuODgPbOpibcAfct20cEzJ+zv0TMoigEVK/m+CUByDonJEwYAWfJS2i7LmsNAh5c/60GV/gEY4EkjVsc33SgvbDEHdTXqlvxFFgQPUSF3pzse9z+GVWEgp9AgIj/0ieBcNPp90xfsMDF/cJXEgEbIsoA8l0mxA3qzdN4Ieh3VOmNLG9WT1N7T0/PvmUvEwFL+maUqtIZBLy9eqMIXxKAeO2pVmvCKN6ul9pev6z/9lktAd471BwtcF6e6vIEHkBAyu54TfzxenMyOFMzygWGTOXHP0HU+t56j3ITdF0IoJbX8/N88MiWE0sEb/1C0LfiPJwNrsCypvY3yHHC1FMwSiOVQQAeg7J8AzD9g7TGCPiOcYWCabqCB9XxVqAt3mPR1l9MOkD+aZ2Jz9CW+tL205OAQV43mBPQemmql776haClFI6Pjxbo1e1vMs31qDn4J2ntpZeKVgzkB6y+7tetEr2M7b0vM2B6JrerWdbLTxzBB+qzynqCshT4BfAMvX7JjPjElKypUxMdiZI3xV3CIrPEdDlOkyDmXj1yhMsfFOxou/XYx0mQ3sBUQH98fbxeeql4jq1h/vwGm1153bpDwaZO16ae3pdp4QG4aSvb3W1uFzWW9KHAAQUNgFrQYFINHAmmLMMW+sv4ovimN5htFVjj62HCzcDp8UYkiOm2K+6Cs3k1OpRVKlnhvPe43oHTvlSQ8X7UykPyNWFpkpDexe4CjgqrrbvCUIG/u7u7K1z6eEWBREKC6sBgt7UvXDjfliBf66XpyzcXw4UX5dlyu2JudrgR1lq37R+k6WwOXRY0cIpN9SF+NWuLdCDBrDD8xqZYUHpbwfe8dEJkfEa6IyMyIzIofDM1SIAAIRttstY3773pq5TjkTna+4unf6M5/lLZZrfaXcBRERGD6CNKbLaIwLLGTindu7oUKcxS0Wq1qw4MCWBgznxriHgNy1as2vQmgMLNuI4hgoDp0y9Us8Bk7tXYuB/3wMHGfhCgncpae5pYKFlK3XlHs7YYHzM+Zn5sPY3LWeZCEFCyEi1jW7bwyh5vtX6ptAF+DFSblMXYbObuzs5uKwhYtQrF2qNJqpOP8WlEsOpzvEFI7417Kzcvwn0QBEBDlJQsdux9zzXuSFl3EMULFMxQpDCEiJ/Nb1jACOswxYEhwTZ/DjHAr/F+Q4qM/+mON0EA1ieFR+aFQkoyAbj8TXPQlHek8dAHTMBTMn5MZgqhk91gtIv9s7Y8Rlj/li8oP8dvndkaE2M1SpdReIzqsr6FICCCYMzo6Ww6UiEIOHzg8OETh6+l2uM8nqVIxwDiLHJSFknv4tq9mzfvq2letjnMaQx1BZY4sVNZo6sisZDPZ96M0aPj4s5mKQxlZLdhPCOppUhFMICCgCXWEHptaG7GIBDxPx3XEX36zewRugBnL9vi6PL34RnY19j45utrP3n4ecKbEpdCGAHGhiVGaoDfjnsALr/lQf8P+L6UXm+hiSCcvkShrna4cKkwWcFPIXNPj9koCDgwsbFxeP+1JJ3xGvEXrzlYnIEs2ZqkY85KVHdnEQF1ze+AgIxIgyHCFpy7uqy5OAMEsI0vjZcROH8mAPEGQCj5ZZ/rlooh1iW33bbEGoXXMRUx3Rkcf08cLWV98kLJB+jyX4fLX0fT16d5ZpVp/UASxsaL68XqcTwCHnzrg5eZQb/qG1J4+Ct4K10bv4YAY4WrtrY+NHSFGAEnTvQfuZZylnjN8R8EA5QjjHZL6X3LQMDs4sgUw7JAIqAx0uEPAvj8S5EWl1KYpKEd9Xw0Ia9KRTDwwAMLU6PO9jZ0d3P4lOmJewME6KTkVa6SPmigvsbDb74mCFDjJwIGXU3AEQX70Umi+qQGpba/fLNqsksE97KUdsO0IUa47GCuqbbWbAmlgFHwcWI4jk6lt71uvwdRshOfpfyU6Ozra9rMXWaNByqaWppccUGQ0uL8x20dgaSxJIDiDaH4tVIxxLrwgQfmpIZ466WpXkp+4VooLj8qWCQBavyvjtvwjOfrL/yy/ahVW3yDfAKqM/j+z4Crr6VQ5yvMBAQCZloMGgFQVrgEXYX9OBoRoD8fECB/SvUAggBzs6UszlVcaGYCeK0KavbD/kzAqaUixsB1ty1J9e5Vbsp7qvYgw3GStCQp3NdY8vzrDBCgPvUIG3y6BLYKeAepbFrS/f27XlZshm9gRF/h6SsMAuRTgN7DBOArII7feKqCjHihH+QwYAL487qRpmMC9FL4r6Virgmo7WVAYP7Ue0ppif+1/4sTH7izrm5jsA0C+v2nELhEpJrhr1teTilEUCCOcvRortxpxYqkJOXopyrI0LflWdxrTwicJIUf2GCaq5WGSTC4nzZtndvyIgzgo2G7B2SNw1VXjQw9R/N+/epzQZM1OWZgnhszGJfq8MckTbGtbdIfXv82TD0xAzs00jDJiaxncIIsY1s3Nyy/PMgRCTsouR0ODVF+qpPt2P66ukOWBPX9l9cp6CkoaEk7z2io+YaADlfCVaNHqEBKqErGHa4QkD3l92xeZZWqAX+fku31b8M0vy8QpbCKFGYCVq97e906tvYhAiLb2spRmy+2gwBEfoni4njJ2MGYi5ZftDNhgnw/CLhIunuPXJ6WVjMZN9FOrRSeN8LdIgkwAUVFOQtynAvuKSrCC4Ph1z9+tRm6ugw2/MFg8Pq3QVnVsq+q3VlSImAdCEhel2tMTU5uRYNCZnkbehPk9pBsuwLy6LzQ1BlxzfKROy3yfweDAMR/jSwrWT7ZuDLBMCBvgj/9tHU8CKDoq6q8CRczAU6MAAyBBQvwgi/879lRUfRvw39BgCuwqa9MWeh4jkkSkJycm1yLv0BAZmI59WZI6asvUKC8PFWLi6zGyCtAgDR3H3PObQ+keUfFzAqJql5XnZzMbnCt80Yg/LRzq6puSsPEEAgQGOjJFH8wEH4dExx8MS7/f0JA55KyOftlv8WGsj3JYi2L5GRj7eNvm0FAW2Ybxf+LlL46qUq+vX2B15xPFilw9Zl43uV1irm9IMAeMmuW3Sj5hRIUBFS99VZV2lg3AZkopJQMSJ/jm25KMPxHBPS0NO0vk+eHE5wWLK29UpPffhwjQC999W1uuIeU1cD1REwlnT8ZBMjhf+W5D4AAc8isAnM1H5L79ogA79KqHxdV/aQSgPjBQLgkgG8D+Ps/ImAJrv+c990LKU9bLU82udZci2puvfRtL9Sux19/namzERUFO/3FdGBklljiYqRKAHyWv8Is4k8//cQNGCDAG6iqajmGphVJQHgPCBhQRkAqf/v/s3vAEjV+QQDHT0DG7vFWvdTEkFduGDxiBiOoXWLxGqVgQV3i4qZzHzCVggBzzziNFJ43huMvrfqpCk07IICR2TMwHwNAfQoA/9VToM+15HzNQspz8fgHkiUNraeQvu48MGDqp6fgYnfFQrS6xMWFY667rdTbaK45wBBGF5fNGKN1uU0GAYz5bh1wCS484T/TAUdNk7ULKSuFvK0SJ0lfHS677MzyFZrV1NQlLi6Aj9dYb3+T55IXM9CxogAcV/3vSvC/Bj1utPD6n/EnnaQbrf6BCX0AAAAASUVORK5CYII="},40197:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c});var n=a(30038),i=a(92032);const r=(0,n.zD)("creditUsage/fetchCreditUsage",async(e,t)=>{let{dispatch:a}=t;try{const t=await a(i.Hvd.endpoints.getCreditUsage.initiate({timeframe:e}));if("error"in t)throw new Error(("status"in(n=t.error)?"string"==typeof n.data?n.data:"Failed to fetch data":n.message||"An unknown error occurred")||"Failed to fetch credit usage data");return t.data}catch(n){throw n}var n}),s=(0,n.zD)("creditUsage/exportCreditUsage",async(e,t)=>{let{dispatch:a}=t}),o=(0,n.Z0)({name:"creditUsage",initialState:{creditsData:{planName:"",totalCredits:0,creditsUsed:0,creditsRemaining:0,percentageUsed:0,renewalDate:"",daysRemaining:0},usageData:[],botUsageData:[],isLoading:!1,error:null,exportUrl:null},reducers:{resetError:e=>{e.error=null},resetExportUrl:e=>{e.exportUrl=null}},extraReducers:e=>{e.addCase(r.pending,e=>{e.isLoading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{e.isLoading=!1,e.creditsData=t.payload.creditUsageData,e.usageData=t.payload.usageDataPoints||[],e.botUsageData=t.payload.botUsageData||[],e.error=null}).addCase(r.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to fetch credit usage data"}).addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to export credit usage data"})}}),{resetError:l,resetExportUrl:d}=o.actions,c=o.reducer},40208:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d});var n=a(30038),i=a(1081),r=a(50570),s=a(36596);const o=(0,n.Z0)({name:"WhatsAppView",initialState:{contactFilterName:""},reducers:{setContactFilterName(e,t){e.contactFilterName=t.payload}}}),{setContactFilterName:l}=((0,i.Mz)([e=>e,e=>e.WhatsAppViewReducer.contactFilterName],(e,t)=>{let a={};if(t){const e=new RegExp(t,"i");a.$or=[{displayName:e},{name:e},{pushname:e},{shortName:e},{number:e},{"id.user":e}]}return s.aQK.selectAll(e).filter((0,r.Ay)(a))}),o.actions),d=(o.actions,o.reducer)},41947:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,N:()=>i});const n=(0,a(30038).Z0)({name:"recycle",initialState:{isArchiveShown:!1,archivedOrDeletedData:[],archivedOrDeletedIsLoading:!1,archivedOrDeletedBulkItems:[],currentTab:"Trash",searchText:"",filters:{type:[],date:"",board:[]},archiveOrDeletedSnackMessage:"",archiveOrDeletedAlertType:null},reducers:{setArchiveShown(e,t){e.isArchiveShown=t.payload},setArchivedOrDeletedData(e,t){e.archivedOrDeletedData=t.payload},setArchivedOrDeletedIsLoading(e,t){e.archivedOrDeletedIsLoading=t.payload},setArchivedOrDeletedBulkItems(e,t){e.archivedOrDeletedBulkItems=t.payload},setCurrentTab(e,t){e.currentTab=t.payload},setFilters(e,t){e.filters=t.payload},setSearchText(e,t){e.searchText=t.payload},setArchivedOrDeletedSnackMessage:(e,t)=>{e.archiveOrDeletedSnackMessage=t.payload.message,e.archiveOrDeletedAlertType=t.payload.type}}}),i=n.actions,r=n.reducer},42001:(e,t,a)=>{"use strict";a.d(t,{D:()=>M,J5:()=>_,nS:()=>B});var n=a(64467),i=a(12239),r=a(46217),s=a(87435),o=a(79613),l=a(30038),d=a(4213),c=a(36814),u=a.n(c),p=a(44809),m=a.n(p),g=a(47610),y=a(97424),h=a(59680),v=a(4855),f=a(55789),b=a(36596),k=a(54064),w=a(79754),x=a(83750),D=a(4458),I=a(31141),A=a(66159),T=a(92032);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const C=new r.c,M=(0,l.zD)("setSelectedBoardId",async(e,t)=>{var a;const{dispatch:n}=t,i=t.getState();n(g.r.privateSetSelectedBoardId(null!==(a=e.boardId)&&void 0!==a?a:i.BoardsReducer.selectedBoardId)),n((0,x.Pc)({entityType:"boards",entityId:e.boardId}))}),B=((0,l.zD)("setSelectedKanbanId",async(e,t)=>{var a;const{dispatch:n}=t,i=t.getState();n(g.r.privateSetSelectedBoardId(null!==(a=e.boardId)&&void 0!==a?a:i.BoardsReducer.selectedBoardId)),n((0,x.Pc)({entityType:"kanbans",entityId:e.boardId}))}),(0,l.zD)("setSelectedGanttId",async(e,t)=>{var a;const{dispatch:n}=t,i=t.getState();n(g.r.privateSetSelectedBoardId(null!==(a=e.boardId)&&void 0!==a?a:i.BoardsReducer.selectedBoardId)),n((0,x.Pc)({entityType:"gantts",entityId:e.boardId}))}),(0,l.zD)("getBoardData",async(e,t)=>{var a;let{boardId:n}=e;const{dispatch:i}=t,r=t.getState(),o=r.TasksReducer.currentBoardView,[l]=(0,b.bTq)(r.DBBoardViewReducer,{boardId:n,_id:o.id}),d=null!==(a=null==l?void 0:l._id)&&void 0!==a?a:n,c=[],u=(0,s.B2)(),p=r.UserReducer.userId;return i(A.L.clearDeletedBoardName()),i(b.mZE.removeAll()),i(b.XO.removeAll()),i(b.g5P.removeAll()),c.push(i(b.Fv8.find({boardId:n,deleted:!1,$paginate:!1,returnAlsoBoardUserNameAndPorfileImg:!0}))),c.push(i(b.bSE.find({boardId:n,deleted:!1,archived:{$ne:!0},$paginate:!1}))),c.push(i(b.urn.find({boardId:n,deleted:!1,archived:{$ne:!0},$paginate:!1}))),c.push(i(b.nxM.find({boardId:n,deleted:!1,$paginate:!1}))),c.push(i(b.e2w.find({boardId:n,deleted:!1,$paginate:!1}))),u||(c.push(i(b.kEN.find({boardId:n,deleted:!1,$paginate:!1}))),c.push(i(b.v4X.find({boardId:n,deleted:!1,$paginate:!1}))),c.push(i(b.rFI.find({boardId:n,deleted:!1,$paginate:!1}))),c.push(i(b.EEr.find({boardId:n,deleted:!1,$paginate:!1}))),c.push(i(b.gVU.find({boardId:n,deleted:!1,$paginate:!1}))),c.push(i(b.Jtj.find({boardId:n,deleted:!1,$paginate:!1}))),c.push(i(b.Tic.find({boardId:n,deleted:!1,$paginate:!1}))),c.push(i(b.yik.find({viewId:d,deleted:!1})))),c.push(i(b.wHq.find({owner:p,deleted:!1}))),Promise.all(c)})),_=((0,l.zD)("getBoardData",async(e,t)=>{let{boardIDArray:a}=e;const{dispatch:n}=t,i=[];for(const e of a)i.push(n(b.urn.find({boardId:e,deleted:!1,$paginate:!1})));return Promise.all(i)}),(0,l.zD)("boards/addUserToBoardThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,y.xd)(n),[r]=(0,b.WA)(n.DBWorkspaceUserReducer,{userId:e});return await a(T.E9i.initiate({boardId:i,userId:e,role:null==r?void 0:r.role}))}),(0,l.zD)("boards/addUserToBoardAsMemberOrGuestThunk",async(e,t)=>{let{role:a,email:n}=e;const i=t.dispatch,r=t.getState(),s=(0,y.xd)(r);if((0,b.jKk)(r.DBBoardUserReducer,{boardId:s}).some(e=>e.email===n))return{success:!1,error:"User already exists in the board"};const o=(0,b.Em_)(r.DBBoardUserReducer,{email:n}),l=(await i(b.Fv8.createOptimisticUpdate(O(O({},o),{},{boardId:s,email:n}))).unwrap()).dirtySessionId;try{const e=await i(T.Fzy.initiate({boardId:s,email:n,role:a})).unwrap();return i(b.Fv8.syncOptimisticUpdate(O(O({},e),{},{dirtySessionId:l}))),e}catch(e){return i(b.Fv8.undoOptimisticUpdate(l)),{success:!1,error:e.data.message||"An unexpected error occurred."}}}),(0,l.zD)("addNewBoardThunk",async(e,t)=>{var a,n,r,s,l,d;const c=t.getState(),{dispatch:p}=t,m=e.emoji||u()(),g=c.UserReducer.userId,y=(0,i.XK)(c),v=(0,i.X_)(c),f=(0,i.Eo)(c),k=(0,b.Ha2)(c.DBBoardsReducer,{workspaceId:y._id});if(k.length>=(null!==(a=null===(n=c.TasksReducer)||void 0===n||null===(n=n.limits)||void 0===n?void 0:n.boards)&&void 0!==a?a:2)&&(!v||!v.hasTasks())&&"tudoboard"===o.U.asset_key)return void p(f?w.fF.setComponentToRender("TRIAL_EXTEND"):w.fF.setComponentToRender(w.Cv.CONTACT_WORKSPACE_ADMIN));if(k.length>=(null!==(r=null===(s=c.TasksReducer)||void 0===s||null===(s=s.limits)||void 0===s?void 0:s.boards)&&void 0!==r?r:2)&&(!v||!v.hasTasks()))return void p(D.Hv.openPopup("boards"));const x={name:e.boardName?e.boardName:"default"===e.template?"New board":e.template,titleIcon:m,owner:g,workspaceId:null==y||null===(l=y._id)||void 0===l?void 0:l.toString(),template:""===e.template?"default":e.template},I=await p(b.DBBoardsThunks.create(x)),T=null==I||null===(d=I.payload)||void 0===d?void 0:d._id,S={userId:g,entityType:"board",boardId:T,deleted:!1};return p(b.GJw.create(S)),p(M({boardId:T})),p(A.L.setPersonFilter("")),p(h.EX.setBulkTasksMap({})),C.event("new_board_created",{category:"board",action:"board-created"}),null!=T?T:""}),(0,l.zD)("columns/onResizeStop",async(e,t)=>{let{columnId:a,width:n,boardId:i}=e;const{dispatch:r}=t;if("row-prefix"!==a){const e=Math.max(n,70);r(b.nxM.patch({entity:{_id:a,width:e}}))}else{const e=Math.max(n,420);r(b.DBBoardsThunks.patch({entity:{_id:i,textColumnWidth:e}}))}r(g.r.setResizing(!1))}),(0,l.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{boardId:a}=e,n=t.dispatch;n(M({boardId:a})),n(A.L.setCurrentBoardView({type:"board",id:a})),n(A.L.setPersonFilter("")),n(h.EX.setBulkTasksMap({})),n(h.EX.setMovingTo("")),n((0,I.XB)())}));(0,l.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{oldBoardId:a}=e,n=t.dispatch;await n(T.Wno.initiate(a))}),(0,l.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{supportedColumnTypes:a}=e,n=t.getState(),i=(0,y.PX)(n),r=(0,I.Yd)(n,i),s=["Task Name","Task Name","Task Name"],o={"text-cell":["Text to Import","Text to Import","Text to Import"],number:["23","11","1988"],datepicker:["14/03/2024","14/03/2024","14/03/2024"],"phone-cell":["11234567890","11234567890","11234567890"],"option-picker":["Option Label","Option Label","Option Label"],"status-option-picker":["Status Label","Status Label","Status Label"]};let l=[];const c=["Task Name",...r.filter(e=>a.includes(e.type)).map(e=>{var t;return null!==(t=e.title)&&void 0!==t?t:e.type})];l.push(c);for(let e=0;e<s.length;e++){let t=[s[e]];for(let n of r)if(a.includes(n.type)){const a=o[n.type][e];t.push(a)}l.push(t)}const u=m().unparse(l),p=new Blob([u],{type:"text/csv;charset=utf-8"});(0,d.saveAs)(p,"sample.csv")}),(0,l.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{columnsList:a}=e,n=t.getState(),i=t.dispatch,r=n.ImportItemsReducer.importJsonData,s=n.ModalReducer.openedby;let o={};for(const e of r)o=O(O({},o),e);const l=Object.keys(o);let d={};const c=null==l?void 0:l.map(e=>e.replace(/\s+/g,"").toLowerCase());if("campaign"===s){if(null!=c&&c.some(e=>e.includes("display"))){const e=null==c?void 0:c.findIndex(e=>e.includes("display"));d=O(O({},d),{},{[l[e]]:"taskName"}),i(k.n.setSelectedColumn(l[e]))}if(null!=c&&c.some(e=>e.includes("first"))){const e=null==c?void 0:c.findIndex(e=>e.includes("first")),[t]=a.filter(e=>e.title.replace(/\s+/g,"").toLowerCase().includes("first"));t&&(d=O(O({},d),{},{[l[e]]:t._id}))}if(null!=c&&c.some(e=>e.includes("last"))){const e=null==c?void 0:c.findIndex(e=>e.includes("last")),[t]=a.filter(e=>e.title.replace(/\s+/g,"").toLowerCase().includes("last"));t&&(d=O(O({},d),{},{[l[e]]:t._id}))}if(null!=c&&c.some(e=>e.includes("phone"))||null!=c&&c.some(e=>e.includes("mobile"))){const e=null==c?void 0:c.findIndex(e=>e.includes("phone")||e.includes("mobile")),[t]=a.filter(e=>e.title.replace(/\s+/g,"").toLowerCase().includes("phone")||e.title.replace(/\s+/g,"").toLowerCase().includes("mobile"));t&&(d=O(O({},d),{},{[l[e]]:t._id}))}}else{const e=[];for(let t=0;t<(null==c?void 0:c.length);t++){const n=c[t],i=null==a?void 0:a.find(e=>{var t;return(null!==(t=e.title)&&void 0!==t?t:e.type).replace(/\s+/g,"").toLowerCase()===n});i&&!e.includes(i._id)&&(d=O(O({},d),{},{[l[t]]:i._id}),e.push(i._id))}}i(k.n.setImportDataMapping(d))});(0,l.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{selectedBoardId:a,handleFinishImporting:n,importExcelToBoard:i}=e,r=t.getState(),s=t.dispatch,o=r.ImportItemsReducer.importJsonData,l=r.ImportItemsReducer.importFileName,d=r.ImportItemsReducer.selectedColumn,c=r.ImportItemsReducer.importDataMapping,u=r.ImportItemsReducer.workSheetName,p=r.ImportItemsReducer.file,m=r.WhatsAppReducer.importedContactsArray,g=r.ImportItemsReducer.newAudienceName,y=r.ModalReducer.openedby,h=r.ModalReducer.importType;r.ImportItemsReducer.newColumnList;let x;if(s(k.n.setImportInProgress(!0)),"whatsapp"===h&&(x=a?await s((0,f.nI)({waContactList:m})).unwrap():await s((0,f.mB)({displayName:g,waContactList:m})).unwrap()),"whatsappWithMapping"===h&&(x=await s((0,f.Rx)({waContactList:m,importDataMapping:c})).unwrap()),"whatsapp"!==h&&"whatsappWithMapping"!==h){var D,I;let e,t={};if(a){var A;x=a,(null!==(A=Object.keys(c))&&void 0!==A?A:[]).forEach(async a=>{"taskName"!==c[a]?t[a]=c[a]:e=a}),await s(k.n.setImportDataMapping(t))}else{const[e,a,n,i]=await s((0,f.Pm)({displayName:g})).unwrap();x=e;const r=Object.keys(c);for(let e of r){var T;let r;"fakeFirstNameColumnId012"===c[e]&&(r=a),"fakeLastNameColumnId0123"===c[e]&&(r=n),"fakeContactColumnId01234"===c[e]&&(r=i),null!==(T=c[e])&&void 0!==T&&T.includes("NEWCOLUMN")&&(r=c[e]),r&&(t=O(O({},t),{},{[e]:r}))}await s(k.n.setImportDataMapping(t))}const n=await(null===(D=await s((0,f.tb)({boardId:x})))||void 0===D?void 0:D.payload),r=Object.keys(c);for(let e of r){var S,C;if(c[e].includes("NEWCOLUMN"))t=O(O({},t),{},{[null===(S=n[c[e]])||void 0===S?void 0:S.excelColumn]:null===(C=n[c[e]])||void 0===C?void 0:C._id})}await s(k.n.setImportDataMapping(t));const m=()=>{if("csv"===h)return p;if("google"===h){return function(e){let t="";if(!Array.isArray(e)||0===e.length)return null;let a=Object.keys(e[0]);t+=a.join(",")+"\n";for(let n of e)t+=a.map(e=>{let t=n[e];return"string"==typeof t&&(t='"'+t.replace(/"/g,'""')+'"'),t}).join(",")+"\n";return new File([t],"data.csv",{type:"text/csv",lastModified:(new Date).getTime()})}(o)}},y=await m();await i({importDataMapping:t,selectedColumn:null!==(I=null!=e?e:d)&&void 0!==I?I:"",boardId:x,sheetName:u,importFileName:l,file:y})}a||n(),s(w.fF.setComponentToRender("")),s(w.fF.setImportType()),s(k.n.resetImport()),s(k.n.setNewAudienceName(null)),"campaign"===y&&s((0,v.YF)("audiences")),await s(b.DBBoardsThunks.find({_id:x,deleted:!1,type:"audience",$paginate:!1})),await s(b.bSE.find({boardId:x,deleted:!1,archived:{$ne:!0},$paginate:!1})),await s(b.urn.find({boardId:x,deleted:!1,archived:{$ne:!0},$paginate:!1})),await s(b.e2w.find({boardId:x,deleted:!1,archived:{$ne:!0},$paginate:!1})),await s(b.nxM.find({boardId:x,deleted:!1,archived:{$ne:!0},$paginate:!1}))})},42392:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={scrollingComponent:"task_row__scrollingComponent___hNHXZ",rowStack:"task_row__rowStack___hNHXZ",todoCell:"task_row__todoCell___hNHXZ",background:"task_row__background___hNHXZ",subtasks_collapse_button:"task_row__subtasks_collapse_button___hNHXZ",task_row_menu_button:"task_row__task_row_menu_button___hNHXZ",subTasksBadge:"task_row__subTasksBadge___hNHXZ",collapse_subtasks_button:"task_row__collapse_subtasks_button___hNHXZ",task_row_menu_button_in_kanban:"task_row__task_row_menu_button_in_kanban___hNHXZ",add_button:"task_row__add_button___hNHXZ",task_row:"task_row__task_row___hNHXZ"}},42634:()=>{},42636:(e,t,a)=>{"use strict";a.d(t,{$n:()=>$,AK:()=>W,Kn:()=>J,Ou:()=>V,PU:()=>F,P_:()=>D,S1:()=>Z,Ux:()=>G,_C:()=>X,aL:()=>y,ao:()=>b,gn:()=>K,j:()=>ae,m_:()=>Q,nX:()=>x,qM:()=>M,vA:()=>ee,vm:()=>re,w0:()=>Y,yl:()=>H});var n=a(64467),i=a(36596),r=a(1081),s=a(37021),o=a(99331),l=a(14513),d=a(85855),c=a(97424),u=a(86149),p=a(38189);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const y=(0,r.Mz)([c.xd,e=>e.DBTasksReducer,e=>e.TasksReducer.tasksFilter,e=>e.DBTaskgroupsReducer,e=>R(e)],(e,t,a,n,r)=>{let s=(0,i.Qrb)(t,g(g({boardId:e},a),{},{deleted:!1,archived:{$ne:!0},isTemplate:{$ne:!1}}),null,{order:1});const o=(0,i.$0K)(n,{boardId:e,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),l=new Set(o.map(e=>e._id));return s=s.filter(e=>e.groupId&&l.has(e.groupId)),r&&r.tasksOrder&&(s=function(e,t){const a=e.map(e=>g(g({},e),{},{order:t[e._id]}));return a.sort((e,t)=>e.order-t.order),a}(s,r.tasksOrder)),s}),h=((0,r.Mz)([e=>e.DBTasksReducer,(e,t)=>t],(e,t)=>(0,i.Qrb)(e,{boardId:t,deleted:!1,archived:{$ne:!0},isTemplate:{$ne:!1}},null,{order:1}).length),e=>e.TasksReducer.currentBoardView),v=(0,r.Mz)([c.xd,h,e=>e.DBBoardViewReducer],(e,t,a)=>(0,i.oxz)(a,{boardId:e,_id:t.id})),f=(0,r.Mz)([v,e=>e.DBViewFiltersReducer,c.xd],(e,t,a)=>{var n;let r=(0,i.Y6C)(t,{viewId:null!==(n=null==e?void 0:e._id)&&void 0!==n?n:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{updatedAt:1});return null!=e&&e.filterView&&(r=[...e.filterView]),r}),b=(0,r.Mz)([y,e=>(e=>e.TasksReducer.personFilter)(e),e=>(0,c.xd)(e),e=>h(e).id,e=>ne(e,(0,c.xd)(e)),e=>f(e),e=>e.DBTaskColumnOptionReducer],(e,t,a,n,i,r,s)=>{let o=e,l=[];if(r.length>0&&(l=o.filter(e=>(0,u.Du)(a,e,r,i,s))),""!==t){const e=i.filter(e=>{let{type:t}=e;return"person-picker"===t}).map(e=>{let{_id:t}=e;return t});e.length>0&&(o=k(o,t,e))}return r.length>0&&(o=o.filter(e=>l.includes(e))),o}),k=(e,t,a)=>{let n=[];for(let i=0;i<e.length;i++){let r=[];const s=e[i];r=w(s,a,t),r.length>0&&n.push(s)}return n},w=(e,t,a)=>{let n=[],i=[];for(let s=0;s<t.length;s++){var r;const o=null==e||null===(r=e.customData)||void 0===r||null===(r=r[t[s]])||void 0===r?void 0:r.value;o&&o.forEach(function(e){i.push(e.id)});if(!!i&&i.includes(a))return n.push(e),n;if(s===t.length-1)return n}},x=(0,r.Mz)(e=>e,e=>{let t=[];const a=(0,c.xd)(e),n=e.DBTaskColumnReducer,i=null==n?void 0:n.entities;t=Object.values(i);return t.filter(e=>e.boardId===a)}),D=(0,r.Mz)(e=>e,e=>(0,i.Qrb)(e.DBTasksReducer,{boardId:(0,c.xd)(e),$or:[{deleted:{$exists:!1}},{deleted:!1}]})),I=(0,r.Mz)([e=>e,(e,t,a)=>({taskList:t,columnId:a})],(e,t)=>{let{taskList:a,columnId:n}=t;const r=[],s=[];let o,l;for(let e=0;e<a.length;e++){var d;const t=a[e],n=null==t?void 0:t.groupId,i=a.filter(e=>(l=e.groupId,e.groupId===n));var c;if((null===(d=i[0])||void 0===d?void 0:d.groupId)!==o)o=null===(c=i[0])||void 0===c?void 0:c.groupId,r.push(i)}S(e,l);for(let t=0;t<r.length;t++){const a=r[t];let o,l,d;const c=new Date(Math.max(...a.map(e=>{var t;return new Date(null==e||null===(t=e.customData[n])||void 0===t||null===(t=t.value)||void 0===t?void 0:t.endDate)}))),u=new Date(Math.min(...a.map(e=>{var t;return new Date(null==e||null===(t=e.customData[n])||void 0===t||null===(t=t.value)||void 0===t?void 0:t.startDate)})));a.forEach(t=>{d=null==t?void 0:t.groupColor,o=null==t?void 0:t.groupId,l=(0,i.V1I)(e.DBTaskgroupsReducer,{_id:o},"name")});const p={start:new Date(u),end:new Date(c),name:l,id:o,progress:100,isDisable:!1,type:"project",hideChildren:!1,styles:{projectBackgroundColor:d,projectBackgroundCriticalColor:d,projectBackgroundSelectedColor:d}};s.find(e=>p.id===e.id)||s.push(p)}return s}),A=(0,r.Mz)([e=>e,(e,t,a)=>({taskId:t,columnId:a})],(e,t)=>{let{taskId:a,columnId:n}=t;const i=b(e);for(let e=0;e<i.length;e++){const t=i[e];var r;if(a===t._id)return null===(r=t.customData[n])||void 0===r?void 0:r.value}}),T=((0,r.Mz)([e=>e,(e,t,a)=>({picker:t,taskId:a})],(e,t)=>{let{picker:a,taskId:n}=t;const i=(0,c.xd)(e),r=[];return ne(e,i).filter(e=>e.type===a).forEach(t=>{if(t.type===a){const a=A(e,n,null==t?void 0:t._id);a&&r.push(...a)}}),r}),(0,r.Mz)([e=>e,(e,t)=>({ganttTaskList:t})],(e,t)=>{let{ganttTaskList:a}=t;b(e);function n(e,t){return e.setDate(e.getDate()+t),e}for(let e=0;e<a.length;e++){var i;const t=a[e];if("task"===(null==t?void 0:t.type)&&0!==Object.keys(null!==(i=null==t?void 0:t.dependencies[0])&&void 0!==i?i:{}).length){var r,s,o;const e=null==t||null===(r=t.dependencies[0])||void 0===r?void 0:r.ownTarget,i=null==t||null===(s=t.dependencies[0])||void 0===s?void 0:s.sourceTarget,l=null==t||null===(o=t.dependencies[0])||void 0===o?void 0:o.sourceId,d=a.find(e=>{if(l===(null==e?void 0:e.id))return e});switch(e){case"startOfTask":if("startOfTask"===i){if(d.start.getTime()>(null==t?void 0:t.start.getTime())){const e=(d.start.getTime()-(null==t?void 0:t.start.getTime()))/864e5;t.start=n(t.start,e),t.end=n(t.end,e)}}else if("endOfTask"===i&&d.end.getTime()>(null==t?void 0:t.start.getTime())){const e=(d.end.getTime()-(null==t?void 0:t.start.getTime()))/864e5;t.start=n(t.start,e+1),t.end=n(t.end,e+1)}break;case"endOfTask":if("startOfTask"===i){if(d.start.getTime()>=(null==t?void 0:t.end.getTime())){const e=(d.start.getTime()-(null==t?void 0:t.end.getTime()))/864e5;t.start=n(t.start,e+1),t.end=n(t.end,e+1)}}else if("endOfTask"===i&&d.end.getTime()>=(null==t?void 0:t.end.getTime())){const e=(d.end.getTime()-(null==t?void 0:t.end.getTime()))/864e5;t.start=n(t.start,e+1),t.end=n(t.end,e+1)}}}}})),S=(0,r.Mz)([e=>e,(e,t)=>({groupId:t})],(e,t)=>{var a,n;let{groupId:i}=t;const r=(0,c.xd)(e),s=null===(a=ne(e,r).map((e,t)=>({type:e.type,_id:e._id,title:e.title})).filter(e=>"status-option-picker"===e.type)[0])||void 0===a?void 0:a._id,o=[],l=ee(e,{groupId:i,columnId:s,boardId:r,columnType:"status-option-picker"});let d;const u=null==l||null===(n=l.selectedOptionsCloned)||void 0===n?void 0:n.filter((e,t,a)=>t===a.findIndex(t=>(null==t?void 0:t._id)===(null==e?void 0:e._id))),p=null==u?void 0:u.sort((e,t)=>(null==e?void 0:e.order)-(null==t?void 0:t.order));let m="linear-gradient(";return p.map((e,t)=>{const a=null==e?void 0:e.bgcolor;d=((e,t)=>{const a=e/t*100;return a%1!=0?a.toFixed(2):a})(null==e?void 0:e.count,null==l?void 0:l.tasksLength),o.push({bgColor:a,percentage:d})}),o.map(e=>{const t="90deg, ".concat(e.bgColor,", ").concat(e.percentage,",");m+=t}),m+=" )",m}),O=((0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,c.xd)(e),n=te(e,t),r=I(e,n,t),s=(0,i.wvC)(e.DBGanttReducer,{boardId:a}),o=(0,i.k1u)(e.DBGanttReducer,{_id:s[0]._id},"orderTasksBy"),l=(0,i.k1u)(e.DBGanttReducer,{_id:s[0]._id},"milestoneTasks"),d=(0,i.k1u)(e.DBGanttReducer,{_id:s[0]._id},"showTasksByGroup"),u=(0,i.k1u)(e.DBGanttReducer,{_id:s[0]._id},"fixDependency"),p=[],m=i.sWy.selectAll(e),y=[],h=new Date;for(let a=0;a<n.length;a++){var v,f,b,k,w,x;const i=n[a],r=null===(v=n[a])||void 0===v?void 0:v._id,o=[],d=null===(f=s[0])||void 0===f?void 0:f.tasksDependencies,c=d?Object.keys(d):{};if(0!==Object.keys(c).length){const e=d[r];o[0]=g({},e)}const u=_(e,null===(b=n[a])||void 0===b?void 0:b._id,t);let p=null!==(k=new Date(null==u?void 0:u.startDate))&&void 0!==k?k:new Date(h),D=null!==(w=new Date(null==u?void 0:u.endDate))&&void 0!==w?w:new Date(h.getDate()+1);const I=0,A=null===(x=n[a])||void 0===x?void 0:x.text,T=m.find(e=>e._id===i.groupId),S=null==i?void 0:i.groupColor;if(p>=D){const e=p;p=D,D=e}const O=null==l?void 0:l.find(e=>r===e),C={start:new Date(p),end:new Date(D),name:A,id:r,type:O?"milestone":"task",progress:I,isDisabled:!1,dependencies:o,parent:null==T?void 0:T._id,styles:{barBackgroundColor:S,barBackgroundSelectedColor:S}};y.find(e=>C.id===e.id)||y.push(C)}d?p.push(...y,...r):p.push(...y);let D=O(e,p,s[0]);return!0===u&&T(e,D),"customOrder"===o||void 0===o?D=O(e,p,s[0]):"startDate"===o?D=p.sort(function(e,t){return e.start-t.start}):"endDate"===o&&(D=p.sort(function(e,t){return t.end-e.end})),D}),(0,r.Mz)([e=>e,(e,t,a)=>({taskId:t,gantt:a})],(e,t)=>{let{taskId:a,gantt:n}=t;const i=null==n?void 0:n.milestoneTasks;return null!=i&&i.find(e=>a===e)?"milestone":"task"}),(0,r.Mz)([e=>e,(e,t,a)=>({ganttTaskList:t,gantt:a})],(e,t)=>{let{ganttTaskList:a,gantt:n}=t;const i=null==n?void 0:n.tasksOrder;let r=[];if((null==i?void 0:i.length)>1){for(const e in i){const t=Object.keys(i[e]);Object.values(i[e]);const n=a.find(e=>e.id===t[0]);r.push(n)}const e=a.filter(e=>!r.includes(e));r.push(...e)}else r=[...a];return r})),C=(0,r.Mz)([e=>e],e=>(0,i.$0K)(e.DBTaskgroupsReducer,{boardId:(0,c.xd)(e),$or:[{deleted:{$exists:!1}},{deleted:!1}],archived:{$ne:!0}},["_id","isCollapsed","colorAccent","order","isFooterAutoFocused","isSubFooterAutoFocused"],{order:1})),M=(0,r.Mz)([b,C,c.xd,e=>e.TasksReducer.currentBoardView,e=>e.TasksReducer.isGroupDragging,e=>e.TasksReducer.toggleTasksMap,e=>e.TasksReducer.tasksFilter.text],(e,t,a,n,i,r,s)=>{let l=!1;s&&(l=!0);return(0,o.c)(a,t,e,l,i,r)}),B=(e,t)=>{const a=d.pz.find(e=>e.type===(null==t?void 0:t.type));let n;if(null!=a&&a.cellValueFunction)n=a.cellValueFunction(e);else{const a=(null==e?void 0:e.customData)&&(null==e?void 0:e.customData[null==t?void 0:t._id]);n=null==a?void 0:a.value}return n},_=(0,r.Mz)([e=>e,(e,t,a)=>({taskId:t,columnId:a})],(e,t)=>{let{taskId:a,columnId:n}=t;const r=i.ZIw.selectById(e,a),s=i.mYF.selectById(e,n);return B(r,s)}),P=((0,r.Mz)([e=>e,c.xd],(e,t)=>(0,i.$0K)(e.DBTaskgroupsReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id","name"])),(0,r.Mz)([c.xd,(e,t)=>e,(e,t)=>t],(e,t)=>x(e).find(e=>t===(null==e?void 0:e._id))),(0,r.Mz)([c.xd,(e,t)=>e,(e,t)=>t],(e,t,a)=>{const n=(0,i.Z4b)(t.DBKanbanReducer,{_id:a},"includedColumns");let r;return r=[...(0,i.l_$)(t.DBTaskColumnReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],boardId:e},["_id","type","title"],{order:1})].filter(e=>n&&n[null==e?void 0:e._id]).sort((e,t)=>{var a,n;return(null!==(a=null==e?void 0:e.order)&&void 0!==a?a:0)-(null!==(n=null==t?void 0:t.order)&&void 0!==n?n:0)}),r.map((e,t)=>({_id:null==e?void 0:e._id,type:null==e?void 0:e.type,title:null==e?void 0:e.title}))}),(0,r.Mz)([e=>e,c.xd],(e,t)=>(0,i.V1I)(e.DBTaskgroupsReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id"],{order:-1})),(0,r.Mz)([c.xd,(e,t)=>e,(e,t)=>t],(e,t,a)=>{const n=(0,i.J4y)(t.DBBoardViewReducer,{_id:a},"includedColumns");let r;return r=[...(0,i.l_$)(t.DBTaskColumnReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],boardId:e},["_id","type","title"],{order:1})].filter(e=>n&&n[null==e?void 0:e._id]).sort((e,t)=>{var a,n;return(null!==(a=null==e?void 0:e.order)&&void 0!==a?a:0)-(null!==(n=null==t?void 0:t.order)&&void 0!==n?n:0)}),r.map((e,t)=>({_id:null==e?void 0:e._id,type:null==e?void 0:e.type,title:null==e?void 0:e.title}))})),R=(0,r.Mz)([c.xd,e=>e],(e,t)=>{const a=(0,c.xd)(t),n=t.TasksReducer.currentBoardView,[r]=(0,i.bTq)(t.DBBoardViewReducer,{boardId:a,_id:n.id});return r}),E=((0,r.Mz)([e=>e,(e,t)=>(0,i.l_$)(e.DBTaskColumnReducer,{$and:[{$or:[{deleted:{$exists:!1}},{deleted:!1}]},{$or:[{isVisible:!0},{isVisible:{$exists:!1}}]}],boardId:null!=t?t:"No Board"},[],{order:1}),(e,t,a)=>a],(e,t,a)=>{let n;if("tasks"===e.TasksReducer.viewMode){const r=(0,c.xd)(e),o="audience"!==(0,i.cTv)(e.DBBoardsReducer,r,"type"),l=e.TasksReducer.currentBoardView;if((0,i.bTq)(e.DBBoardViewReducer,{boardId:r,_id:l.id}).length>0){const t=P(e,l.id);n=[...s.Z,...t].sort((e,t)=>{var a,n;return(null!==(a=e.order)&&void 0!==a?a:0)-(null!==(n=t.order)&&void 0!==n?n:0)})}else{const r=G(e,a),l=(0,i.V1I)(e.DBTaskgroupsReducer,{_id:a},["isCollapsed"]);n=[...s.Z,...t].sort((e,t)=>{var a,n;return(null!==(a=e.order)&&void 0!==a?a:0)-(null!==(n=t.order)&&void 0!==n?n:0)}),(0===r||l)&&(n=n.splice(0,2)),n=n.filter(e=>"chat"===e.type&&o||"chat"!==e.type)}}else{const a=e.MyWorkReducer.myWorkPreferences;n=E(a,t)}return n}),(e,t)=>{let a=[];const n=["person-picker","datepicker","status-option-picker"],i={"person-picker":"Owner","status-option-picker":"Status",datepicker:"Date"};let r={};const o=t.filter(e=>!(!n.includes(e.type)||r[e.type])&&(r[e.type]=!0,!0)).map(e=>g(g({},e),{},{width:180,title:i[e.type]})).sort((e,t)=>n.indexOf(e.type)-n.indexOf(t.type));return n.forEach((e,t)=>{if(!r[e]){const a=o.findIndex(e=>n.indexOf(e.type)>t),r={_id:"empty-cell",type:"empty-cell",title:i[e],width:180,static:!0,outerCell:!0,order:t};-1===a?o.push(r):o.splice(a,0,r)}}),null!=e&&e.selectedColumns&&o.forEach((a,n)=>{const r=null==e?void 0:e.selectedColumns[a.boardId];if(r)if(r.status&&"status-option-picker"===a.type){const e=t.find(e=>e._id===r.status);e&&(o[n]=g(g({},e),{},{width:250,title:i[e.type]}))}else if(r.date&&"datepicker"===a.type){const e=t.find(e=>e._id===r.date);e&&(o[n]=g(g({},e),{},{width:100,title:i[e.type]}))}}),a=[...s.W,...o],a}),j=(0,r.Mz)([(e,t)=>ne(e,t)],e=>e.filter(e=>!e.static)),L=((0,r.Mz)([e=>e,(e,t)=>j(e,t),(e,t,a)=>a],(e,t,a)=>{const n=(0,i.bgX)(e.DBWorkloadReducer,{_id:a},"includedColumns");return t.filter(e=>n&&n[e._id])}),(0,r.Mz)([c.xd,e=>e,(e,t)=>t,(e,t,a)=>a],(e,t,a,n)=>{const r=(0,i.bgX)(t.DBWorkloadReducer,{_id:n},"personPickerId"),s=(0,i.Qrb)(t.DBTasksReducer,{boardId:e,$or:[{deleted:{$exists:!1}},{deleted:!1}]},[],{}),o=(0,i.bgX)(t.DBWorkloadReducer,{_id:n},"tasksOrderByUser"),l=(e,t)=>{if(void 0===o)return t;if(void 0!==o[a]){const t=o[a];if(void 0!==t[e])return t[e]}},d=s.filter(e=>((e,t)=>{if(void 0===e.customData)return!1;if(void 0===e.customData[r])return"emptystateuserfordisplay"===t;if(void 0===e.customData[r].value)return"emptystateuserfordisplay"===t;if(0===e.customData[r].value.length)return"emptystateuserfordisplay"===t;{let a=0;for(let n=0;n<e.customData[r].value.length;n++)e.customData[r].value[n].id===t&&a++;if(0!==a)return!0}})(e,a)).sort((e,t)=>{const a=s.length;return l(e._id,a)-l(t._id,a)});return d.map(e=>({_id:e._id,customData:e.customData}))})),N=((0,r.Mz)([(e,t,a,n)=>e,(e,t,a,n)=>t,(e,t,a,n)=>a,(e,t,a,n)=>n,c.xd],(e,t,a,n,r)=>{const s=L(e,t,a),o=(0,i.u7r)(e.DBTaskColumnOptionReducer,{boardId:r,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),l=(0,i.bgX)(e.DBWorkloadReducer,{_id:a},"people"),d=(0,i.bgX)(e.DBWorkloadReducer,{_id:a},"defaultCapacity"),c=void 0===d?100:d;let u;var p;(e=>!(!l||!l[e]))(t)?u=null!==(p=l[t].capacity)&&void 0!==p?p:c:u=c;return s.map((e,t)=>{var a;const i=o.find(t=>void 0!==e.customData&&void 0!==e.customData[n]&&""!==e.customData[n].value.toString()&&t._id===e.customData[n].value);return[(null==i?void 0:i.complexity)/u*100,null!==(a=null==i?void 0:i.bgcolor)&&void 0!==a?a:"var(--color-surface)"]})}),(0,r.Mz)([(e,t,a,n)=>e,(e,t,a,n)=>t,(e,t,a,n)=>a,(e,t,a,n)=>n,c.xd],(e,t,a,n,r)=>{const s=L(e,t,a),o=(0,i.u7r)(e.DBTaskColumnOptionReducer,{boardId:r,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]});return s.map((e,t)=>{var a;const i=o.find(t=>void 0!==e.customData&&void 0!==e.customData[n]&&""!==e.customData[n].value.toString()&&t._id===e.customData[n].value);return null!==(a=null==i?void 0:i.complexity)&&void 0!==a?a:0})}),(0,r.Mz)([(e,t,a)=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{const n=(0,i.bgX)(e.DBWorkloadReducer,{_id:t},"people"),r=(0,i.bgX)(e.DBWorkloadReducer,{_id:t},"defaultCapacity"),s=void 0===r?100:r;let o;var l;(e=>!(!n||!n[e]))(a)?o=null!==(l=n[a].capacity)&&void 0!==l?l:s:o=s;return o}),(0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{const a=(0,i.bgX)(e.DBWorkloadReducer,{_id:t},"defaultCapacity");return void 0===a?100:a}),(0,r.Mz)([c.xd,e=>e],(e,t)=>j(t,e).filter(e=>!e.static))),F=((0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{let a;return a="board"===t?N(e).map((e,t)=>({_id:e._id,title:e.title,type:e.type,isVisible:e.isVisible})):N(e).map((e,t)=>({_id:e._id,title:e.title,type:e.type})),a}),(0,r.Mz)([(e,t)=>ne(e,t)],e=>e.filter(e=>"timeline-picker"===e.type)),(0,r.Mz)([e=>e],e=>{const t=(0,c.xd)(e);return ne(e,t).map((e,t)=>({type:e.type,_id:e._id,title:e.title})).filter(e=>"option-picker"===e.type||"status-option-picker"===e.type)}),(0,r.Mz)([(e,t,a)=>a,(e,t,a)=>ne(e,t)],(e,t)=>t.filter(t=>t.type===e)),(0,r.Mz)([(e,t)=>j(e,t)],e=>{let t=e.filter(e=>{const t=d.pz.find(t=>t.type===e.type);return null==t?void 0:t.isCellInForms});return t=[{_id:"name",type:"row-prefix",title:"Task Name"},...t],t}),(0,r.Mz)([(e,t)=>j(e,t)],e=>e.map((e,t)=>[e._id,e.type,e.title])),(0,r.Mz)([(e,t)=>{let{columnId:a}=t;return{columnId:a}},(e,t)=>{let{boardId:a}=t;return j(e,a)}],(e,t)=>{let{columnId:a}=e;return t.find(e=>e._id===a)})),z=((0,r.Mz)(e=>e,e=>{const{selectedBoardId:t}=e.BoardsReducer;return i._xB.selectById(e,t)}),(0,r.Mz)(e=>e,e=>e.TasksReducer.personFilter)),U=((0,r.Mz)([e=>e,y,c.xd],(e,t,a)=>{let n=[],r=[];if(t.length>0){const i=ne(e,a).filter(e=>"person-picker"===e.type).map(e=>{let{_id:t}=e;return t});if(i.length>0)for(let e=0;e<t.length;e++)i.forEach(function(a){var i;const r=null===(i=t[e])||void 0===i||null===(i=i.customData)||void 0===i||null===(i=i[a])||void 0===i?void 0:i.value;r&&n.push(r)})}n.length>0&&(r=n.flatMap(e=>e).filter((e,t,a)=>a.findIndex(t=>(null==t?void 0:t.id)===(null==e?void 0:e.id))===t).map(e=>e.id));return[...(0,i.jKk)(e.DBBoardUserReducer,{_id:{$in:r}}),...(0,i.u7r)(e.DBTaskColumnOptionReducer,{_id:{$in:r},boardId:a,imageUrl:{$exists:!0}}).map(e=>{const[t,a]=e.label.split(" ");return{_id:e._id,status:"active",profile:{firstName:t,lastName:a,profileImg:e.imageUrl},type:"option"}})]}),(0,r.Mz)([e=>e,C],(e,t)=>t.every(e=>e.isCollapsed)),(0,r.Mz)([(e,t,a)=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{const n=M(e).filter(e=>"task"===(null==e?void 0:e.type)),i=n.length,r=n.indexOf(n.find(e=>(null==e?void 0:e.id)===t));var s,o,l,d;return"previous"===a?0===r?null===(s=n[i-1])||void 0===s?void 0:s.id:null===(o=n[r-1])||void 0===o?void 0:o.id:r===i-1?null===(l=n[0])||void 0===l?void 0:l.id:null===(d=n[r+1])||void 0===d?void 0:d.id}),(0,r.Mz)([e=>e,M],(e,t)=>t.filter(e=>[l.L.task,l.L.subTask].indexOf(e.type)>-1).map(t=>e.DBTasksReducer.entities[t.taskId])),(0,r.Mz)(C,e=>e.length),(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>(0,i.AhX)(e.DBTasksExtraDataReducer,{taskId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id"],{createdAt:-1}))),V=(0,r.Mz)(U,e=>{var t;return null!==(t=e.length)&&void 0!==t?t:0}),W=(0,r.Mz)([e=>e],e=>{const t=e.BoardsReducer.selectedBoardId,a=e.ExtraDataReducer.displayExtraDataOfTaskById;let n;const r=(0,i.l_$)(e.DBTaskColumnReducer,{boardId:t,type:"files",$or:[{deleted:{$exists:!1}},{deleted:!1}]}).map(e=>e._id);return n=function(e,t,a,n){let i=[],r=[],s=[];t.forEach(t=>{var a;const n=null==e||null===(a=e.customData)||void 0===a||null===(a=a[t])||void 0===a?void 0:a.value;n&&i.push(...n)}),a&&a.length>0&&a.forEach(e=>{e.extraData&&e.extraData.forEach(e=>{"url"in e&&r.push({type:e.type,url:e.url})})});n&&n.files.length>0&&s.push(...n.files);return{tasks:i,updates:r,generalFiles:s}}((0,i.mCi)(e.DBTasksReducer,a),r,(0,i.AhX)(e.DBTasksExtraDataReducer,{taskId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),(0,i.Hy0)(e.DBTasksExtraDataFilesReducer,{taskId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]})),null!=n?n:[]});const Q=(0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>(0,i.l_$)(e.DBTaskColumnReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],boardId:t},["_id","isVisible"],{order:1})),G=((0,r.Mz)([e=>e],e=>{const t=e.BoardsReducer.selectedBoardId;return(0,i.xTm)(e.DBTaskgroupsReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},"order","max")}),(0,r.Mz)([c._r,z],(e,t)=>e.find(e=>e._id===t)),(0,r.Mz)([e=>e,(e,t)=>({groupId:t})],(e,t)=>{let{groupId:a}=t;const n=(0,i.cip)(e.DBTasksReducer,{groupId:a,parentTaskId:{$exists:!1}});return a?n:""})),q=((0,r.Mz)([c.xd,(e,t)=>e,(e,t)=>t],(e,t,a)=>{const n=(0,i.Z4b)(t.DBKanbanReducer,{_id:a},"optionColumnId"),r=(0,i.u7r)(t.DBTaskColumnOptionReducer,{boardId:e,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]},void 0,{order:1}),s=(0,i.Oy_)(t.DBKanbanReducer,{boardId:e,_id:a});return r.sort((e,t)=>{if(s.columnsOrder){const a=r.length;let n=a;void 0!==s.columnsOrder[e._id]&&(n=s.columnsOrder[e._id]);let i=a;return void 0!==s.columnsOrder[t._id]&&(i=s.columnsOrder[t._id]),n-i}return e.order-t.order}).map((e,t)=>g(g({},e),{},{order:t}))}),(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>void 0!==(0,i.Z4b)(e.DBKanbanReducer,{_id:t},"optionColumnId")),(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,i.Z4b)(e.DBWorkloadReducer,{_id:t},"complexityPickerId");return!(null==a)}),(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,i.Z4b)(e.DBWorkloadReducer,{_id:t},"personPickerId");return!(null==a)}),(0,r.Mz)([(e,t)=>e,(e,t)=>t,c.xd],(e,t,a)=>{var n;const r={_id:"emptystateuserfordisplay",type:"user",boardId:a,name:"Empty Tasks",firstName:"Empty",lastName:"Tasks"},s=[...(0,c._r)(e),r],o=null!==(n=(0,i.bgX)(e.DBWorkloadReducer,{_id:t},"usersOrder"))&&void 0!==n?n:{},l=Object.keys(o),d=s.filter(e=>!l.includes(e._id)),u=[];if(0!==Object.keys(o).length){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const t=o[e],a=s.find(t=>t._id===e);a&&(u[t]=a)}let e=u.filter(e=>e);return e.push(...d),e}return s})),H=((0,r.Mz)([e=>e,(e,t)=>t,(e,t,a)=>a],(e,t,a)=>q(t,a).find(t=>t._id===e)),(0,r.Mz)([e=>e],e=>e.state.TasksReducer.toggleTasksMap[e.taskId])),K=((0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{var a,n,i,r;const s=[...(0,c._r)(e),...(0,c.uy)(e)];return null!==(a=null!==(n=null===(i=s.find(e=>e.userId===(null==t?void 0:t._id)))||void 0===i?void 0:i.profile)&&void 0!==n?n:null===(r=s.find(e=>e._id===t._id))||void 0===r?void 0:r.profile)&&void 0!==a?a:{firstName:t.firstName,lastName:t.lastName,email:"www@www.www"}}),(0,r.Mz)([e=>e,(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>n,(e,t,a,n,i)=>i],(e,t,a,n,r)=>{let s;if("kanban"===e&&(s=(0,i.OBc)(a.DBTaskgroupsReducer,{_id:t})),"workload"===e){var o;const e=(0,i.dgT)(a.DBTasksReducer,n,"customData");let t,l;null!==e&&(t=e[r]),t&&(l=(0,i._h0)(a.DBTaskColumnOptionReducer,t.value)),s=null===(o=l)||void 0===o?void 0:o.bgcolor}return s}),(0,r.Mz)([e=>e],e=>{const t=i.ZIw.selectById(e.state,e.taskId),a=null==t?void 0:t.groupId;return(0,i.qMd)(e.state.DBTaskgroupsReducer,a,e.field)})),X=(0,r.Mz)([e=>e],e=>{const t=e.state.BulkActionsReducer.bulkTasksMap,a=i.ZIw.selectById(e.state,e.taskId);return!!t[null==a?void 0:a._id]}),Y=(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>(0,i.Qrb)(e.DBTasksReducer,{parentTaskId:t}).length),Z=(0,r.Mz)((e,t)=>({state:e,taskId:t}),M,(e,t)=>{if(!e.taskId)return!1;var a=t.filter(e=>(null==e?void 0:e.type)===l.L.task);const n=a.find(t=>(null==t?void 0:t.id)===e.taskId);return(a=a.filter(e=>(null==e?void 0:e.groupId)===(null==n?void 0:n.groupId))).length&&a[a.length-1].id===e.taskId}),J=(0,r.Mz)((e,t)=>({state:e,taskId:t}),M,(e,t)=>{var a=t.filter(e=>(null==e?void 0:e.type)===l.L.task);const n=a.find(t=>(null==t?void 0:t.id)===e.taskId);return(a=a.filter(e=>(null==e?void 0:e.groupId)===(null==n?void 0:n.groupId))).length&&a[0].id===e.taskId}),$=(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{const{taskId:a,columnId:n,boardId:r}=t,s=_(e,a,n),o=(0,i.u7r)(e.DBTaskColumnOptionReducer,{boardId:r,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),l=(0,i.Qrb)(e.DBTasksReducer,{boardId:r,["customData.".concat(n)]:{$exists:!0}}).map(e=>null==e?void 0:e.customData[n].value).flat().map(e=>null==e?void 0:e._id),d=o.filter(e=>null==s?void 0:s.some(t=>t._id===e._id)).map(e=>e._id),c=o.filter(e=>!d.includes(e._id)),u=o.filter(e=>d.includes(e._id));return{columnOptions:o,optionsTopick:c,pickedOptions:u,dropdownValuesIds:l}}),ee=((0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{const{columnId:a,boardId:n}=t,r=(0,i.Qrb)(e.DBTasksReducer,{boardId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),s=(0,i.u7r)(e.DBTaskColumnOptionReducer,{boardId:n,columnId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]}).map(e=>e._id),o=r.map(e=>{var t;return null==e||null===(t=e.customData)||void 0===t||null===(t=t[a])||void 0===t?void 0:t.value}).flat().map(e=>e);return s.filter(e=>o.includes(e))}),(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{const{groupId:a,columnId:n,boardId:r,columnType:s}=t,o=b(e).map(e=>e._id),l=(0,i.Qrb)(e.DBTasksReducer,{boardId:r,groupId:a,taskType:{$ne:"subTask"},["customData.".concat(n)]:{$exists:!0}}).filter(e=>o.includes(e._id)),d=(0,i.cip)(e.DBTasksReducer,{boardId:r,groupId:a,taskType:{$ne:"subTask"}});let c;const u=l.map(e=>null==e?void 0:e.customData[n].value).flat();if("number"!==s&&"checkbox"!==s||(c=u),"checkbox"===s&&(c={length:d,data:u}),"person-picker"===s&&(c=u),"rating"===s&&(c={length:d,data:u}),"status-option-picker"===s||"option-picker"===s||"complexity-picker"===s){const t=(0,i.Qrb)(e.DBTasksReducer,{groupId:a,taskType:{$ne:"subTask"}}).filter(e=>o.includes(e._id)).length,s=(0,i.u7r)(e.DBTaskColumnOptionReducer,{boardId:r,columnId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),l={};u.forEach(e=>{l[e]=(l[e]||0)+1});const d=u.map(e=>s.find(t=>t._id===e)),p=JSON.parse(JSON.stringify(d)),m=(e=>{const t={};return e.forEach(e=>{t[null==e?void 0:e._id]||(t[null==e?void 0:e._id]=0),t[null==e?void 0:e._id]++}),t})(p);m&&p.forEach(e=>{const t=m[null==e?void 0:e._id];e&&t&&t>=1&&(e.count=t)}),c={selectedOptionsCloned:p,tasksLength:t}}if("files"===s){let e=[];null==l||l.flatMap(t=>{var a,i;const r=null!==(a=null===(i=t.customData[n])||void 0===i||null===(i=i.value)||void 0===i?void 0:i.map(e=>g(g({},e),{},{_id:t._id})))&&void 0!==a?a:[];r.length>0&&e.push(r)}),c=e.flat()}return c})),te=(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=b(e),n=[];for(let e=0;e<a.length;e++){var i;const r=a[e];null!=r&&r.customData&&null!=r&&null!==(i=r.customData[t])&&void 0!==i&&i.value&&n.push(r)}return n}),ae=(0,r.Mz)([e=>e,(e,t)=>({groupId:t})],(e,t)=>{let{groupId:a}=t;if(!a)return"";return(0,i.cip)(e.DBTasksReducer,{groupId:a})}),ne=(0,r.Mz)([(e,t)=>(0,i.l_$)(e.DBTaskColumnReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],boardId:null!=t?t:"No Board"},[],{order:1}),(e,t,a)=>ae(e,a)],(e,t)=>{let a;return a=[...s.Z,...e].sort((e,t)=>{var a,n;return(null!==(a=e.order)&&void 0!==a?a:0)-(null!==(n=t.order)&&void 0!==n?n:0)}),0===t&&(a=a.splice(0,2)),a}),ie=(0,r.Mz)([e=>e,(e,t,a,n)=>({columnId:t,columnValue:a,isDefault:n})],(e,t)=>{let{columnId:a,columnValue:n,isDefault:r}=t;const s=b(e),o=(0,i.u7r)(e.DBTaskColumnOptionReducer,{boardId:(0,c.xd)(e),columnId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]},void 0,{order:1}).filter(e=>e._id!==n).map(e=>e._id);let l=[],d=[];for(let e=0;e<s.length;e++){let t=!1;const i=s[e];i.customData&&i.customData[a]&&i.customData[a].value===n&&(t=!0),t?l.push(i):r&&(i.customData?(void 0===i.customData[a]||-1===o.indexOf(i.customData[a].value))&&d.push(i):d.push(i))}return[...l,...d].sort((e,t)=>(void 0===e.customData||void 0===e.customData[a]||void 0===e.customData[a].order?-1:e.customData[a].order)-(void 0===t.customData||void 0===t.customData[a]||void 0===t.customData[a].order?-1:t.customData[a].order))}),re=((0,r.Mz)([c.xd,e=>e,(e,t)=>t,(e,t,a,n,i)=>ie(e,a,n,i)],(e,t,a,n)=>{const r=(0,i.Oy_)(t.DBKanbanReducer,{boardId:e,_id:a});let s=[];const o=n.length;s=r.tasksOrder?n.sort((e,t)=>{let a=o;void 0!==r.tasksOrder[e._id]&&(a=r.tasksOrder[e._id]);let n=o;return void 0!==r.tasksOrder[t._id]&&(n=r.tasksOrder[t._id]),a-n}):n;return s.map((e,t)=>({_id:e._id}))}),(0,r.Mz)([(e,t,a)=>ne(e,t),(e,t,a)=>a],(e,t)=>e.find(e=>e._id===t))),se=((0,r.Mz)([c.wE,(e,t)=>t],(e,t)=>e.find(e=>e.userId===t)),(0,r.Mz)([(e,t)=>t,(e,t)=>e.TasksReducer.isScrollingStart,(e,t)=>e.TasksReducer.isScrollingEnd,(e,t)=>e.TasksReducer.currentFPS],(e,t,a,n)=>{const i=d.JN.get(e);let r;var s;(t||!a)&&n<30?r=null!==(s=null==i?void 0:i.scrollingCellComponent)&&void 0!==s?s:null==i?void 0:i.cellComponent:r=null==i?void 0:i.cellComponent;return r}),(0,r.Mz)([e=>e.DBTasksReducer,e=>e.DBTaskColumnReducer,e=>(0,c.xd)(e)],(e,t,a)=>{const n=(0,i.Qrb)(e,{boardId:a}),r=(0,i.l_$)(t,{deleted:!1,boardId:a}).find(e=>"whatsapp-id-cell"===e.type);return n.map(e=>{var t;return null===(t=e.customData[r._id])||void 0===t?void 0:t.value})}));(0,r.Mz)([e=>e.WhatsAppReducer,e=>(0,p.V1)(e),e=>se(e)],(e,t,a)=>{const n=e.importedContactsArray.map(e=>e.whatsappId),i=t.map(e=>e.whatsappId),r=new Set([...n,...a]),s=new Set(i);return r.size===s.size&&[...r].every(e=>s.has(e))}),(0,r.Mz)([e=>se(e),(e,t)=>t],(e,t)=>e.some(e=>e===t))},43272:(e,t,a)=>{"use strict";a.d(t,{HP:()=>M,Ys:()=>C,SS:()=>P,Lt:()=>O});var n=a(64467),i=a(37707),r=a(87435),s=a(57971);let o;(0,r.BQ)();o=(0,r.AA)()?(0,s.zR)():(0,s.sC)();var l=a(30038),d=a(36596),c=a(38972),u=a(93553),p=a(79899),m=a(47283),g=a(55789),y=a(67158),h=a(92032),v=a(12239);class f extends u.S{static sendMessageToTab(e,t){return super.sendMessageToTab(e,t,"backgroundMessageService")}static async getCurrentVersion(){return f.postMessageToBackgroundWithResponse("getCurrentVersion",{})}}var b=a(55693),k=a(69886),w=a(83750),x=a(79754),D=a(66159),I=a(13364),A=a(49171).URL;function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(0,l.zD)("logoutThunk",(e,t)=>{let{accessToken:a}=e;const{dispatch:n}=t;if(n(B()),a){var i;window.localStorage.removeItem(c.hl);const e=new A(window.location.href);e.searchParams.delete("accessToken"),null===(i=window)||void 0===i||null===(i=i.history)||void 0===i||i.replaceState(null,"",e)}(0,r.r0)()||null==o||o.push("/login")}),(0,l.zD)("openSocketModalThunk",async(e,t)=>{const{dispatch:a}=t,n=t.getState();if((0,v.B$)(n)){const e=(0,v.by)(n);a(d.imx.removeOne(e)),a((0,y.Vm)(!0))}else a(m.g.setStatus("Signup"))}),(0,l.zD)("createNewSessionThunk",async(e,t)=>{const{dispatch:a}=t;await a(d.imx.clearState()),await a(h.br5.createUserSession.initiate()),await a(d.DBSessionThunks.find({}))});const O=(0,l.zD)("validateSubscriptionsThunk",async(e,t)=>{const{dispatch:a}=t,n=e.some(e=>"chargebee"===e.type&&"active"===e.status.toLowerCase()),i=e.filter(e=>"bluesnap"===e.type&&"ACTIVE"===e.origStatus.toUpperCase()),r=i.length>0;if(n&&r)for(const e of i)await a(h.br5.cancelSubscription.initiate({subscriptionID:e._id,reason:"Redundant subscription"}))}),C=(0,l.zD)("loadUserMessagesAndCampaignsThunk",async(e,t)=>{const{dispatch:a}=t;a((0,g.M5)()),a((0,p.zZ)())}),M=((0,l.zD)("switchWorkspace",async(e,t)=>{let{workspaceId:a}=e;const{dispatch:n,getState:i}=t,r=i(),s=r.UserReducer.userId,o=(0,v.XK)(r);(null==o?void 0:o._id)!==a&&(n(x.fF.cleanComponentToRender()),await n(d.Hgo.clearState()),await n(d.NVH.clearState()),await n(d.DBUserThunks.patch({entity:{_id:s,currentWorkspace:a}})),await n(_()),await n(d.DBSubscriptionThunks.find({})),await n(d.DBBoardsThunks.find({deleted:!1})))}),(0,l.zD)("cancelSubscriptionThunk",async(e,t)=>{let{subscriptionID:a,reason:n}=e;const{dispatch:i}=t;"data"in await i(h.M2H.initiate({subscriptionID:a,reason:n}))&&i(_())}),(0,l.zD)("updateChargeDate",async(e,t)=>{let{subscriptionId:a,nextChargeDate:n}=e;const{dispatch:i}=t;await i(h.acb.initiate({subscriptionId:a,nextChargeDate:n}))}),(0,l.zD)("toggleDarkMode",(e,t)=>{var a;const n=t.getState(),{dispatch:i}=t,[r]=(0,d.rBP)(n.DBUserReducer,{_id:n.UserReducer.userId}),s=!(null!=r&&r.isDarkMode);i(d.DBUserThunks.patch({entity:{_id:r._id,isDarkMode:s}})),null!=n&&null!==(a=n.UserReducer)&&void 0!==a&&a.user&&i((0,I.gV)(S(S({},n.UserReducer.user),{},{isDarkMode:s}))),(0,b.wp)(s)}),(0,l.zD)("toggleDomDirection",(e,t)=>{const a=t.getState(),{dispatch:n}=t,[i]=(0,d.rBP)(a.DBUserReducer,{_id:a.UserReducer.userId}),r="rtl"===(null==i?void 0:i.direction)?"ltr":"rtl";window.location.href.includes("web.whatsapp.com")||document.body.setAttribute("dir",r),n((0,I.jN)(r)),n(d.DBUserThunks.patch({entity:S(S({},i),{},{direction:r})}))}),(0,l.zD)("changeDefaultChatCountryCode",async(e,t)=>{let{defaultChatCountryCode:a}=e;const n=t.getState(),{dispatch:i}=t,[r]=(0,d.rBP)(n.DBUserReducer,{_id:n.UserReducer.userId});r.defaultChatCountryCode!==a&&i(d.DBUserThunks.patch({entity:{_id:n.UserReducer.userId,defaultChatCountryCode:a}}))}),(0,l.zD)("changePaymentPlan",async(e,t)=>{let{productId:a}=e;const{dispatch:n}=t;let i;try{i=await n(h.cIn.initiate({contractId:a})).unwrap();const{changeSuccessful:e}=i;e&&await n(_())}catch(e){i=e}return i}),(0,l.zD)("googleLoginThunk",async(e,t)=>{let{accessToken:a}=e;const{dispatch:n}=t;n((0,I.po)("userGoogleConnectStarted"));try{let e;if(a)e=await t.dispatch(h.QF$.initiate({strategy:"google-token",accessToken:a})).unwrap();else{a=(await u.S.postMessageToBackgroundWithResponse("launchWebAuthFlow",{})).accessToken,e=await t.dispatch(h.QF$.initiate({strategy:"google",accessToken:a})).unwrap()}return n((0,I.po)("userGoogleConnectSuccess")),e}catch(e){var i;const t=(null==e||null===(i=e.data)||void 0===i?void 0:i.message)||"Google sign-in failed";throw n((0,I.jB)(t)),n((0,I.po)("idle")),e}}),(0,l.zD)("clearStateThunk",async(e,t)=>{const{dispatch:a}=t,n=[];d.RuE.forEach((e,t)=>{n.push(a(e.slice.actions.clearState()))}),await Promise.all(n)})),B=(0,l.zD)("logoutThunk",(e,t)=>{const{dispatch:a}=t;try{a((0,I.ri)()),a(h.Hvd.util.resetApiState()),u.S.postMessageWithResponse("logout",{data:{source:"logoutThunk"}}),u.S.postMessageToBackgroundWithResponse("logout",{data:{source:"logoutThunk"}}),u.S.sendMessageToTab("logout",{data:{source:"logoutThunk"}}),localStorage.removeItem(c.hl),a(D.L.setCurrentBoardView({type:"board",id:void 0})),a((0,w.rR)()),a(M()),a(y.HB.closeCalendarView()),a(D.L.setIsTasksPanelOpen(!1)),a(y.HB.toggleSocketModal(!1))}catch(e){}}),_=(0,l.zD)("refreshUser",async(e,t)=>{const{getState:a}=t,n=a().UserReducer.accessToken;await t.dispatch(h.QF$.initiate({strategy:"jwt",accessToken:n})).unwrap()}),P=(0,l.zD)("updateUserPhoneNumberThunk",async(e,t)=>{var a,n;const{dispatch:i}=t,r=t.getState();if(null==r||null===(a=r.UserReducer)||void 0===a||!a.userId)return;const[s]=(0,d.rBP)(r.DBUserReducer,{_id:r.UserReducer.userId});if(null!=s&&s.phone)return;const o=await k.B.getWaMeInfo();i(d.DBUserThunks.patch({entity:{_id:r.UserReducer.userId,phone:null==o||null===(n=o.wid)||void 0===n?void 0:n.user}}))});(0,l.zD)("subscribeToFCMTopicThunk",async(e,t)=>{var a;const{dispatch:n}=t,i=t.getState();if(null==i||null===(a=i.UserReducer)||void 0===a||!a.userId)return{success:!1,error:"No user id found"};if(!e)return{success:!1,error:"No FCM token provided"};try{const t=await n(h.br5.subscribeToFCMTopic.initiate({fcmToken:e})).unwrap();return null!=t&&t.success?{success:!0,topicName:t.topicName}:{success:!1,error:(null==t?void 0:t.error)||"Unknown error"}}catch(e){return{success:!1,error:e.message||"Network error"}}}),(0,l.zD)("getBlueticksVersion",async(e,t)=>{await f.getCurrentVersion()}),(0,l.zD)("sendEmailToAdminWhenUserDeletesAccount",async(e,t)=>{let{userId:a}=e;const{dispatch:n}=t,i=t.getState(),[r]=(0,d.rBP)(i.DBUserReducer,{_id:a});if(!r)return;const s="User: ".concat(r.email," has deleted their account");await n(h.gcx.initiate({userDeletedTitle:s,userDeletedEmail:r.email}))}),(0,l.zD)("user/setAnalyticsSegment",async(e,t)=>{var a;let{getState:n}=t;const s=n(),o=(0,v.X_)(s),l=(null==o||null===(a=o.planType)||void 0===a?void 0:a.toLowerCase())||"free";(0,i.bZ)({type:"authenticated_user",source:(0,r.B2)()?"extension":/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"web_app",plan_type:l})})},43519:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>b});var n=a(30038),i=a(1081),r=a(95093),s=a.n(r),o=a(36596);const l=(0,n.Z0)({name:"snippets",initialState:{toggledOn:!1,items:[],filterVal:"",isSnippetDialogOpen:!1,showLeanList:!1},reducers:{toggle(e){e.toggledOn=!e.toggledOn},filterChange(e,t){let{payload:a}=t;e.filterVal=a},messageboxChange(e,t){let{payload:a}=t;e.messageboxVal=a},toggleSnippetDialog(e){e.isSnippetDialogOpen=!e.isSnippetDialogOpen},closeSnippetDialog(e){e.isSnippetDialogOpen=!1},showList(e,t){let{payload:a}=t;e.toggledOn=a}}}),d=e=>e.SnippetsReducer,c=(0,i.Mz)(e=>(0,o.u$k)(e.DBTemplateReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}]}).sort((e,t)=>s()(t.updatedAt).diff(s()(e.updatedAt))),e=>e),u=((0,i.Mz)(d,e=>e.isSnippetDialogOpen),(0,i.Mz)(d,e=>e.toggledOn),(0,i.Mz)(d,e=>e.filterVal)),p=(0,i.Mz)(d,e=>e.messageboxVal),{toggle:m,filterChange:g,messageboxChange:y,toggleSnippetDialog:h,closeSnippetDialog:v,showList:f}=((0,i.Mz)(c,u,(e,t)=>{if(!t||""===t)return e;const a=null==t?void 0:t.toLowerCase();return e.filter(e=>{var t,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(n=e.message)||void 0===n?void 0:n.toLowerCase().includes(a))})}),(0,i.Mz)(c,p,(e,t)=>{if(!t||""===t)return e;const a=null==t?void 0:t.toLowerCase();return e.filter(e=>{var t,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(n=e.message)||void 0===n?void 0:n.toLowerCase().includes(a))})}),l.actions),b=l.reducer},44010:(e,t,a)=>{"use strict";a.d(t,{GV:()=>s,jL:()=>r});var n=a(2543),i=(a(96540),a(13055));const r=()=>(0,i.wA)(),s=e=>(0,i.d4)(e,n.isEqual)},44862:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={convsBtn:"extraDataButton__convsBtn___FAff",personIcon:"extraDataButton__personIcon___FAff",convsBtnBadge:"extraDataButton__convsBtnBadge___FAff"}},45018:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(90815),i=a(28161),r=a(36596),s=a(42636),o=a(31141),l=a(66159),d=a(44010),c=a(96710),u=a(52761),p=a(42392),m=a(74848);function g(e){let{taskId:t,isOnKanban:a}=e;const g=(0,d.jL)(),y=(0,d.GV)(e=>e.TasksReducer.menuActiveTaskId),h=(0,d.GV)(e=>(0,s.gn)({state:e,taskId:t,field:"colorAccent"})),v=(0,d.GV)(e=>(0,s.S1)(e,t)),f=!!(0,d.GV)(e=>(0,r.dgT)(e.DBTasksReducer,t,"parentTaskId")),b=(0,d.GV)(e=>(0,s.yl)({state:e,taskId:t})),k=null!=h?h:u.Z,w=(0,d.GV)(e=>e.UserReducer.direction),x=(0,d.GV)(e=>e.TasksReducer.currentDraggedId);return(0,m.jsxs)(n.A,{direction:"row",alignItems:"center",children:[(0,m.jsx)(i.A,{children:(0,m.jsx)(n.A,{onClick:()=>{g(l.L.toggleTaskMenu(y?"":t)),g((0,o.ey)())},alignItems:"center",width:a?24:40,className:p.A.task_row_menu_button+" "+(a?p.A.task_row_menu_button_in_kanban:""),children:(0,m.jsx)(c.Ym0,{size:20,id:"task-button-".concat(t)})})}),a?"":(0,m.jsx)(n.A,{alignItems:"center",style:{height:v&&!b?39:40,backgroundColor:f?"var(--color-surface)":k,width:f?3:v&&!b?24:5,flexShrink:0,position:"relative",insetInlineStart:f?2:0,borderInlineStart:f?"2px solid ".concat(k):"none",borderBottomLeftRadius:"ltr"===w?!f&&v&&!b&&x!==t&&12:void 0,borderBottomRightRadius:"rtl"===w?!f&&v&&!b&&12:void 0}})]})}},45806:(e,t,a)=>{"use strict";a.d(t,{Zu:()=>n});let n=function(e){return e[e.pending=0]="pending",e[e.sending=1]="sending",e[e.editing=2]="editing",e}({})},46111:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o});var n=a(30038),i=a(70827);const r=(0,n.Z0)({name:"uninstallReducer",initialState:{uninstallForm:{uninstallReason:"",email:""}},reducers:{updateUninstallState:(e,t)=>{e.uninstallForm=(0,i.set)(e.uninstallForm,t.payload.path,t.payload.value)}}}),{updateUninstallState:s}=r.actions,o=r.reducer},46217:(e,t,a)=>{"use strict";a.d(t,{c:()=>O});var n=a(80045),i=a(64467),r=a(95093),s=a.n(r),o=a(87879);const l=new class{get isAvailable(){return"object"==typeof window&&!!window.$crisp}setUserIdentity(e){if(this.isAvailable&&e)try{e.email&&window.$crisp.push(["set","user:email",[e.email]]);const t=[e.firstName,e.lastName].filter(e=>e).join(" ");t&&window.$crisp.push(["set","user:nickname",[t]]),e.phone&&window.$crisp.push(["set","user:phone",[e.phone]]),this.setSessionData(e)}catch(e){}}updateSubscriptionInfo(e){if(this.isAvailable)try{const t=[];if(t.push(["subscription_plan",e.planName]),t.push(["subscription_duration",e.duration]),t.push(["subscription_credits",e.credits]),t.push(["subscription_amount","$".concat(e.planAmount.toFixed(2))]),t.push(["subscription_unit_price","$".concat(e.unitPrice.toFixed(2))]),t.push(["subscription_quantity",e.quantity.toString()]),t.push(["subscription_status",e.status]),e.nextBillingAt){const a=new Date(1e3*e.nextBillingAt).toLocaleDateString();t.push(["next_billing_date",a])}e.workspaceName&&t.push(["workspace_name",e.workspaceName]),t.length>0&&window.$crisp.push(["set","session:data",[t]])}catch(e){}}setSessionData(e){if(this.isAvailable)try{var t;const a=[];if(e._id&&a.push(["user_id",e._id]),null!==(t=e.analytics_data)&&void 0!==t&&t.mauticId&&a.push(["mautic_id",e.analytics_data.mauticId]),e.createdAt){const t="string"==typeof e.createdAt?new Date(e.createdAt).toLocaleDateString():e.createdAt.toString();a.push(["member_since",t])}a.length>0&&window.$crisp.push(["set","session:data",[a]])}catch(e){}}resetSession(){if(this.isAvailable)try{window.$crisp.push(["do","session:reset"])}catch(e){}}openChat(){if(this.isAvailable)try{window.$crisp.push(["do","chat:open"])}catch(e){}}closeChat(){if(this.isAvailable)try{window.$crisp.push(["do","chat:close"])}catch(e){}}sendMessage(e){if(this.isAvailable)try{window.$crisp.push(["do","message:send",["text",e]])}catch(e){}}showMessage(e){if(this.isAvailable)try{window.$crisp.push(["do","message:show",["text",e]])}catch(e){}}adjustPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:85;if(this.isAvailable)try{const t=document.getElementById("crisp-position-adjustment");t&&t.remove();const a=document.createElement("style");a.id="crisp-position-adjustment",a.textContent="\n        /* Target the specific crisp-chatbox element - more precise */\n        #crisp-chatbox {\n          transform: translateX(-".concat(e,"px) !important;\n          /* Transition is now global in CSS */\n        }\n        \n        /* Fallback: traditional positioning */\n        #crisp-chatbox {\n          right: ").concat(e,'px !important;\n        }\n        \n        /* Backup selectors for reliability */\n        .crisp-client #crisp-chatbox,\n        [id="crisp-chatbox"] {\n          transform: translateX(-').concat(e,"px) !important;\n        }\n      "),document.head.appendChild(a);const n=()=>{const t=document.getElementById("crisp-chatbox");t&&(t.style.transform="translateX(-".concat(e,"px)"));["#crisp-chatbox",".crisp-client",'[id*="crisp"]'].forEach(t=>{document.querySelectorAll(t).forEach(t=>{const a=t;("crisp-chatbox"===a.id||a.className.includes("crisp"))&&(a.style.transform="translateX(-".concat(e,"px)"))})})};n(),setTimeout(n,500),setTimeout(n,1500)}catch(e){}}resetPosition(){const e=document.getElementById("crisp-position-adjustment");e&&e.remove();const t=document.getElementById("crisp-chatbox");t&&(t.style.transform="")}addEventListener(e,t){if(this.isAvailable)try{window.$crisp.push(["on",e,t])}catch(e){}}removeEventListener(e){if(this.isAvailable)try{window.$crisp.push(["off",e])}catch(e){}}getUserEmail(){if(!this.isAvailable)return null;try{return window.$crisp.get("user:email")}catch(e){return null}}isChatOpened(){if(!this.isAvailable)return!1;try{return window.$crisp.is("chat:opened")}catch(e){return!1}}};var d=a(56568),c=a(82341),u=a.n(c);const p=new Set(["screenResolution","screenFrame","colorDepth","colorGamut","hdr","contrast","monochrome","reducedMotion","reducedTransparency","invertedColors","fontPreferences","canvas"]);async function m(e){const t=function(e){const t={};for(const[a,n]of Object.entries(e))if(!p.has(a))if(n&&"object"==typeof n)if(void 0!==n.value)t[a]={value:n.value};else{if(void 0===n.value&&void 0!==n.duration)continue;if(Object.keys(n).every(e=>"duration"===e||"error"===e))continue;t[a]=n}else t[a]=n;try{var a,n,i,r;const e=null===(a=t.webGlExtensions)||void 0===a||null===(a=a.value)||void 0===a?void 0:a.extensions;Array.isArray(e)&&(t.webGlExtensions.value.extensions=[...e].sort());const s=null===(n=t.plugins)||void 0===n?void 0:n.value;Array.isArray(s)&&(t.plugins.value=[...s].sort((e,t)=>JSON.stringify(e).localeCompare(JSON.stringify(t))));const o=null===(i=t.fonts)||void 0===i?void 0:i.value;Array.isArray(o)&&(t.fonts.value=[...o].sort());const l=null===(r=t.languages)||void 0===r?void 0:r.value;Array.isArray(l)&&(t.languages.value=l)}catch(e){}return t}(e.components),a=u()(t);if(!a)throw new Error("Failed to canonicalize fingerprint data");const n=await async function(e){const t=(new TextEncoder).encode(e),a=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(a)).map(e=>e.toString(16).padStart(2,"0")).join("")}(a);return{visitorId:n,deviceCoreId:n}}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}const y=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.A)(this,"fpPromise",null),(0,i.A)(this,"config",void 0),(0,i.A)(this,"cachedStableIds",null),this.config=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({delayFallback:50,debug:!1},e)}async initializeFingerprint(){return this.fpPromise||(this.fpPromise=d.Ay.load({delayFallback:this.config.delayFallback,debug:this.config.debug})),this.fpPromise}async getFingerprint(){try{var e;const t=await this.initializeFingerprint(),a=await t.get();return{visitorId:a.visitorId,requestId:a.requestId,confidence:(null===(e=a.confidence)||void 0===e?void 0:e.score)||0,timestamp:Date.now(),components:a.components||{}}}catch(e){throw new Error("Failed to get fingerprint: ".concat(e instanceof Error?e.message:"Unknown error"))}}isSupported(){try{return"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator}catch(e){return!1}}clearCache(){this.cachedStableIds=null}async getStableIds(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!e&&this.cachedStableIds)return this.cachedStableIds;const t=await this.getFingerprint(e),a={visitorId:t.visitorId,components:t.components},n=await m(a);return this.cachedStableIds=n,n}catch(e){throw new Error("Failed to get stable IDs: ".concat(e instanceof Error?e.message:"Unknown error"))}}};var h,v=a(35562);const f=(null===(h=a(65606).env.UUID_V5_NAMESPACE)||void 0===h?void 0:h.trim())||"7e01b7b5-9baf-4a5d-9e9e-63e0f3a9a111";async function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=function(){var e;if("undefined"!=typeof globalThis&&null!==(e=globalThis.crypto)&&void 0!==e&&e.subtle)return globalThis.crypto.subtle;try{{const{webcrypto:e}=a(91565);if(null!=e&&e.subtle)return e.subtle}}catch(e){}throw new Error("Web Crypto API not available. In Node, use Node >= 18 or enable global WebCrypto.")}(),i=(new TextEncoder).encode(t+e),r=await n.digest("SHA-256",i),s=new Uint8Array(r).slice(0,16);return s[6]=15&s[6]|64,s[8]=63&s[8]|128,function(e){const t=[...e].map(e=>e.toString(16).padStart(2,"0")).join("");return"".concat(t.slice(0,8),"-").concat(t.slice(8,12),"-").concat(t.slice(12,16),"-").concat(t.slice(16,20),"-").concat(t.slice(20))}(s)}const k=async e=>{if("undefined"!=typeof window&&0===window.location.host.indexOf("localhost"))return;const t="https://www.google-analytics.com/mp/collect?v=1&measurement_id=".concat("G-5HQG6JS4Y5","&api_secret=").concat("Xx9XgPP8STu_6L4jOa1gNw");fetch(t,{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then(e=>{}).catch(e=>{}),"gtag"in window&&"function"==typeof window.gtag&&window.gtag("event",e.events[0].name,{event_category:e.events[0].name,event_label:e.events[0].name,value:e.events[0].params.value})};var w=a(79613);class x{getUrlParams(){return"undefined"!=typeof window&&window.location?new URLSearchParams(window.location.search).toString():""}event(e){try{const t=this.getUrlParams(),a=t?"".concat(x.Endpoint,"/events?").concat(t):"".concat(x.Endpoint,"/events");fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{e.ok}).catch(e=>{})}catch(e){}}}(0,i.A)(x,"Endpoint",w.U.VZNLYTICS_ENDPOINT);var D=a(65606);const I=["label","value","category","action","email"];function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let S;class O{constructor(){return(0,i.A)(this,"cid",void 0),(0,i.A)(this,"stableVisitorId",void 0),(0,i.A)(this,"deviceCoreId",void 0),(0,i.A)(this,"userId",void 0),(0,i.A)(this,"fbqLoaded",void 0),(0,i.A)(this,"bizsdk",void 0),(0,i.A)(this,"bizsdkUserData",void 0),(0,i.A)(this,"vznLytics",new x),(0,i.A)(this,"user",void 0),(0,i.A)(this,"initPromise",void 0),(0,i.A)(this,"sessionID",void 0),(0,i.A)(this,"startTime",void 0),S||(S=this,S.sessionID=o.generate(16),S.startTime=s()(),S.initPromise=S.initializeIdentifiers()),S}get hasGTAG(){return"object"==typeof window&&window.gtag}get hasFBQ(){return"object"==typeof window&&window.fbq}defaultParams(){const e={engagement_time_msec:s()().diff(s()(this.startTime),"milliseconds"),session_id:this.sessionID,client_id:this.cid};return this.userId&&(e.user_id=this.userId),this.stableVisitorId&&(e.stable_visitor_id=this.stableVisitorId),this.deviceCoreId&&(e.device_core_id=this.deviceCoreId),this.deviceCoreId&&(e.fingerprint_id=this.deviceCoreId),e}async initializeIdentifiers(){await this.setStableIds(),await this.setUid()}isValidUUID(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[4-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}async setUid(){this.stableVisitorId?this.cid=this.stableVisitorId:this.cid=o.generate(12),this.hasGTAG&&this.cid&&window.gtag("config",D.env.REACT_APP_GA_ID||"G-RCEGPEQEZ5",{client_id:this.cid})}async setStableIds(){try{if(!y.isSupported())return;if(this.stableVisitorId&&this.deviceCoreId)return;const t=await y.getStableIds(e);this.stableVisitorId=t.visitorId,this.deviceCoreId=t.deviceCoreId}catch(e){}var e}identify(e,t){this.user=e,l.setUserIdentity(e),t&&t.length>0&&this.updateSubscriptionData(t)}updateSubscriptionData(e){var t;if(!e||0===e.length)return;const a=e.find(e=>"active"===e.status)||e[0];if(!a)return;const n=a.plan_id;let i=0,r=1,s=0;if("chargebee"===a.type&&a.plan){const e=a.plan;i=e.amount||0,r=e.quantity||1,s=e.unit_price||0}else i=a.amount||0,r=parseInt(a.quantity)||1,s=a.unit_price||0;const o=n.includes("Monthly")?"Monthly":n.includes("Yearly")?"Yearly":n.includes("Weekly")?"Weekly":"Unknown",d=a.entitlementList,c=null==d?void 0:d.find(e=>"credits"===e.feature_id),u=(null==c?void 0:c.value)||"0";l.updateSubscriptionInfo({planName:n,duration:o,credits:u,planAmount:i/100,unitPrice:s/100,quantity:r,status:a.status,nextBillingAt:a.next_billing_at||0,workspaceName:null===(t=a.workspace)||void 0===t?void 0:t.name})}setAuthenticatedUser(e,t){this.userId=e._id,this.hasGTAG&&window.gtag("config",D.env.REACT_APP_GA_ID||"G-RCEGPEQEZ5",{client_id:this.cid,user_id:e._id}),this.identify(e,t),this.event("login",{category:"engagement",action:"user-login",method:"authentication"})}clearUserIdentity(){this.userId=void 0,this.hasGTAG&&window.gtag("config",D.env.REACT_APP_GA_ID||"G-RCEGPEQEZ5",{client_id:this.cid,user_id:null}),delete this.user,l.resetSession()}trackEngagementScore(e,t){this.event("user_engagement_score",{category:"engagement",action:"engagement_score_calculated",value:e,engagement_score:e,frequency:t.frequency,feature_breadth:t.featureBreadth,recency:t.recency,is_monthly_active:t.monthlyActiveUser})}trackAccountHealth(e,t,a){this.event("account_health",T({category:"engagement",action:"account_health_assessed",value:e,health_score:e,risk_level:t},a))}async event(e,t){var a,i,r,s,o;const l=null!==(a=null==e?void 0:e.replace(/-/g,"_"))&&void 0!==a?a:"";if(this.hasGTAG){const e=JSON.parse(JSON.stringify(t));window.gtag("event",l,e)}else this.userId&&(await this.initPromise,k({client_id:this.cid,user_id:this.userId,events:[{name:l,params:T(T({},this.defaultParams()),t)}]}));this.hasFBQ&&window.fbq("track",e,t);const{label:d,value:c,category:u,action:p,email:m}=t,g=(0,n.A)(t,I);this.vznLytics.event({event_name:e,label:d,category:u,sub_category:p,value:c,email:m,data:g,entity_id:null===(i=this.user)||void 0===i?void 0:i._id,entity_type:"user",entity_display_name:[null===(r=this.user)||void 0===r?void 0:r.firstName,null===(s=this.user)||void 0===s?void 0:s.lastName].filter(e=>e).join(" "),analytics_data:null===(o=this.user)||void 0===o?void 0:o.analytics_data})}async transaction(e,t){var a,n,i,r;this.hasGTAG?window.gtag("event","purchase",Object.assign(e,{send_to:"all"})):this.userId&&(await this.initPromise,k({client_id:this.cid,user_id:this.userId,events:[{name:"purchase",params:T(T({},this.defaultParams()),e)}]})),this.hasFBQ&&window.fbq("track","Purchase",{value:e.value,currency:e.currency||"USD",content_ids:e.items.map(e=>e.item_id),content_type:"product"}),this.vznLytics.event({event_name:"transaction",category:"ecommerce",value:e.value,entity_id:null===(a=this.user)||void 0===a?void 0:a._id,entity_type:"user",entity_display_name:[null===(n=this.user)||void 0===n?void 0:n.firstName,null===(i=this.user)||void 0===i?void 0:i.lastName].filter(e=>e).join(" "),analytics_data:null===(r=this.user)||void 0===r?void 0:r.analytics_data})}async ecommerceEvent(e,t,a){var n,i,r,s;if(this.hasGTAG?window.gtag("event",e,T({currency:t.currency,value:t.value,items:t.items,coupon:t.coupon},a)):this.userId&&(await this.initPromise,k({client_id:this.cid,user_id:this.userId,events:[{name:e,params:T(T(T({},this.defaultParams()),t),a)}]})),this.hasFBQ){const a={view_item:"ViewContent",add_to_cart:"AddToCart",begin_checkout:"InitiateCheckout",purchase:"Purchase"}[e];a&&window.fbq("track",a,{value:t.value,currency:t.currency||"USD",content_ids:t.items.map(e=>e.item_id),content_type:"product"})}this.vznLytics.event({event_name:e,category:"ecommerce",value:t.value,entity_id:null===(n=this.user)||void 0===n?void 0:n._id,entity_type:"user",entity_display_name:[null===(i=this.user)||void 0===i?void 0:i.firstName,null===(r=this.user)||void 0===r?void 0:r.lastName].filter(e=>e).join(" "),analytics_data:null===(s=this.user)||void 0===s?void 0:s.analytics_data,data:T(T({},t),a)})}async getStableVisitorUuid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sha256";try{return this.stableVisitorId?await async function(e){var t,a;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=null!==(t=n.strategy)&&void 0!==t?t:"sha256",r=null!==(a=n.salt)&&void 0!==a?a:"",s=(null!=e?e:"").trim();if(!s)throw new Error("input required");return"v5"===i?(0,v.A)(r+s,f):b(s,r)}(this.stableVisitorId,{salt:e,strategy:t}):null}catch(e){return null}}getStableVisitorId(){return this.stableVisitorId}getDeviceCoreId(){return this.deviceCoreId}getUserId(){return this.userId}getClientId(){return this.cid}}},46228:(e,t,a)=>{"use strict";a.d(t,{x:()=>s});var n=a(86049);const i="attachment",r=e=>{const t=null==e?void 0:e.trim();return t&&t.length>0?t:void 0},s=e=>{var t;let{originalName:a,mimeType:s,fallbackBaseName:o=i}=e;const l=null!==(t=r(o))&&void 0!==t?t:i,d=r(a);let c=r(s);if(!c&&d){const e=n.lookup(d);"string"==typeof e&&(c=e)}const u=c&&"string"==typeof c?n.extension(c):void 0;let p=d;var m;return p?(m=p)&&/\.[^./\\]+$/.test(m)||!u||(p="".concat(p,".").concat(u)):p=u?"".concat(l,".").concat(u):l,{name:p,type:null!=c?c:void 0}}},46283:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>y,eN:()=>p});var n=a(79043),i=a(30038),r=a(1081),s=a(36596);const o=(0,i.Z0)({name:"extradata",initialState:{displayExtraDataOfTaskById:"",editModeByExtraDataId:null,showExtraData:!1,activeMenuId:"",imagePreview:{isActive:!1,imageURL:""},openMenuByExtraDataId:"",isEditorUploading:!1,isMentionsDialogOpen:!1,isNewSubItemDialog:""},reducers:{setShowExtraData(e,t){let{payload:a}=t;e.showExtraData=a},setActiveMenuId(e,t){let{payload:a}=t;e.activeMenuId=a},setExtraDataOfTaskId(e,t){let{payload:a}=t;e.displayExtraDataOfTaskById=a},previewPhoto(e,t){let{payload:a}=t;e.imagePreview=a},setOpenMenuByExtraDataId(e,t){e.openMenuByExtraDataId=t.payload},setEditModeByExtraDataId(e,t){e.editModeByExtraDataId=t.payload},setEditorUploading(e,t){e.isEditorUploading=t.payload},setIsMentionsDialogOpen(e,t){e.isMentionsDialogOpen=t.payload},setIsNewSubItemDialog(e,t){e.isNewSubItemDialog=t.payload}}}),{setShowExtraData:l,setOpenMenuByExtraDataId:d,setEditModeByExtraDataId:c,previewPhoto:u,setExtraDataOfTaskId:p,setIsMentionsDialogOpen:m,setIsNewSubItemDialog:g}=o.actions,y=(o.actions,o.reducer);(0,r.Mz)((e,t)=>({state:e,extraDataId:t}),e=>{let t=null;return t=s.rNd.selectById(e.state,e.extraDataId),t}),(0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{const a=e.UserReducer.userId,i=s.rNd.selectById(e,t),[r]=(0,s.WA)(e.DBWorkspaceUserReducer,{userId:i.owner}),[o]=(0,s.WA)(e.DBWorkspaceUserReducer,{userId:a});return n.Ym.indexOf(null==o?void 0:o.role)>=n.Ym.indexOf(null==r?void 0:r.role)})},46457:(e,t,a)=>{"use strict";a.d(t,{tF:()=>P,bD:()=>_,BY:()=>I,TE:()=>T});var n=a(64467),i=a(87951),r=a(1081),s=a(55693),o=a(36596),l=a(12239),d=a(38189),c=a(76114),u=a(95093),p=a.n(u),m=a(62243),g=a(71211);const y=e=>g.Bw.fromStr(e.locale("en").format("dd").toUpperCase());y(p()().day(0)),y(p()());const h=e=>(0,g.YI)(e,{forceset:!0});const v=(e,t)=>{if(!t.isRecurring)return null;if(!t.rruleset)return null;try{var a;const i=(n=t.rruleset,h(n)._rrule[0]),r=null==i||null===(a=i.options)||void 0===a||null===(a=a.dtstart)||void 0===a?void 0:a.getTimezoneOffset(),s=((e,t)=>{const a=e.getTimezoneOffset();if(void 0!==t&&a!==t){const n=t-a;return new Date(e.getTime()+60*n*1e3)}return e})(e.toDate(),r);let o=i.after(s);return o&&p().utc(o).isBefore(p().utc())&&(o=i.after(p().utc().toDate())),o?(o=((e,t)=>{const a=e.getTimezoneOffset();if(void 0!==t&&a!==t){const n=t-a;return new Date(e.getTime()-60*n*1e3)}return e})(o,r),p().utc(o)):null}catch(e){return null}var n};function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;if(0===e.length)return[];const a=[];let n=[e[0]];for(let i=1;i<e.length;i++){const r=e[i],s=n[n.length-1];p()(r.createdAt).valueOf()-p()(s.createdAt).valueOf()<=t?n.push(r):(a.push(n),n=[r])}return n.length>0&&a.push(n),a}function w(e){var t;return null!==(t=new Map([["played",0],["read",1],["confirmed",1.5],["delivered",2],["sent",3],["bt-sent",3],["pending",4],["before-wa-send",4],["failed",5],["error",5],["cancelled",5]]).get(e||""))&&void 0!==t?t:99}(0,r.Mz)([e=>e],e=>l.mB._id),(0,r.Mz)([e=>e],e=>{const t=(0,l.X_)(e);return null==t?void 0:t.hasBulk}),(0,r.Mz)([e=>e],e=>{const{contactListPanelState:t}=e.CampaignReducer;return null==t?void 0:t.getSelectedListId}),(0,r.Mz)([e=>e],e=>{const{templatePanelState:t}=e.CampaignReducer;return null==t?void 0:t.selectedTemplateId}),(0,r.Mz)([e=>e],e=>{var t;const a=null===(t=e.CampaignReducer.newCampaign)||void 0===t?void 0:t.boardIDArray;let n=[];for(let t of null!=a?a:[]){const a=(0,o.l_$)(e.DBTaskColumnReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],boardId:t},["type","title"],{order:1}).filter(e=>["number","link","text-cell","phone-cell","option-picker","complexity-picker","status-option-picker","datepicker"].includes(e.type));n=[...n,...a]}const i=new Set;let r=n.map(e=>{var t;return null!==(t=e.title)&&void 0!==t?t:e.type}).filter(e=>{const t=e.replace(/\s+/g,"").toLowerCase();return!i.has(t)&&(i.add(t),!0)});return r.unshift("Whatsapp name"),r});const x=(0,r.Mz)([e=>e],e=>{const t=(0,o.Ha2)(e.DBBoardsReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],type:"audience"},["_id","tasksCount"],{order:1});let a={};for(let e of t)a[e._id]=e.tasksCount;return a}),D=((0,r.Mz)([e=>e],e=>{const t=(0,o.Ha2)(e.DBBoardsReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],type:"audience"},["_id","name"],{order:1});let a={};for(let e of t)a=b(b({},a),{},{[e._id]:e.name});return a}),(0,r.Mz)([e=>e],e=>{var t,a;const n=e.CampaignReducer.newCampaign;return null!==(t=null==n||null===(a=n.boardIDArray)||void 0===a?void 0:a.length)&&void 0!==t?t:0}),(0,r.Mz)([e=>e],e=>{var t;const a=e.CampaignReducer.newCampaign;return null==a||null===(t=a.schedule)||void 0===t?void 0:t.dueDate}),(0,r.Mz)([e=>e.CampaignReducer.activeTab,e=>e.CampaignReducer.newCampaign,e=>e.CampaignReducer.currentTemplateDraft],(e,t,a)=>{var n,i,r;const s="messageAndFiles"===e?a:null==t?void 0:t.template;return(null==s?void 0:s.message)||(null==s||null===(n=s.linkPreview)||void 0===n?void 0:n.url)||(null==s||null===(i=s.linkPreview)||void 0===i?void 0:i.title)||(null==s||null===(r=s.linkPreview)||void 0===r?void 0:r.description)}),(0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{var a;const n=e.CampaignReducer.newCampaign;return(null!==(a=null==n?void 0:n.boardIDArray)&&void 0!==a?a:[]).includes(t)}),(0,r.Mz)([e=>e],e=>{const t=x(e),a=e.CampaignReducer.newCampaign;let n=0;for(let e of null!==(i=null==a?void 0:a.boardIDArray)&&void 0!==i?i:[]){var i;e&&(n+=t[e])}return 0===n}),(0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{const a=(0,d.Nn)(e),n=e.CampaignReducer.campaignIdForLogsView,i=Object.keys(a).filter(e=>{var n;return null===(n=a[e])||void 0===n||null===(n=n.name)||void 0===n||null===(n=n.toLowerCase())||void 0===n?void 0:n.includes(null==t?void 0:t.toLowerCase())});return(0,o.H5M)(e.DBMessageLogReducer,{campaignId:n},[],{order:1}).filter(e=>{var t,a;return(null==e||null===(t=e.message.contactList)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id)&&i.includes(null==e||null===(a=e.message.contactList)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.id)}).map(e=>e._id)}),(0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>{var a;const n=(0,o.H5M)(e.DBMessageLogReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],campaignId:t}),i=(0,o.YYK)(e.DBCampaignReducer,{_id:t}),r=null==n?void 0:n.length,s=null==n||null===(a=n.filter(e=>"sent"===e.status))||void 0===a?void 0:a.length;return"completed"===i.campaignStatus&&r===s}),(0,r.Mz)([e=>e.CampaignReducer.newCampaign],e=>{var t,a;return null!==(t=null==e||null===(a=e.boardIDArray)||void 0===a?void 0:a.length)&&void 0!==t?t:0})),I=((0,r.Mz)([D,e=>e.CampaignReducer.activeTab,e=>e.CampaignReducer.newCampaign,e=>e.CampaignReducer.currentTemplateDraft],(e,t,a,n)=>{var i,r,s,o,l,d;const c="messageAndFiles"===t?n:null==a?void 0:a.template,u=!(null!=c&&c.isPoll)&&((null==c?void 0:c.message)||(null==c||null===(i=c.linkPreview)||void 0===i?void 0:i.url)||(null==c||null===(r=c.linkPreview)||void 0===r?void 0:r.title)||(null==c||null===(s=c.linkPreview)||void 0===s?void 0:s.description)||(null==c||null===(o=c.asset)||void 0===o||null===(o=o.type)||void 0===o?void 0:o.includes("audio"))||(null==c||null===(l=c.asset)||void 0===l?void 0:l.url))||(null==c?void 0:c.isPoll)&&(null==c||null===(p=c.poll)||void 0===p||null===(p=p.question)||void 0===p?void 0:p.length)>0&&(null==c||null===(m=c.poll)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.length)>1&&(null==c||null===(g=c.poll)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.filter(e=>e.text.length>0).length)>1&&!function(){var e,t;const a=(null!==(e=null==c||null===(t=c.poll)||void 0===t?void 0:t.options)&&void 0!==e?e:[]).filter(e=>""!==e.text),n=[...new Set(a.map(e=>e.text))];return a.length!==n.length}();var p,m,g;const y=!(null==a||null===(d=a.schedule)||void 0===d||!d.dueDate);let h=!1;switch(t){case"audiences":h=!!e;break;case"messageAndFiles":h=u;break;case"timeAndDate":h=y}return h}),(0,r.Mz)([e=>e.CampaignReducer.newCampaign],e=>{var t,a;return(null==e||null===(t=e.schedule)||void 0===t?void 0:t.isNow)||(0,s.gw)(null===(a=e.schedule)||void 0===a?void 0:a.dueDate)}),(0,r.Mz)([e=>e.DBCampaignReducer],e=>{const t=(0,o.JjF)(e,{campaignStatus:{$in:["running","pending"]},contactCount:{$exists:!0}},[],{createdAt:-1}),a=p().utc();return t.filter(e=>{if("running"===e.campaignStatus)return!0;if("pending"===e.campaignStatus){var t;const n=null===(t=e.schedule)||void 0===t?void 0:t.dueDate;return!!n&&p().utc(n).isBefore(a)}return!1})})),A=((0,r.Mz)([I],e=>e.length>0),(0,r.Mz)([e=>e.DBMessageLogReducer,(e,t)=>t],(e,t)=>{const a=(0,o.H5M)(e,{campaignId:t,$or:[{waMessageKey:{$exists:!0}},{status:"cancelled"}]},[],{createdAt:-1}).reduce((e,t)=>{const a=O(t);return a?(e[a]&&void 0!==e[a].waMessageKey||(e[a]=t),e):e},{});return Object.values(null!=a?a:[])})),T=(0,r.Mz)([e=>e.DBUserMessageReducer,(e,t)=>t],(e,t)=>(0,o.jHc)(e,{campaignId:t},[],{createdAt:-1}).filter(e=>(0,s.s$)(e))),S=((0,r.Mz)([I,e=>e],(e,t)=>e.map(e=>{const a=A(t,e._id),n=T(t,e._id);return b(b({},e),{},{campaignMessageLogs:a,stuckMessages:n})})),new Date("2024-11-06T11:10:21.508271"),(0,i._)([(e,t)=>e.DBBoardsReducer,(e,t)=>e,(e,t)=>t],(e,t,a)=>{const n=(0,o.YYK)(t.DBCampaignReducer,{_id:a});if(n.contactCount)return n.contactCount;{const t=x({DBBoardsReducer:e});let a=0;for(let e of null!==(i=null==n?void 0:n.boardIDArray)&&void 0!==i?i:[]){var i,r;if(e)a+=null!==(r=t[e])&&void 0!==r?r:0}return a}}),(0,i._)([(e,t)=>t,(e,t)=>e],(e,t)=>(0,o.jHc)(t.DBUserMessageReducer,{campaignId:e,status:"pending"}).length),(0,i._)([(e,t)=>e.DBBoardsReducer,(e,t)=>t,(e,t)=>e],(e,t,a)=>{const n=(0,o.YYK)(a.DBCampaignReducer,{_id:t}),i=x({DBBoardsReducer:e});let r=0;for(let e of null!==(s=null==n?void 0:n.boardIDArray)&&void 0!==s?s:[]){var s,l;if(e)r+=null!==(l=i[e])&&void 0!==l?l:0}return r}),(0,i._)([e=>e],e=>{const t=(0,o.jHc)(e.DBUserMessageReducer,{status:"pending"}).filter(e=>e.campaignId).map(e=>e.campaignId);return[...new Set(t)]}),(0,r.Mz)([e=>e.DBMessageLogReducer,(e,t)=>t],(e,t)=>(0,o.H5M)(e,{campaignId:t},[],{createdAt:-1})));function O(e){var t;const a=null==e||null===(t=e.message)||void 0===t?void 0:t.contactList;return a&&0!==a.length?a.map(e=>e.id).filter(Boolean).join("-"):null}(0,r.Mz)([(e,t)=>t],e=>O(e));const C=(0,i._)([(e,t)=>e.DBMessageLogReducer,(e,t)=>t],(e,t)=>{const a={};return Object.values(e.entities).filter(e=>e.campaignId===t).forEach(e=>{const t=O(e);if(!t)return;const n=a[t],i=p()(e.createdAt),r=n?p()(n.createdAt):null;n&&!i.isAfter(r)||(a[t]=e)}),a}),M=((0,i._)([(e,t)=>t,(e,t)=>e],(e,t)=>{const a=C(t,e);return Object.values(a)}),(0,i._)([(e,t)=>e,(e,t)=>t],(e,t)=>{var a;const n=(0,o.H5M)(e.DBMessageLogReducer,{campaignId:t,status:"sent"}),i=n.reduce((e,t)=>(t.ack&&(e[t.messageId]=t),e),{}),r=n.filter(e=>!e.ack&&!i[e.messageId]);return null!==(a=null==r?void 0:r.length)&&void 0!==a?a:0}),(0,i._)([(e,t)=>e,(e,t)=>t],(e,t)=>{var a;const n=(0,o.H5M)(e.DBMessageLogReducer,{campaignId:t,status:"pending"}),i=n.reduce((e,t)=>(t.ack&&(e[t.messageId]=t),e),{}),r=n.filter(e=>!e.ack&&!i[e.messageId]);return null!==(a=null==r?void 0:r.length)&&void 0!==a?a:0}),(0,i._)([(e,t)=>e,(e,t)=>t],(e,t)=>{var a;const n=(0,o.H5M)(e.DBMessageLogReducer,{campaignId:t,status:"error"}),i=n.reduce((e,t)=>(t.ack&&(e[t.messageId]=t),e),{}),r=n.filter(e=>!e.ack&&!i[e.messageId]);return null!==(a=null==r?void 0:r.length)&&void 0!==a?a:0}),(0,r.Mz)([e=>e],e=>{const t=Object.values(e.DBUserMessageReducer.entities).filter(e=>!(0,o.qfk)(e._id)&&!e.deleted);return null!=t?t:[]})),B=(0,r.Mz)([e=>M(e)],e=>{let t=[];for(const a of e){const e="pending"===a.status||void 0===a.status,n=(0,s.s$)(a);e&&n&&t.push(a)}return t}),_=((0,r.Mz)([e=>e.DBCampaignLogReducer,(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>n,(e,t,a,n,i)=>i,(e,t,a,n,i,r)=>r],(e,t,a,n,i,r)=>{if(!t)return[];const s=(0,o.utb)(e,{owner:t},[],{createdAt:-1}).filter(e=>{if("all"!==n&&e.status!==n)return!1;if("all"!==i&&e.source!==i)return!1;if("all"!==r&&e.clientType!==r)return!1;if(a){var t,s;const n=a.toLowerCase(),i=(null===(t=e.metadata)||void 0===t||null===(t=t.logMessage)||void 0===t?void 0:t.toLowerCase())||"",r=(null===(s=e.status)||void 0===s?void 0:s.toLowerCase())||"",o=e.campaignId?String(e.campaignId).toLowerCase():"";return i.includes(n)||r.includes(n)||o.includes(n)}return!0}),l=new Map;return s.forEach(e=>{if(e.campaignId){const t=String(e.campaignId),a=l.get(t)||0,n=p()(e.createdAt).valueOf();n>a&&l.set(t,n)}}),Array.from(l.entries()).sort((e,t)=>t[1]-e[1]).map(e=>{let[t]=e;return t})}),(0,r.Mz)([e=>e.DBCampaignLogReducer,(e,t)=>t],(e,t)=>(0,o.utb)(e,{campaignId:t},[],{createdAt:-1})),(0,r.Mz)([e=>e.DBCampaignReducer,(e,t)=>t],(e,t)=>(0,o.YYK)(e,{_id:t})),(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>(0,o.jHc)(e.DBUserMessageReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],campaignId:t},null,{createdAt:-1}))),P=(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>B(e).filter(e=>e.campaignId===t)),R=(0,r.Mz)([e=>e.DBMessageLogReducer,(e,t)=>t,(e,t,a)=>a],(e,t,a)=>{const n=(0,o.H5M)(e,{owner:t||"",$or:[{deleted:{$exists:!1}},{deleted:!1}]},[],{createdAt:-1}).reduce((e,t)=>t.messageId?(e[t.messageId]||(e[t.messageId]=[]),e[t.messageId].push(t),e):e,{});return Object.entries(n).map(e=>{let[t,a]=e;const n=[...a].sort((e,t)=>p()(t.createdAt).valueOf()-p()(e.createdAt).valueOf())[0];return{messageId:t,latestStatus:n.status,hasError:a.some(e=>{var t;return e.error||"failed"===(null===(t=e.message)||void 0===t?void 0:t.status)}),logCount:a.length,latestUpdate:n.createdAt,logs:a}}).sort((e,t)=>p()(t.latestUpdate).valueOf()-p()(e.latestUpdate).valueOf()).flatMap(e=>{const t=e.logs.reduce((e,t)=>{const a=p()(t.createdAt),n=p()(e.createdAt);return a.isAfter(n)?t:e},e.logs[0]),n=k([...e.logs].sort((e,t)=>{const a=p()(e.createdAt).valueOf(),n=p()(t.createdAt).valueOf();if(a!==n)return a-n;const i=w(e.status);return w(t.status)-i}),1e4),i={id:e.messageId,messageId:e.messageId,message:t.message,latestStatus:e.latestStatus,hasError:e.hasError,logCount:e.logCount,latestUpdate:e.latestUpdate,isMainRow:!0,dueDate:t.message.dueDate,logs:n};if(a[e.messageId]){return[i,...[...(n||[]).flat()].sort((e,t)=>{const a=p()(e.createdAt).valueOf(),n=p()(t.createdAt).valueOf();if(a!==n)return n-a;return w(e.status)-w(t.status)}).map((t,a)=>({id:"".concat(e.messageId,"-").concat(a),messageId:"\u21b3 "+p()(t.createdAt).format("h:mm:ss A"),message:t.message,latestStatus:t.status,logCount:null,latestUpdate:t.createdAt,isMainRow:!1,dueDate:t.message.dueDate}))]}return[i]})}),E=(0,r.Mz)([e=>e.DBMessageLogReducer,(e,t)=>t],(e,t)=>{const a=(0,o.H5M)(e,{owner:t||"",$or:[{deleted:{$exists:!1}},{deleted:!1}]},[],{createdAt:-1}),n=new Set;a.forEach(e=>{e.messageId&&n.add(e.messageId)});return Array.from(n).map(e=>{const t=a.filter(t=>t.messageId===e),n=t.reduce((e,t)=>{const a=p()(t.createdAt),n=p()(e.createdAt);return a.isAfter(n)?t:e},t[0]);return{messageId:e,latestUpdate:p()(n.createdAt).valueOf()}}).sort((e,t)=>t.latestUpdate-e.latestUpdate).map(e=>e.messageId)}),j=((0,r.Mz)([e=>e.DBMessageLogReducer,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{const n=(0,o.H5M)(e,{campaignId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},[],{createdAt:-1}),i=new Set;return n.forEach(e=>{O(e)===a&&e.messageId&&i.add(e.messageId)}),Array.from(i)}),(0,r.Mz)([e=>e.DBMessageLogReducer,(e,t)=>Array.isArray(t)?t:[t]],(e,t)=>{if(!t||0===t.length)return[];const a={messageId:{$in:t},$or:[{deleted:{$exists:!1}},{deleted:!1}]},n=(0,o.H5M)(e,a,[],{createdAt:-1});if(0===n.length)return[];return k([...n].sort((e,t)=>{const a=p()(e.createdAt).valueOf(),n=p()(t.createdAt).valueOf();if(a!==n)return a-n;const i=w(e.status);return w(t.status)-i}),1e4)}),(0,r.Mz)([(e,t)=>E(e,t),e=>e.DBMessageLogReducer,(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>n,(e,t,a,n,i)=>i,(e,t,a,n,i,r)=>r],(e,t,a,n,i,r,s)=>{const l=(0,o.H5M)(t,{owner:a||"",$or:[{deleted:{$exists:!1}},{deleted:!1}]},[],{createdAt:-1}),d=new Map;l.forEach(e=>{e.messageId&&(d.has(e.messageId)||d.set(e.messageId,[]),d.get(e.messageId).push(e))});const c=n?n.toLowerCase():"",u="all"!==s?s.toLowerCase():null;return e.filter(e=>{const t=d.get(e);if(!t||0===t.length)return!1;const a=t.reduce((e,t)=>{const a=p()(t.createdAt),n=p()(e.createdAt);return a.isAfter(n)?t:e},t[0]),n=a.message,s=a.status;if(c){var o,l,m;const t=null==n||null===(o=n.message)||void 0===o?void 0:o.toLowerCase().includes(c),a=(null==n||null===(l=n.contactList)||void 0===l||null===(l=l[0])||void 0===l||null===(l=l.id)||void 0===l?void 0:l.toLowerCase().includes(c))||(null==n||null===(m=n.contactList)||void 0===m||null===(m=m[0])||void 0===m||null===(m=m.name)||void 0===m?void 0:m.toLowerCase().includes(c)),i=(e?String(e):"").toLowerCase().includes(c),r=(null!=n&&n.campaignId?String(n.campaignId):"").toLowerCase().includes(c);if(!(t||a||i||r))return!1}if("all"!==i)if("error"===i){if(!("error"===s||t.some(e=>{var t;return e.error||"failed"===(null===(t=e.message)||void 0===t?void 0:t.status)})))return!1}else if(s!==i)return!1;if("all"!==r){if(!t.some(e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.attemptType)===r}))return!1}if(u){if(!t.some(e=>{var t;return(null===(t=e.metadata)||void 0===t||null===(t=t.whatsappStatus)||void 0===t?void 0:t.toLowerCase())===u}))return!1}return!0})}),(0,r.Mz)([e=>e.DBMessageLogReducer,(e,t)=>Array.isArray(t)?t:[t]],(e,t)=>{var a;if(!t||0===t.length)return null;const n={messageId:{$in:t},$or:[{deleted:{$exists:!1}},{deleted:!1}]},i=(0,o.H5M)(e,n,[],{createdAt:-1});if(0===i.length)return null;const r=i.reduce((e,t)=>{const a=p()(t.createdAt),n=p()(e.createdAt);return a.isAfter(n)?t:e},i[0]),s=r.status,l=i.some(e=>{var t;return e.error||"failed"===(null===(t=e.message)||void 0===t?void 0:t.status)});return{messageId:Array.isArray(t)?r.messageId||t[0]:t,messageIds:t,message:r.message,latestStatus:s,hasError:l,logCount:i.length,latestUpdate:r.createdAt,dueDate:null===(a=r.message)||void 0===a?void 0:a.dueDate}})),L=((0,r.Mz)([(e,t)=>null==t?void 0:t.isRecurring,(e,t)=>null==t?void 0:t.rruleset,(e,t)=>null==t?void 0:t.dueDate,(e,t)=>t],(e,t,a,n)=>{if(!n)return null;if(!e||!t)return null;try{const e=(0,m.nV)(t).toText(),i=a?p()(a):p()(),r=v(i,n);return{recurrenceText:e,nextDueDate:r?r.local():null}}catch(e){return null}}),(0,r.Mz)([(e,t)=>j(e,t)],e=>{if(null==e||!e.message)return null;const t=e.message;if(!t.isRecurring||!t.rruleset)return null;try{const e=(0,m.nV)(t.rruleset).toText(),a=t.dueDate?p()(t.dueDate):p()(),n=v(a,t);return{recurrenceText:e,nextDueDate:n?n.local():null}}catch(e){return null}}),(0,r.Mz)([(e,t)=>e.DBUserMessageReducer,(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>n],(e,t,a,n)=>{const i={owner:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]};"all"!==n&&(i.status=n);const r=(0,o.jHc)(e,i,[],{dueDate:-1});if(!a)return r;const s=a.toLowerCase();return r.filter(e=>{var t,a,n;const i=null===(t=e.message)||void 0===t?void 0:t.toLowerCase().includes(s),r=null===(a=e.contactList)||void 0===a?void 0:a.some(e=>{var t,a;return(null===(t=e.id)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(s))}),o=null===(n=e._id)||void 0===n?void 0:n.toLowerCase().includes(s),l=!!e.campaignId&&String(e.campaignId).toLowerCase().includes(s);return i||r||o||l})}),(0,r.Mz)([(e,t)=>R(e,t,{}),(e,t,a)=>a,(e,t,a,n)=>n,(e,t,a,n,i)=>i,(e,t,a,n,i,r)=>r],(e,t,a,n,i)=>e.filter(e=>e.isMainRow).filter(e=>{if(t){var r,s,o,l,d;const a=t.toLowerCase(),n=null===(r=e.message)||void 0===r||null===(r=r.text)||void 0===r?void 0:r.toLowerCase().includes(a),i=(null===(s=e.message)||void 0===s||null===(s=s.contactList)||void 0===s||null===(s=s[0])||void 0===s||null===(s=s.id)||void 0===s?void 0:s.toLowerCase().includes(a))||(null===(o=e.message)||void 0===o||null===(o=o.contactList)||void 0===o||null===(o=o[0])||void 0===o||null===(o=o.name)||void 0===o?void 0:o.toLowerCase().includes(a)),c=null===(l=e.messageId)||void 0===l?void 0:l.toLowerCase().includes(a),u=null===(d=e.message)||void 0===d||null===(d=d.campaignId)||void 0===d?void 0:d.toLowerCase().includes(a);if(!(n||i||c||u))return!1}if("all"!==a)if("error"===a){var c;const t=(null===(c=e.logs)||void 0===c?void 0:c.flat())||[];if(!("error"===e.latestStatus||t.some(e=>{var t;return e.error||"failed"===(null===(t=e.message)||void 0===t?void 0:t.status)})))return!1}else if(e.latestStatus!==a)return!1;if("all"!==n&&e.logs){if(!e.logs.flat().some(e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.attemptType)===n}))return!1}if("all"!==i&&e.logs){if(!e.logs.flat().some(e=>{var t;return(null===(t=e.metadata)||void 0===t||null===(t=t.whatsappStatus)||void 0===t?void 0:t.toLowerCase())===i.toLowerCase()}))return!1}return!0})),1),N=2,F=3,z=3,U=((0,r.Mz)([(e,t)=>t],e=>{var t;if(!e)return[];const{ack:a,ackData:n,message:i}=e,r=[{status:"Created",timestamp:null==i||null===(t=i.createdAt)||void 0===t?void 0:t.toString(),color:"grey",order:L}];var s,o,l;n&&(n.delivery&&Array.isArray(n.delivery)&&r.push({status:"Delivered",color:"info",users:n.delivery,order:N}),null===(s=n.read)||void 0===s||!s.length||null!==(o=n.played)&&void 0!==o&&o.length||r.push({status:"Read",color:"success",users:n.read,order:F}),null!==(l=n.played)&&void 0!==l&&l.length&&r.push({status:"Interacted",color:"success",users:n.played,order:z}));return r.sort((e,t)=>e.order-t.order)}),(0,r.Mz)([e=>e.MessageInfoReducer,(e,t)=>t],(e,t)=>(null==e?void 0:e.messageInfoMap[t])||null),(0,r.Mz)([e=>e.MessageInfoReducer,(e,t)=>t],(e,t)=>{const a=null==e?void 0:e.messageInfoMap[t];return(null==a?void 0:a.data)||a||null}),(0,r.Mz)([e=>e.MessageInfoReducer,(e,t)=>t],(e,t)=>(null==e?void 0:e.loadingStates[t])||!1),(0,r.Mz)([e=>e.MessageInfoReducer,(e,t)=>t],(e,t)=>(null==e?void 0:e.errorStates[t])||null),(0,r.Mz)([(e,t,a)=>R(e,t,a),(e,t,a,n)=>n,(e,t,a,n,i)=>i],function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;const a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*t,n=a+t;return e.slice(a,n)}),(0,r.Mz)([e=>e.DBMessageLogReducer,(e,t)=>t],(e,t)=>{const a=S(e,t);return null==a?void 0:a.map(e=>({messageId:e.messageId,ackData:e.ackData}))}),(0,i._)([(e,t)=>e.DBMessageLogReducer,(e,t)=>e.DBCampaignReducer,(e,t)=>t],(e,t,a)=>{const n=(0,o.YYK)(t,{_id:a}),i=(0,o.H5M)(e,{campaignId:a}),r={};i.forEach(e=>{const t=O(e);t&&(r[t]||(r[t]=[]),r[t].push(e))});return Object.keys(r).reduce((e,t)=>{const a=r[t];let n=null,i=1/0;for(const e of a){const t=e.status;if(!t)continue;const a=w(t);a<i&&(i=a,n=t)}if(!n)return e;const s=b(b({},a.find(e=>e.status===n)||a[0]),{},{status:n}),o=c.M.determineEffectiveStatus(s);return e[c.M.mapStatusToUICategory(o)]++,e},{sent:0,delivered:0,read:0,played:0,failed:0,pending:0,total:(null==n?void 0:n.contactCount)||0})})),V=((0,r.Mz)([(e,t)=>U(e,t)],e=>e?{sending:e.sent+e.pending,delivered:e.delivered,read:e.read,interacted:e.played,failed:e.failed}:{sending:0,delivered:0,read:0,interacted:0,failed:0}),(0,i._)([(e,t)=>C(e,t),(e,t,a)=>a],(e,t)=>{const a=Object.values(e);return t?a.filter(e=>{const{ackData:a}=e,n=0===(null==a?void 0:a.deliveryRemaining)&&0===(null==a?void 0:a.readRemaining)&&0===(null==a?void 0:a.playedRemaining);switch(t){case"sent":return(null==a?void 0:a.deliveryRemaining)>0||n||"sent"===e.status&&!(null!=a&&a.deliveryRemaining)&&!(null!=a&&a.readRemaining)&&!(null!=a&&a.playedRemaining);case"delivered":return 0===(null==a?void 0:a.deliveryRemaining)&&0!==(null==a?void 0:a.readRemaining)&&0!==(null==a?void 0:a.playedRemaining);case"read":return 0===(null==a?void 0:a.readRemaining)&&!n;case"played":return 0===(null==a?void 0:a.playedRemaining)&&!n;case"failed":return"error"===e.status;default:return!0}}):a}),(0,r.Mz)([e=>e.CampaignReducer],e=>e.bulkLogsViewActiveTab),(0,r.Mz)([e=>e.CampaignReducer],e=>e.bulkLogsViewActiveFilter),(0,r.Mz)([e=>e.CampaignReducer],e=>e.bulkCampaignDialogSearchTerm)),W=(0,r.Mz)([e=>e.CampaignReducer],e=>e.bulkAudiencesListSearchTerm),Q=((0,r.Mz)([e=>e.CampaignReducer],e=>e.bulkTemplateDialogSearchTerm),(0,i._)([(e,t)=>C(e,t),e=>e.CampaignReducer.bulkLogsViewActiveFilter],(e,t)=>{const a=Object.values(e);return t?a.filter(e=>{const{ackData:a}=e,n=0===(null==a?void 0:a.deliveryRemaining)&&0===(null==a?void 0:a.readRemaining)&&0===(null==a?void 0:a.playedRemaining);switch(t){case"sent":return(null==a?void 0:a.deliveryRemaining)>0||n||"sent"===e.status&&!(null!=a&&a.deliveryRemaining)&&!(null!=a&&a.readRemaining)&&!(null!=a&&a.playedRemaining);case"delivered":return 0===(null==a?void 0:a.deliveryRemaining)&&0!==(null==a?void 0:a.readRemaining)&&0!==(null==a?void 0:a.playedRemaining);case"read":return 0===(null==a?void 0:a.readRemaining)&&!n;case"played":return 0===(null==a?void 0:a.playedRemaining)&&!n;case"failed":return"error"===e.status;default:return!0}}):a})),G=((0,r.Mz)([e=>e.DBCampaignReducer,V],(e,t)=>{if(!t)return[];return(0,o.JjF)(e,{$or:[{"template.name":{$regex:t,$options:"i"}},{"template.message":{$regex:t,$options:"i"}},{"template.poll.question":{$regex:t,$options:"i"}}]},[],{updatedAt:-1})}),(0,r.Mz)([e=>e.DBBoardsReducer,W],(e,t)=>{if(!t)return[];return(0,o.Ha2)(e,{name:{$regex:t,$options:"i"},type:"audience"},[],{updatedAt:-1})}),(0,r.Mz)([e=>e.DBMessageLogReducer,(e,t)=>t],(e,t)=>{if(!t)return null;const a=(0,o.H5M)(e,{messageId:t});if(!a||0===a.length)return null;let n=null,i=1/0;for(const e of a){const t=e.status;if(!t)continue;const a=w(t);a<i&&(i=a,n=t)}return n})),q=(0,r.Mz)([G],e=>{if(!e)return!1;return w(e)<=1.5}),H=(0,r.Mz)([q,(e,t)=>t],(e,t)=>!e&&!!t),K=(0,r.Mz)([(e,t)=>Q(e,t),e=>e],(e,t)=>e.filter(e=>{const a=null==e?void 0:e.messageId;return!!a&&H(t,a)}));(0,r.Mz)([K],e=>e.length>0)},46957:(e,t,a)=>{"use strict";a(96540),a(63210),a(64721),a(74848)},47037:(e,t,a)=>{"use strict";a.d(t,{NP:()=>u});const n=(0,a(30038).Z0)({name:"contactTableSlice",initialState:{filterValue:"",showSelected:!1,importedContactSnackbarOpen:!1},reducers:{updateSearchValue:(e,t)=>{e.filterValue=t.payload},updateActiveCell:(e,t)=>{e.activeCell=t.payload},clearActiveCell:e=>{delete e.activeCell},openImportedContactSnackbar:(e,t)=>{e.importedContactSnackbarOpen=!0},closeImportedContactSnackbar:(e,t)=>{e.importedContactSnackbarOpen=!1},setImportedContactSnackbarMessage:(e,t)=>{e.importedContactSnackbarMessage=t.payload},setShowSelected:(e,t)=>{e.showSelected=t.payload}}}),{updateSearchValue:i,clearActiveCell:r,updateActiveCell:s,openImportedContactSnackbar:o,closeImportedContactSnackbar:l,setImportedContactSnackbarMessage:d,setShowSelected:c}=n.actions,u=n.reducer;n.reducer},47283:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,g:()=>i});const n=(0,a(30038).Z0)({name:"AccessFormPopupSlice",initialState:{status:"Closed"},reducers:{setStatus:(e,t)=>{e.status=t.payload}}}),i=n.actions,r=n.reducer},47610:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,r:()=>i});const n=(0,a(30038).Z0)({name:"boards",initialState:{newWaBoardStatus:"",openMenuByBoardId:"",boardsFilterName:"",selectedBoardId:"",isShowAll:!1,boardEditModeByBoardId:"",isBoardNameEditting:!1,isBoardItemMenuOpen:!1,menuAnchorEl:null,boardTheme:"",isRenameBoard:!1},reducers:{setNewWaBoardStatus(e,t){e.newWaBoardStatus=t.payload},setOpenMenuByBoardId(e,t){e.openMenuByBoardId=t.payload},setBoardsFilterName(e,t){e.boardsFilterName=t.payload},privateSetSelectedBoardId(e,t){let{type:a,payload:n}=t;e.selectedBoardId=n},toggleShowAllElements(e,t){let{type:a,payload:n}=t;e.isShowAll=n},openBoardItemMenu(e,t){let{payload:a}=t;e.isBoardItemMenuOpen=a},setMenuAnchorEl(e,t){let{payload:a}=t;e.menuAnchorEl=a},setBoardEditModeByBoardId(e,t){let{payload:a}=t;e.boardEditModeByBoardId=a},setResizing(e,t){let{payload:a}=t;e.resizing=a},setBoardTheme(e,t){let{payload:a}=t;e.boardTheme=a},setRenameBoard(e,t){let{payload:a}=t;e.isRenameBoard=a}}}),i=n.actions,r=n.reducer},50123:(e,t,a)=>{"use strict";a(96540);a(74848)},51366:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={group_name_container:"group_header__group_name_container___iBJ1E",group_name_wrapper:"group_header__group_name_wrapper___iBJ1E",collapse_button:"group_header__collapse_button___iBJ1E",collapse_btn:"group_header__collapse_btn___iBJ1E",edit_group_name_button:"group_header__edit_group_name_button___iBJ1E",delete_group_button:"group_header__delete_group_button___iBJ1E",group_header_menu:"group_header__group_header_menu___iBJ1E",todoRow:"group_header__todoRow___iBJ1E",todoCell:"group_header__todoCell___iBJ1E",text:"group_header__text___iBJ1E",collapsed_item:"group_header__collapsed_item___iBJ1E",sort_flex_wrapper:"group_header__sort_flex_wrapper___iBJ1E",currentlyEditing:"group_header__currentlyEditing___iBJ1E",aside_btn:"group_header__aside_btn___iBJ1E",aside_btn_left:"group_header__aside_btn_left___iBJ1E",aside_btn_right:"group_header__aside_btn_right___iBJ1E",sortButton:"group_header__sortButton___iBJ1E",caretsWrap:"group_header__caretsWrap___iBJ1E",caretUp:"group_header__caretUp___iBJ1E",caretDown:"group_header__caretDown___iBJ1E",currentlySorted:"group_header__currentlySorted___iBJ1E"}},52223:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c});var n=a(30038),i=a(34675);const r={isLoading:!1,error:null,creditPackages:[],selectedPackageId:null,checkoutUrl:null},s=(0,n.Z0)({name:"creditPurchase",initialState:r,reducers:{setSelectedPackage:(e,t)=>{e.selectedPackageId=t.payload},clearCheckoutUrl:e=>{e.checkoutUrl=null},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(i.F.pending,e=>{e.isLoading=!0,e.error=null}),e.addCase(i.F.fulfilled,(e,t)=>{if(e.isLoading=!1,e.creditPackages=t.payload,0!==t.payload.length){if(t.payload.length>0){const a=t.payload.find(e=>200===e.credits),n=a?null:t.payload.find(e=>e.popular);a&&a.monthly?e.selectedPackageId=a.monthly.id:n&&n.monthly?e.selectedPackageId=n.monthly.id:t.payload[0].monthly&&(e.selectedPackageId=t.payload[0].monthly.id)}}else e.error="No credit packages are currently available. Please try again later or contact support."}),e.addCase(i.F.rejected,(e,t)=>{e.isLoading=!1,t.payload&&"string"==typeof t.payload?t.payload.includes("401")?e.error="Authentication error. Please log in again to continue.":t.payload.includes("404")?e.error="The credit packages API endpoint was not found. Please contact support.":t.payload.includes("500")?e.error="Server error while retrieving credit packages. Please try again later.":e.error=t.payload:e.error="Failed to fetch credit packages. Please check your network connection."}),e.addCase(i.$.pending,e=>{e.isLoading=!0,e.error=null,e.checkoutUrl=null}),e.addCase(i.$.fulfilled,(e,t)=>{e.isLoading=!1,e.checkoutUrl=t.payload.checkoutUrl}),e.addCase(i.$.rejected,(e,t)=>{e.isLoading=!1,t.payload&&"string"==typeof t.payload?t.payload.includes("401")?e.error="Authentication error. Please log in again to continue.":t.payload.includes("404")?e.error="The checkout API endpoint was not found. Please contact support.":t.payload.includes("500")?e.error="Server error while initiating checkout. Please try again later.":t.payload.includes("No checkout URL")?e.error="Unable to generate checkout URL. Please contact support.":e.error=t.payload:e.error="Failed to initiate checkout. Please try again later."})}}),{setSelectedPackage:o,clearCheckoutUrl:l,clearError:d}=s.actions,c=s.reducer},52460:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var n=a(64467),i=a(90253),r=a(88275),s=a(1422),o=a(6889),l=a(44010),d=a(87435),c=a(29780),u=a(47839),p=a(28161),m=a(96540),g=a(74848);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const v=(0,m.memo)(e=>{let{contactId:t,size:a=55,textSize:n=16,sx:y,profilePicURL:v,dontFetchProfilePicFromDB:f=!1,avatarStyle:b}=e;const k=(0,l.jL)(),w=(0,l.GV)((0,m.useMemo)(()=>e=>({name:(0,o.Ch)(e,t),profilePic:(0,o.gA)(e,t),btProfilePic:e.CalendarReducer.contactPicMap[t],isGroup:(0,o.Ef)(t)}),[t])),x=(0,m.useCallback)(()=>{if(void 0!==w.profilePic||void 0!==v||f)return;const e=setTimeout(()=>{(0,d.B2)()&&k((0,c.ZX)(t))},200);return()=>clearTimeout(e)},[w.profilePic,v,f,k,t]);(0,m.useEffect)(()=>{x()},[x]);const D=(0,m.useMemo)(()=>null!=v?v:w.profilePic,[w.profilePic,v]),I=(0,m.useMemo)(()=>D?(0,g.jsx)(s.A,{textSize:n,size:a,profileImg:D,bgcolor:"var(--color-surface-muted)",avatarStyle:b}):w.isGroup?(0,g.jsx)(i.ReactComponent,{height:a,width:a}):(0,g.jsx)(r.ReactComponent,{height:a,width:a}),[D,w.isGroup,a,n]);return(0,g.jsx)(u.A,{title:w.name,children:(0,g.jsx)(p.A,{sx:h({display:"flex",justifyContent:"center",alignItems:"center"},y),children:I})})});v.displayName="ContactAvatar";const f=v},52595:(e,t,a)=>{"use strict";a.d(t,{xD:()=>s});var n=a(95093),i=a.n(n);const r=e=>{const t=i().utc(e.dueDate);let a;return a=e.retryLimitDuration&&e.retryLimitUnit?t.add(e.retryLimitDuration,e.retryLimitUnit):t.add(30,"minutes"),a},s=e=>{const t=i().utc();if(e.campaignId)return!0;if(!e.dueDate)return!1;const a=i().utc(e.dueDate),n=r(e);let s;return s=t.isBetween(a,n,null,"[]"),s}},52597:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>v,TP:()=>y,en:()=>h,ri:()=>g});var n=a(30038),i=a(1081),r=a(87435),s=a(46880),o=a.n(s),l=a(36596),d=a(12142);const c=(0,n.Z0)({name:"connectedEngines",initialState:{sockets:[]},reducers:{updateConnectedSockets:(e,t)=>{e.sockets=t.payload},upsertClient:(e,t)=>{const a=e.sockets.findIndex(e=>e.id===t.payload.id);-1!==a?e.sockets[a]=t.payload:e.sockets.push(t.payload)},removeClient:(e,t)=>{e.sockets=e.sockets.filter(e=>e.id!==t.payload.clientId)}}});let u=null,p=null;const m=e=>{0;const t=e.ConnectedEnginesReducer,a=(null==t?void 0:t.sockets)||[];return p!==t&&(p=t,u=a),u||a};(0,i.Mz)([m],e=>e.filter(e=>!!e&&(!!(e.domain&&e.connectedFrom&&e.browserType)&&["WhatsApp Web","Gateway","Website"].includes(e.browserType))));const{updateConnectedSockets:g,upsertClient:y,removeClient:h}=c.actions,v=c.reducer;(e=>{0;(0,i.Mz)([m,e=>{var t;return null===(t=e.NotifierReducer)||void 0===t?void 0:t.connectionStatus},e=>(0,l.JGD)(e.DBSessionReducer||{},{status:{$in:["connected","qrcode","unpaired","syncing"]}})],(t,a,n)=>{var i;0;const s=a===d.P.AUTHENTICATED,l="web.whatsapp.com"===e,c=t.filter(e=>!!e&&(!!(e.domain&&e.connectedFrom&&e.browserType)&&["WhatsApp Web","Gateway","Website"].includes(e.browserType))),u=(0,r.B2)()?{id:"current-extension",device:"Desktop",browserType:o().getParser(window.navigator.userAgent).getBrowser().name||"Unknown",connectionTime:(new Date).toISOString(),connectedFrom:"webapp",domain:"web.whatsapp.com"===e?"web.whatsapp.com":"website"}:null,p=[...u?[u]:[],...c,...n?[{id:n._id,type:"whatsapp",name:"WhatsApp Server",domain:"gateway",connectionTime:(null===(i=n.updatedAt)||void 0===i?void 0:i.toString())||(new Date).toString()}]:[]],m=null!==n||p.some(e=>"browserType"in e&&"Gateway"===e.browserType||"type"in e&&"whatsapp"===e.type),g="connected"===(null==n?void 0:n.status),y="qrcode"===(null==n?void 0:n.status),h=n&&["unpaired","syncing","initializing","browser_started","navigating"].includes(n.status||""),v=l||p.some(e=>"browserType"in e&&"WhatsApp Web"===e.browserType),f=null!==u||p.some(e=>"browserType"in e&&["WhatsApp Web","Website"].includes(e.browserType));let b;b=s?g?{color:"#22c55e",text:"WhatsApp Ready (Offline OK)",alert:null}:y?{color:"#f97316",text:"Scan QR Code to Connect",alert:{type:"warning",message:"WhatsApp gateway is ready but needs QR code scan to complete setup."}}:h?{color:"#f97316",text:"WhatsApp Gateway Starting...",alert:{type:"warning",message:"WhatsApp gateway is starting up. Please wait a moment."}}:v||l?{color:"#f97316",text:"WhatsApp Web Only",alert:{type:"warning",message:"Keep WhatsApp Web open in your browser for messages to be sent."}}:{color:"#ef4444",text:"No WhatsApp Connected",alert:{type:"error",message:"Messages cannot be sent. Connect WhatsApp to enable message delivery."}}:{color:"#ef4444",text:"Not Connected",alert:{type:"error",message:"The notification service is not connected. Messages may not be delivered."}};return{engines:p,status:b,hasGateway:m,hasBrowser:f,isNotifierConnected:s}})})("undefined"!=typeof window?window.location.hostname:"")},52761:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n="#00C875"},54064:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,n:()=>i});const n=(0,a(30038).Z0)({name:"importItemSlice",initialState:{importFileName:"",workSheetName:"",importJsonData:[],selectedColumn:"",step:0,newGroupName:"",selectedImportType:"default-create-new-group",selectedGroup:{},importDataMapping:{},newColumnList:[],newAudienceName:null},reducers:{setImportProps(e,t){let{payload:a}=t;e.importFileName=a.importFileName,e.workSheetName=a.workSheetName,e.importJsonData=a.importJsonData,e.file=a.file},setGoogleSheetsImportProps(e,t){let{payload:a}=t;e.importFileName=a.importFileName,e.workSheetName=a.workSheetName,e.importJsonData=a.importJsonData},setImportJsonData(e,t){let{payload:a}=t;e.importJsonData=a},setSelectedColumn(e,t){let{payload:a}=t;e.selectedColumn=a},setStep(e,t){let{payload:a}=t;e.step=a},setNewGroupName(e,t){let{payload:a}=t;e.newGroupName=a},setImportType(e,t){let{payload:a}=t;e.selectedImportType=a},selectGroup(e,t){let{payload:a}=t;e.selectedGroup=a},setImportDataMapping(e,t){let{payload:a}=t;e.importDataMapping=a},setImportInProgress(e,t){let{payload:a}=t;e.importInProgress=a},resetImport(e){e.step=0,e.importFileName="",e.selectedColumn="",e.workSheetName="",e.newGroupName="",e.selectedGroup={},e.selectedImportType="default-create-new-group",e.importJsonData=[],e.newColumnList=[],delete e.importInProgress},setNewColumnList(e,t){let{payload:a}=t;e.newColumnList=a},setNewAudienceName(e,t){let{payload:a}=t;e.newAudienceName=a}}}),i=n.actions,r=n.reducer},54785:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={DEFAULT_TITLE:"Blueticks",asset_key:"blueticks",pricingOptions:"extension",google_client_id:"143723739146-oa75527ckplc3kb9nk8q41redtoq6t18.apps.googleusercontent.com",GTM_ID:"GTM-NGKDFBM",GA_ID:"G-RCEGPEQEZ5",CLARITY_ID:"",TIKTOK_ID:"",FB_PIXEL_ID:"",AW_ID:"AW-591909474",WS_ID:"G-8YP76PWS2J",HJ_ID:2742843,HJ_SV:6,ENV:"support",isProd:!0,EXTENTION_ID:"adgnjhngogijkkppficiiepmjebijinl",GATEWAY_ENDPOINT:"https://gateway.blueticks.co",NOTIFIER_ENDPOINT:"https://notify.blueticks.co",VZNLYTICS_ENDPOINT:"https://analytics.blueticks.co",API_ENDPOINT:"https://blueticks-prod-support-47be297e238b.herokuapp.com/",PRICING_PAGE:"https://blueticks-support.netlify.app",APP_ENDPOINT:"https://blueticks-support.netlify.app",HOMEPAGE:"https://blueticks.co",LOGO:"/img/tudu-logo.svg",LOGO2:"/img/tudo-logo-icon.svg",PAYPAL_CLIENT_ID:"AafpAM2aA4Lqus7h_iAa2szoitZM7-hkyZaU5jjYOtv-KqcuZCpFFlpbluVp4_F-6fQhcIui7AWZs9Ah",BLUESNAP_ENDPOINT:"https://bluesnap.com",BLUESNAP_STORE_ID:"648495",BLUESNAP_REDIRECT_ENC:"y3BO7mSu04vXEh55QSFI51vnnO%2FrL2uZ10%2FPUF2Fh8urn%2BFdpIn4tyxpPqhcCnm%2BVOdueGkdnZpbpSjw%2Fj215nog250lMwUyqKry1OkfDap8daL1Nxv4dJeDeSXd9Ai6vUKYhCKeZaQ%2ByyfLkDPwJwlx1BGnPQYlRYkYiZBknRcVCl6kAgHv5ZTKEc3YMGPO4kc9iJJQnqXsotsbI3Z5jgJ5rXvslcQJXPihvCycO2%2FJfYH%2F2cr5s6ZLhSZZZaZY",extensionStoreLink:"https://chrome.google.com/webstore/detail/blueticks/adgnjhngogijkkppficiiepmjebijinl"}},55250:(e,t,a)=>{"use strict";a.d(t,{HZ:()=>d,Uv:()=>o});var n=a(64467),i=a(46217);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let o=function(e){return e.ScheduleMessage="schedule_message",e.CancelScheduledMessage="cancel_scheduled_message",e.UpdateScheduledMessage="update_scheduled_message",e.SendMessage="send_message",e.OpenScheduleDialog="open_schedule_dialog",e.ViewMessageStatus="view_message_status",e.EditMessage="edit_message",e.RemoveMessage="remove_message",e.CreateCampaign="create_campaign",e.LaunchCampaign="launch_campaign",e.CancelCampaign="cancel_campaign",e.UpdateCampaign="update_campaign",e.CreateTemplate="create_template",e.UseTemplate="use_template",e.CreateTask="create_task",e.CompleteTask="complete_task",e.UpdateTask="update_task",e.CreateBoard="create_new_board",e.CreateTaskGroup="create_new_group",e.FirstScheduleCreated="first_schedule_created",e.FirstCampaignCreated="first_campaign_created",e.FirstTaskCreated="first_task_created",e.LoginSuccess="login_success",e.LoginFailed="login_failed",e.UserOnboarding="user_onboarding",e.FeatureDiscovery="feature_discovery",e.ExtensionInstall="install_extension",e.ExtensionUpdate="update_extension",e.ExtensionUninstall="uninstall_extension",e}({});const l=new i.c,d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.event(e,s({category:"product_engagement"},t))}},55693:(e,t,a)=>{"use strict";a.d(t,{$7:()=>c,BR:()=>o,cM:()=>d,gw:()=>l,s$:()=>u,wp:()=>p});a(79613);var n=a(71083),i=a(95093),r=a.n(i),s=(a(96540),a(71301),a(87435),a(52595));a(49171).URL;async function o(e,t){await(0,n.A)({method:"PUT",url:t,data:e,headers:{"Content-Type":e.type}})}const l=e=>{const t=r().utc(e),a=r().utc();return t.isAfter(a)},d=()=>{var e;return Array.from(null===(e=document.querySelector("footer [contenteditable]"))||void 0===e?void 0:e.querySelectorAll("p")).map(e=>e.textContent).join("\r\n")},c=()=>"BotElementId"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),u=e=>r().utc(e.dueDate).isBefore(r().utc())&&!(0,s.xD)(e);function p(e){const t=document.body;e?(t.classList.add("dark"),t.classList.remove("light")):(t.classList.remove("dark"),t.classList.add("light"))}},55789:(e,t,a)=>{"use strict";a.d(t,{M5:()=>B,Pm:()=>C,Rx:()=>O,mB:()=>T,nI:()=>S,tb:()=>M});var n=a(64467),i=a(46217),r=a(55250),s=a(30038),o=a(36596),l=a(95093),d=a.n(l),c=a(74555),u=a.n(c),p=a(92032),m=a(47610),g=a(97424),y=a(42001),h=a(4855),v=a(2372),f=a(46457),b=a(12239),k=a(43272),w=a(81303),x=a(87435);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const A=(e,t,a,n,i,r,s,o)=>e.map((e,l)=>{var d,c,u;const{firstName:p,lastName:m}=(e=>{let t="",a="";if(null!=e&&e.name){const n=null==e?void 0:e.name.split(" ");t=n[0]||"",a=n.slice(1).join(" ")||""}if((null==e||!e.name)&&null!=e&&e.verifiedName){const n=null==e?void 0:e.verifiedName.split(" ");t=n[0]||"",a=n.slice(1).join(" ")||""}return null!=e&&e.firstName&&(t=null==e?void 0:e.firstName),null!=e&&e.lastName&&(a=null==e?void 0:e.lastName),{firstName:t,lastName:a}})(e),g=null==e||null===(d=e.whatsappId)||void 0===d?void 0:d.includes("@g"),y=null==e?void 0:e.whatsappId,h=null!==(c=null!==(u=null==e?void 0:e.displayName)&&void 0!==u?u:null==e?void 0:e.name)&&void 0!==c?c:"".concat(p," ").concat(m);let v={[null==i?void 0:i._id]:{value:y}};return o?(o["First name"]&&(v[o["First name"]]={value:g?h:p}),o["Last name"]&&(v[o["Last name"]]={value:g?"":m})):(v[null==r?void 0:r._id]={value:g?h:p},v[null==s?void 0:s._id]={value:g?"":m}),{owner:t,boardId:a,groupId:n,text:h,customData:v,order:l}}),T=(0,s.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{displayName:a,waContactList:n}=e,i=t.getState(),r=(0,b.B$)(i),s=t.dispatch,l=(0,b.mB)(i),d=(await s(o.DBBoardsThunks.create({name:a,workspaceId:null==l?void 0:l.currentWorkspace.toString(),type:"audience",owner:r}))).payload,c=(await s(o.bSE.create({boardId:d._id,name:"Audience",owner:r,createdBy:r,colorAccent:u()(),order:0}))).payload,p=(await s(o.nxM.create({boardId:d._id,type:"whatsapp-id-cell",title:"Contact",order:1}))).payload,m=(await s(o.nxM.create({boardId:d._id,type:"text-cell",title:"First Name",order:2}))).payload,g=(await s(o.nxM.create({boardId:d._id,type:"text-cell",title:"Last Name",order:3}))).payload,y=A(n,r,d._id,c._id,p,m,g);return await s(o.urn.createMany(y)),d._id}),S=(0,s.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{waContactList:a}=e,n=t.getState(),i=(0,b.B$)(n),r=t.dispatch,s=(0,g.Wu)(n),l=(await r(o.bSE.create({boardId:s._id,name:"Whatsapp Audience",owner:i,createdBy:i,colorAccent:u()(),order:0}))).payload,d=(0,o.l_$)(n.DBTaskColumnReducer,{boardId:s._id}),c=d.find(e=>"whatsapp-id-cell"===e.type),p=d.find(e=>e.title.toLowerCase().includes("first")),m=d.find(e=>e.title.toLowerCase().includes("last")),y=A(a,i,s._id,l._id,c,p,m);return await r(o.urn.createMany(y)),s._id}),O=(0,s.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{waContactList:a,importDataMapping:n}=e,i=t.getState(),r=(0,b.B$)(i),s=t.dispatch,l=(0,g.Wu)(i),d=(await s(o.bSE.create({boardId:l._id,name:"Whatsapp Audience",owner:r,createdBy:r,colorAccent:u()(),order:0}))).payload,c=(0,o.l_$)(i.DBTaskColumnReducer,{boardId:l._id}).find(e=>"whatsapp-id-cell"===e.type),p=A(a,r,l._id,d._id,c,null,null,n);return await s(o.urn.createMany(p)),l._id}),C=(0,s.zD)("campaigns/getBoardEntitiesForImportModal",async(e,t)=>{var a,n,i,r;const{displayName:s}=e,l=t.getState(),d=(0,b.B$)(l),c=t.dispatch,u=(0,b.mB)(l),p=await c(o.DBBoardsThunks.create({name:s,workspaceId:null==u?void 0:u.currentWorkspace.toString(),type:"audience",owner:d})).unwrap(),m=await c(o.nxM.create({boardId:p._id,type:"text-cell",title:"First Name"})).unwrap(),g=await c(o.nxM.create({boardId:p._id,type:"text-cell",title:"Last Name"})).unwrap(),y=await c(o.nxM.create({boardId:p._id,type:"whatsapp-id-cell",title:"Contact"})).unwrap();return[null!==(a=p._id.toString())&&void 0!==a?a:"",null!==(n=m._id.toString())&&void 0!==n?n:"",null!==(i=g._id.toString())&&void 0!==i?i:"",null!==(r=y._id.toString())&&void 0!==r?r:""]}),M=((0,s.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{oldTemplateId:a}=e,n=t.dispatch;await n(p.aNY.initiate(a))}),(0,s.zD)("tasks/updateCellValueThunk",async(e,t)=>{const{boardId:a}=e,n=t.dispatch,i=t.getState(),r=i.ImportItemsReducer.importDataMapping,s=i.ImportItemsReducer.newColumnList.filter(e=>Object.values(r).includes(e._id)).map(e=>I(I({},e),{},{excelColumn:Object.keys(r).find(t=>r[t]===e._id)}));if(0!==s.length){let e={};for(let t of s){const i=await n(o.nxM.create({boardId:a,type:t.type,title:t.title})).unwrap();e[t._id]={_id:i._id,excelColumn:t.excelColumn}}return e}})),B=((0,s.zD)("campaigns/toggleAudienceCheckboxThunk",async(e,t)=>{var a;let{boardId:n}=e;const i=t.dispatch,r=t.getState().CampaignReducer.newCampaign;let s=[];var o,l,d;(null==r||null===(a=r.boardIDArray)||void 0===a?void 0:a.includes(n))?s=null!==(o=null==r||null===(l=r.boardIDArray)||void 0===l?void 0:l.filter(e=>e!==n))&&void 0!==o?o:[]:s=[...null!==(d=null==r?void 0:r.boardIDArray)&&void 0!==d?d:[],n];i((0,h.Dx)(I(I({},r),{},{boardIDArray:s})))}),(0,s.zD)("campaigns/handleActiveBulkViewNavigationThunk",async(e,t)=>{const{navigate:a,boardId:n}=e,r=new i.c,s=t.dispatch,o=t.getState().CampaignReducer.activeBulkView;"toNewAudience"===a&&(r.event("bulk_dashboard_tab_change",{category:"bulk",action:"newAudience"}),"campaignManagementView"===o?(s((0,h.YF)("audiences")),s((0,h.Ep)("campaignNewAudienceFromManagementView"))):s((0,h.Ep)("campaignNewAudienceFromNewCampaignView"))),"fromNewAudience"===a&&s("campaignNewAudienceFromManagementView"===o?(0,h.Ep)("campaignManagementView"):(0,h.Ep)("newCampaignView")),"toCampaignBoardView"===a&&(s("campaignManagementView"===o?(0,h.Ep)("campaignBoardFromManagementView"):(0,h.Ep)("campaignBoardFromNewCampaignView")),s((0,y.J5)({boardId:n}))),"fromCampaignBoardView"===a&&(await s(m.r.privateSetSelectedBoardId(void 0)),s("campaignBoardFromManagementView"===o?(0,h.Ep)("campaignManagementView"):(0,h.Ep)("newCampaignView"))),"toNewTemplate"===a&&s("campaignManagementView"===o?(0,h.Ep)("campaignNewTemplateViewFromManagement"):(0,h.Ep)("campaignNewTemplateViewFromNewCampaignView")),"fromNewTemplate"===a&&("campaignNewTemplateViewFromManagement"===o?s((0,h.Ep)("campaignManagementView")):(s((0,h.YF)("audiences")),s((0,h.Ep)("newCampaignView"))))}),(0,s.zD)("campaigns/handleTimeAndDateTabOnChangeEventThunk",async(e,t)=>{const{changeType:a,changeObject:n}=e,i=t.dispatch,r=t.getState().CampaignReducer.newCampaign;var s,o;("setScheduleDueDate"===a&&i((0,h.Dx)(I(I({},r),{},{schedule:I(I({},null==r?void 0:r.schedule),{},{dueDate:n})}))),"setScheduleDueDateToNow"===a&&i((0,h.Dx)(I(I({},r),{},{schedule:I(I({},null==r?void 0:r.schedule),{},{dueDate:n,isNow:!0})}))),"setScheduleDueDateToNotNow"===a&&i((0,h.Dx)(I(I({},r),{},{schedule:I(I({},null==r?void 0:r.schedule),n)}))),"setNewCampaignTiming"===a&&i((0,h.Dx)(I(I({},r),{},{timing:I(I({},r.timing),n)}))),"setNewCampaignTimingAutomaticTiming"===a)&&i((0,h.Dx)(I(I({},r),{},{timing:I(I({},r.timing),{},{automaticTiming:I(I({},null===(s=r.timing)||void 0===s?void 0:s.automaticTiming),n)})})));"setNewCampaignTimingSendInterval"===a&&i((0,h.Dx)(I(I({},r),{},{timing:I(I({},r.timing),{},{sendInterval:I(I({},null===(o=r.timing)||void 0===o?void 0:o.sendInterval),n)})})))}),(0,s.zD)("campaigns/launchCampaignThunk",async(e,t)=>{var a,n,s,l,c,u,p,m,g,y,v,f,b,k,D;const A=t.dispatch,T=t.getState().CampaignReducer.newCampaign;A((0,h.Wx)(!0)),(0,r.HZ)(r.Uv.LaunchCampaign,{category:"campaign",action:"launch_campaign",campaign_name:T.name,board_count:(null===(a=T.boardIDArray)||void 0===a?void 0:a.length)||0,has_timing:!!T.timing,template_type:null===(n=T.template)||void 0===n?void 0:n.type});let S,O;(new i.c).event("first_action",{category:"firstAction",action:"first action"});try{const e=w.MQTTSubscriber.getInstance();S=e.getCurrentClientId()||void 0;const t=e.getCurrentClientType()||(0,x.yS)();O=t||void 0}catch(e){try{const e=(0,x.yS)();O=e||void 0}catch(e){}}const C=I(I({},T),{},{template:I(I({},null==T?void 0:T.template),{},{message:null!=T&&null!==(s=T.template)&&void 0!==s&&null!==(s=s.asset)&&void 0!==s&&null!==(s=s.type)&&void 0!==s&&s.includes("audio")?"":null!==(l=null==T||null===(c=T.template)||void 0===c?void 0:c.message)&&void 0!==l?l:""}),campaignStatus:"pending",schedule:I(I({},T.schedule),{},{dueDate:null!==(u=T.schedule)&&void 0!==u&&u.isNow?d().utc().toISOString():null===(p=T.schedule)||void 0===p?void 0:p.dueDate}),timing:I(I({},T.timing),{},{startTime:{hour:d()().set({hour:null!==(m=null==T||null===(g=T.timing)||void 0===g||null===(g=g.startTime)||void 0===g?void 0:g.hour)&&void 0!==m?m:0}).utc().hour(),minute:d()().set({minute:null!==(y=null==T||null===(v=T.timing)||void 0===v||null===(v=v.startTime)||void 0===v?void 0:v.minute)&&void 0!==y?y:0}).utc().minute()},endTime:{hour:d()().set({hour:null!==(f=null==T||null===(b=T.timing)||void 0===b||null===(b=b.endTime)||void 0===b?void 0:b.hour)&&void 0!==f?f:23}).utc().hour(),minute:d()().set({minute:null!==(k=null==T||null===(D=T.timing)||void 0===D||null===(D=D.endTime)||void 0===D?void 0:D.minute)&&void 0!==k?k:59}).utc().minute()}}),clientId:S,clientType:O});A((0,h.Dx)(h.qz));let M;if(!!C._id)await A(o.Y$S.patch({entity:C})),M=C._id;else{M=(await A(o.Y$S.create(C))).payload._id}A((0,h.YF)("manageCampaigns")),A((0,h.F4)(M)),A((0,h.Ep)("campaignManagementView")),A((0,h.Wx)(!1))}),(0,s.zD)("campaigns/SendAllPendingCampaignMessagesThunkThunk",async(e,t)=>{const{campaignId:a}=e,n=t.dispatch,i=t.getState(),r=(0,o.jHc)(i.DBUserMessageReducer,{campaignId:a,status:"pending"}),s=d()().toISOString(),l=r.map((e,t)=>({id:e._id,changes:{dueDate:s,dueTime:s}}));n(o.aLm.patchMany(l))}),(0,s.zD)("campaigns/SendAllPendingCampaignMessagesThunkThunk",async(e,t)=>{const{campaignId:a}=e,n=t.dispatch,i=t.getState();n(o.Y$S.patch({entity:{_id:a,campaignStatus:"aborted"}})),await n(p.mjQ.initiate(a));const r=(0,o.jHc)(i.DBUserMessageReducer,{campaignId:a});r.length>0&&n(o.W3.removeMany(r.map(e=>e._id))),n(_()),n((0,k.Ys)())}),(0,s.zD)("getLastUpdatedUserCampaigns",async(e,t)=>{let{dispatch:a}=t;return await a(o.Y$S.find({deleted:{$ne:!0},$sort:{updatedAt:-1},$limit:20})).unwrap()})),_=((0,s.zD)("campaigns/getCampaignMessagesAndLogs",async(e,t)=>{let{dispatch:a}=t;return{campaign:await a(o.Y$S.find({_id:e})).unwrap(),campaignLogs:await a(o.t2M.find({campaignId:e,$paginate:!1})).unwrap(),campaignMessages:await a(o.aLm.find({campaignId:e,$paginate:!1})).unwrap()}}),(0,s.zD)("campaigns/cleanMessageLogsFromStateExceptRunningCampaignsThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,f.BY)(n).map(e=>e._id),r=Object.values(n.DBMessageLogReducer.entities).filter(e=>!i.includes(e.campaignId)).map(e=>e._id);await a(o.pwx.removeMany(r))})),P=((0,s.zD)("campaigns/onCampaignEventDrop",async(e,t)=>{var a,n;let{campaignId:i,start:r,view:s}=e,{dispatch:l,getState:c}=t;const u=c(),p=(0,o.YYK)(u.DBCampaignReducer,{_id:i});if(!p)return{success:!1,errorType:"not_found"};if("pending"!==p.campaignStatus)return{success:!1,errorType:"not_pending",campaignStatus:p.campaignStatus};const m=d()(),g=d()(null===(a=p.schedule)||void 0===a?void 0:a.dueDate).diff(m,"minutes");if(g<=5&&g>=0)return{success:!1,errorType:"too_close",minutesUntilDue:g};let y;if("month"===s){var h;const e=d().utc(null===(h=p.schedule)||void 0===h?void 0:h.dueDate);y=d().utc(r).set({hour:e.hour(),minute:e.minute(),second:e.second()}).startOf("minute")}else y=d().utc(r).startOf("minute");return y.isSame(null===(n=p.schedule)||void 0===n?void 0:n.dueDate)?{success:!1,errorType:"no_change"}:(l(o.Y$S.patch({entity:{_id:p._id,schedule:I(I({},p.schedule),{},{dueDate:y.toISOString()})}})),{success:!0})}),(0,s.zD)("campaigns/findCmpaignAUdienceBoardsColumns",async(e,t)=>{const a=t.dispatch,n=t.getState().CampaignReducer.newCampaign;for(let e of null!==(i=n.boardIDArray)&&void 0!==i?i:[]){var i;a(o.nxM.find({boardId:e,deleted:!1,$paginate:!1}))}}),(0,s.zD)("campaigns/saveTemplateThunk",async(e,t)=>{var a;const n=t.dispatch,i=t.getState(),r=i.ScheduledMessageEditorReducer.templateId,s=i.ScheduledMessageEditorReducer.templateName,l=i.ScheduledMessageEditorReducer.message,d=null!==(a=i.ScheduledMessageEditorReducer.asset)&&void 0!==a?a:null,c=i.ScheduledMessageEditorReducer.imageId,u=i.ScheduledMessageEditorReducer.sendLinkPreview,p=i.ScheduledMessageEditorReducer.linkPreview,m=i.ScheduledMessageEditorReducer.isPoll,g=i.ScheduledMessageEditorReducer.poll;let y;if(r){const e={_id:r,name:s,message:l,asset:d,imageId:c,sendLinkPreview:u,linkPreview:p,isPoll:m,poll:g};y=await n(o.UZ9.patch({entity:e}))}else{const e={name:s,message:l,asset:d,imageId:c,sendLinkPreview:u,linkPreview:p,isPoll:m,poll:g};y=await n(o.UZ9.create(e))}const f=y.payload;n((0,h.Au)(f)),n(v.JC.markAsSaved()),n(v.JC.setOriginalTemplateData(f))}),(0,s.zD)("campaigns/saveAsNewTemplateThunk",async(e,t)=>{var a;const n=t.dispatch,i=t.getState(),r=i.ScheduledMessageEditorReducer.message,s=null!==(a=i.ScheduledMessageEditorReducer.asset)&&void 0!==a?a:void 0,l=i.ScheduledMessageEditorReducer.imageId,d=i.ScheduledMessageEditorReducer.sendLinkPreview,c=i.ScheduledMessageEditorReducer.linkPreview,u=i.ScheduledMessageEditorReducer.isPoll,p=i.ScheduledMessageEditorReducer.poll,m={name:e.trim(),message:r,asset:s,imageId:l,sendLinkPreview:d,linkPreview:c,isPoll:u,poll:p},g=(await n(o.UZ9.create(m))).payload;n((0,h.Au)(g)),n(v.JC.markAsSaved()),n(v.JC.setOriginalTemplateData(g))}),(0,s.zD)("campaigns/fetchCampaignForLogsViewThunk",async(e,t)=>{const a=t.dispatch;e&&await a(o.Y$S.find({_id:e}))})),R=(0,s.zD)("campaigns/fetchCampaignStatsThunk",async(e,t)=>{const n=t.dispatch;if(!e)return;const{getMessagesAckAndCalculateStatisticsThunk:i}=await a.e(969).then(a.bind(a,89969));await n(i(e))});(0,s.zD)("campaigns/refreshCampaignLogsThunk",async(e,t)=>{const a=t.dispatch;e&&(await a(P(e)),await a(R(e)))})},56634:(e,t,a)=>{"use strict";a.d(t,{A:()=>k});var n=a(64467),i=a(71158),r=a(55044),s=a(90815),o=a(47839),l=a(28161),d=a(11641),c=a(36596),u=a(44010),p=a(2975),m=a(96540),g=a(32389),y=a(85855),h=a(42636),v=a(74848);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const k=(0,m.memo)(e=>{let{groupId:t,columnId:a,openPicker:n}=e;const{t:f}=(0,g.Bd)(p.MF),k=(0,u.jL)(),w=(0,u.GV)(e=>c.NpU.selectById(e,t)),[x,D]=(0,m.useState)(!1),I=(0,u.GV)(e=>(0,h.vm)(e,null==w?void 0:w.boardId,a)),A=y.pz.find(e=>e.type===I.type),T=A.static||I.static,S={cursor:T?"default":" text",textAlign:"center",width:"100%",color:"var(--tasks-text-muted)",whiteSpace:"nowrap",textOverflow:"ellipsis",outline:"none",backgroundColor:"transparent",fontSize:"12px",border:"1px solid transparent",borderRadius:"4px",overflow:"hidden",fontFamily:"'Inter', sans-serif",padding:"3px","&:hover":{border:T?"1px dashed transparent":" 1px dashed var(--tasks-text-secondary);"}};return(0,v.jsxs)(s.A,{direction:"row",justifyContent:"center",sx:{padding:"8px 0",overflow:"hidden","&:hover button":{visibility:"visible"},width:"100%"},children:[T?(0,v.jsx)(o.A,{placement:"top",arrow:!0,title:f("editableColumnHeaderCell.tooltipTitle"),children:(0,v.jsx)(l.A,{sx:S,children:null==I?void 0:I.title})}):(0,v.jsx)(i.A,{"data-testid":"column-title-bteditablebox-".concat(A.type),onEditModeChange:e=>(e=>{D(e)})(e),inputSx:{cursor:"text",width:"100%",color:"var(--color-primary)",fontSize:"12px",border:"1px solid var(--color-accent)",borderRadius:"4px",fontFamily:"'Inter', sans-serif",fontWeight:"600",background:"white","& .MuiInputBase-input":{textAlign:"center",padding:"1px 4px 2px 0px",borderRadius:"4px"}},boxSx:S,disabled:T,placeholder:A.title,text:null==I?void 0:I.title,onValueUpdate:e=>{((e,t,a)=>{k(""===t?c.nxM.patch({entity:b(b({},e),{},{title:a.title})}):c.nxM.patch({entity:b(b({},e),{},{title:t})}))})(I,e,A)}}),!x&&!T&&(0,v.jsx)(d.A,{sx:{visibility:"hidden",padding:"0",position:"absolute",right:"10px"},id:"column_".concat(null==w?void 0:w._id,"_").concat(a,"_dots"),onClick:()=>{n({anchorId:"column_".concat(null==w?void 0:w._id,"_").concat(a,"_dots"),pickerType:"column-context-menu"})},"data-testid":"column-three-dots-menu-button-".concat(A.type),children:(0,v.jsx)(r.A,{})})]})})},56855:(e,t,a)=>{"use strict";a.d(t,{J:()=>d,K:()=>l});var n=a(64467),i=a(72621),r=a.n(i),s=a(95093),o=a.n(s);class l{constructor(e){(0,n.A)(this,"_id",void 0),(0,n.A)(this,"email",void 0),(0,n.A)(this,"fullName",void 0),(0,n.A)(this,"profileImg",void 0),(0,n.A)(this,"firstName",void 0),(0,n.A)(this,"lastName",void 0),(0,n.A)(this,"phone",void 0),(0,n.A)(this,"password",void 0),(0,n.A)(this,"peerMap",void 0),(0,n.A)(this,"createdAt",void 0),(0,n.A)(this,"updatedAt",void 0),(0,n.A)(this,"unlimited",void 0),(0,n.A)(this,"apiKey",void 0),(0,n.A)(this,"menuState",void 0),(0,n.A)(this,"WASession",void 0),(0,n.A)(this,"qr",void 0),(0,n.A)(this,"qrStatus",void 0),(0,n.A)(this,"defaultChatCountryCode",void 0),(0,n.A)(this,"beta",void 0),(0,n.A)(this,"lastSessionCheck",void 0),(0,n.A)(this,"sessionIsActive",void 0),(0,n.A)(this,"notifications",void 0),(0,n.A)(this,"accessToken",void 0),(0,n.A)(this,"currentWorkspace",void 0),(0,n.A)(this,"isDarkMode",void 0),(0,n.A)(this,"isBoardsPanelOpen",void 0),(0,n.A)(this,"role",void 0),(0,n.A)(this,"preferences",void 0),(0,n.A)(this,"preferredLanguage",void 0),(0,n.A)(this,"chargeVAT",void 0),(0,n.A)(this,"VATPercent",void 0),(0,n.A)(this,"invoiceDetails",void 0),(0,n.A)(this,"waVersion",void 0),Object.assign(this,e),this.createdAt=o()(e.createdAt),this.updatedAt=o()(e.updatedAt)}get master(){var e;let t=null;const a=Object.keys(null!==(e=this.peerMap)&&void 0!==e?e:{}).map(e=>{var t;return{clientId:e,updateTime:(null!==(t=this.peerMap)&&void 0!==t?t:{})[e]}}).sort((e,t)=>o()(t.updateTime).diff(e.updateTime));return a.length>0&&(t=a[0].clientId),t}get isGuest(){var e;return!/^[a-zA-Z0-9.!#$%&\xe2\u20ac\u2122*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(null!==(e=this.email)&&void 0!==e?e:"")}get displayEmail(){return this.isGuest?"Guest":this.email}compareTo(e){let t=!1;if(null!=e){var a;const n=r().diff(this.toJSON(!0),null!==(a=null==e?void 0:e.toJSON(!0))&&void 0!==a?a:{});t=!n||0===(null==n?void 0:n.length)}return t}toJSON(e){var t;const a=Object.assign({},this);return a.taskMap=Object.entries(null!==(t=a.taskMap)&&void 0!==t?t:{}),delete a.stateService,e||delete a._id,a}}const d=e=>{var t,a;const n=[];var i;null!=e&&e.firstName&&""!==(null==e||null===(t=e.firstName)||void 0===t?void 0:t.trim())&&n.push(null==e||null===(i=e.firstName)||void 0===i?void 0:i.trim());return null!=e&&e.lastName&&""!==(null==e||null===(a=e.lastName)||void 0===a?void 0:a.trim())&&n.push(e.lastName.trim()),n.length>0?n.join(" "):(null==e?void 0:e.email)||""}},58980:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let n={};try{n=a(19636).appConfigLocal}catch(e){}const i={DEFAULT_TITLE:"Blueticks",asset_key:"blueticks",google_client_id:"143723739146-oa75527ckplc3kb9nk8q41redtoq6t18.apps.googleusercontent.com",GTM_ID:"",GA_ID:"",CLARITY_ID:"",TIKTOK_ID:"",FB_PIXEL_ID:"",AW_ID:"",WS_ID:"",HJ_ID:0,HJ_SV:0,pricingOptions:"extension",EXTENTION_ID:"faalgfonbpmhjboamhgopbjnbolehpcl",API_ENDPOINT:"http://localhost:3311",APP_ENDPOINT:"http://localhost:3000",VZNLYTICS_ENDPOINT:"https://analytics.blueticks.co",GATEWAY_ENDPOINT:"http://localhost:3001",NOTIFIER_ENDPOINT:"http://localhost:3311",PRICING_PAGE:"http://localhost:3000",HOMEPAGE:"https://blueticks.co",LOGO:"/img/tudu-logo.svg",LOGO2:"/img/tudo-logo-icon.svg",PAYPAL_CLIENT_ID:"ARQG3WFWCo5c_cl0idcg5fPastyJNcC3Gpzgh-7y7wHqliqw8heanLqZZLDQK-JNc5Bt2tHNJUkVx5pC",ENV:"dev",BLUESNAP_ENDPOINT:"https://sandbox.bluesnap.com",BLUESNAP_STORE_ID:"296929",BLUESNAP_REDIRECT_ENC:"qOU7VjlOZpEXrX8r1i62voZwKP3M6kkP%2Br1vzvsSupdiE0Qg2F3CyOGQycNZgCn8K%2Fiy2kZ%2BIvFADXUZTrmv3PI4fjyTt8EwZwOPRxwLX1QmAv5wdoRog4pA4aYqzoCxhfs1hP7gmhsxfqUumgZTT7vPVFc44W6Y45Y4AkQkilLhQKTU05HCFjx8eh30pkIzYgQYco52LMwbGjdPK%2FNJ6TC43C8TZTPnUSjELG7cJNyPc91K8YHmJqVijKcmtkWq",extensionStoreLink:"https://chrome.google.com/webstore/detail/blueticks/adgnjhngogijkkppficiiepmjebijinl"}},59111:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>x,a0:()=>w});var n=a(64467),i=a(30038),r=a(1081),s=a(36596),o=a(62243),l=a(2543),d=a.n(l),c=a(95093),u=a.n(c),p=a(46457),m=a(12239),g=a(6889);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const v=(0,i.Z0)({name:"UserMessage",initialState:{contactWithLastMessage:[],userMessagesInRedis:{}},reducers:{setUserMessagesInRedisByCampaignId(e,t){e.userMessagesInRedis=h(h({},e.userMessagesInRedis),t.payload)}}}),f=((0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=null==t?void 0:t.toLowerCase(),n=(0,s.jHc)(e.DBUserMessageReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],status:"pending"},null,{dueDate:1}).filter(e=>!e.campaignId).filter(e=>((e,t)=>{if(!t)return!1;if(!e)return u().utc(t).isAfter(u().utc());try{const a=u().utc().startOf("minute").toDate(),n=u().utc(t).toDate(),i=(0,o.ib)(e);return n>=a&&i.between(n,n,!0).length>0||null!==i.after(a)}catch(e){return u().utc(t).isAfter(u().utc())}})(e.rruleset,e.dueDate.toString())),i=d().groupBy(n,e=>{var t,a;return null!==(t=null==e||null===(a=e.contactList[0])||void 0===a?void 0:a.id)&&void 0!==t?t:""});let r=[];for(const[e,t]of Object.entries(i)){var l,c,p,m,y,v,f;const e=t.filter(e=>e.api).length,a=t.filter(e=>e.campaignId).length,n=t.length-e-a,i=t[0];r.push(h(h({},i),{},{contactWAId:null!==(l=null==i||null===(c=i.contactList[0])||void 0===c?void 0:c.id)&&void 0!==l?l:"",contactName:null!==(p=null!==(m=null==i||null===(y=i.contactList[0])||void 0===y?void 0:y.name)&&void 0!==m?m:null==i||null===(v=i.contactList[0])||void 0===v?void 0:v.id)&&void 0!==p?p:"",contactImageUrl:null==i||null===(f=i.contactList[0])||void 0===f?void 0:f.imageUrl,messageCount:t.length,messageScheduledCount:n,messageApiCount:e,messageCampaignCount:a}))}return r.filter(t=>{var n,i;const r=(0,g.Hv)(e,t.contactWAId);return void 0===a||(null==r||null===(n=r.name)||void 0===n||null===(n=n.toLowerCase())||void 0===n?void 0:n.indexOf(a))>-1||(null===(i=t.message)||void 0===i||null===(i=i.toLowerCase())||void 0===i?void 0:i.indexOf(a))>-1})}),(0,r.Mz)(e=>e.DBUserMessageReducer,e=>(0,s.jHc)(e,{$or:[{deleted:{$exists:!1}},{deleted:!1}],status:{$in:["pending","sending","sent","failed"]}}).map(e=>({_id:e._id||"",type:"message",dueDate:e.dueDate})))),b=(0,r.Mz)(e=>e.DBCampaignReducer,e=>(0,s.JjF)(e,{campaignStatus:{$in:["pending","running"]}}).map(e=>({_id:e._id||"",type:"campaign",campaignStatus:e.campaignStatus||"pending",schedule:e.schedule}))),{setUserMessagesInRedisByCampaignId:k}=((0,r.Mz)(f,b,(e,t)=>[...e,...t].sort((e,t)=>{var a,n;const i="campaign"===e.type?null===(a=e.schedule)||void 0===a?void 0:a.dueDate:e.dueDate,r="campaign"===t.type?null===(n=t.schedule)||void 0===n?void 0:n.dueDate:t.dueDate,s=(l=r,(o=i)||l?o?l?new Date(o).getTime()-new Date(l).getTime():-1:1:0);var o,l;if(0!==s)return s;if("campaign"===e.type&&"campaign"===t.type){if("running"===e.campaignStatus&&"pending"===t.campaignStatus)return-1;if("pending"===e.campaignStatus&&"running"===t.campaignStatus)return 1}return 0}).map(e=>{let{_id:t,type:a}=e;return{_id:t,type:a}})),(0,r.Mz)(e=>e,e=>{const t=(0,s.$qn)(e.DBUserMessageReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}]}),a=e.AddScheduledMessageButtonReducer.message._id;return t>=(0,m.mf)(e)&&!a}),(0,r.Mz)([e=>e,e=>{var t;return null===(t=e.UserMessageReducer)||void 0===t?void 0:t.userMessagesInRedis},(e,t)=>t],(e,t,a)=>{var n;const i=null!==(n=null==t?void 0:t[a])&&void 0!==n?n:[],r=(0,p.bD)(e,a),s=(0,p.TE)(e,a);return[...i,...r.map(e=>s.some(t=>t._id===e._id)?null:h(h({},e),{},{createdAt:new Date(e.createdAt.toString()),status:"Waiting In DB"})).filter(Boolean)]}),v.actions),w=v.actions,x=v.reducer},59673:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o,eL:()=>i});const n=(0,a(30038).Z0)({name:"knowledgeBaseProgress",initialState:{documentsInProgress:{}},reducers:{updateDocumentProgress:(e,t)=>{const a=t.payload;"completed"===a.status||"error"===a.status?delete e.documentsInProgress[a.documentId]:e.documentsInProgress[a.documentId]=a},clearProgress:(e,t)=>{delete e.documentsInProgress[t.payload]},clearAllProgress:e=>{e.documentsInProgress={}}}}),{updateDocumentProgress:i,clearProgress:r,clearAllProgress:s}=n.actions,o=n.reducer},59680:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l,EX:()=>o,yr:()=>s});var n=a(30038),i=a(1081);const r=(0,n.Z0)({name:"BulkActions",initialState:{bulkTasksMap:{},isBulkActionsDialogOpen:!1,isExportTaskModalOpen:!1,move_to:"",isMoveTo:!1,bulkActionMoveToId:"",groupIsMoving:!1},reducers:{setBulkTasksMap(e,t){e.bulkTasksMap=t.payload},setIsBulkActionsDialogOpen(e,t){e.isBulkActionsDialogOpen=t.payload},setLastCheckedId(e,t){e.anchorId=t.payload},setLastInteraction(e,t){e.bulkTasksMap=t.payload.bulkTasksMap,e.anchorId=t.payload.anchorId},toggleExportTaskModalOpen(e,t){e.isExportTaskModalOpen=t.payload},setMovingTo(e,t){let{payload:a}=t;e.move_to=a},setGroupIsMoving(e,t){let{payload:a}=t;e.groupIsMoving=a},toggleMoveTo(e,t){let{payload:a}=t;e.isMoveTo=a},setBulActionsMoveToId(e,t){let{payload:a}=t;e.bulkActionMoveToId=a}}}),s=(0,i.Mz)(e=>e.BulkActionsReducer,e=>Object.keys(e.bulkTasksMap).map(t=>e.bulkTasksMap[t])),o=((0,i.Mz)([e=>e.BulkActionsReducer,s],(e,t)=>(null==t?void 0:t.length)>0),r.actions),l=r.reducer},61076:(e,t,a)=>{"use strict";a.d(t,{A:()=>G});var n=a(64467),i=a(36364),r=a(42636),s=a(44010),o=a(28161),l=a(90815),d=a(96540),c=a(47839),u=a(74848);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function g(e){let{values:t}=e;const a=t.selectedOptionsCloned.filter((e,t,a)=>t===a.findIndex(t=>(null==t?void 0:t._id)===(null==e?void 0:e._id))),n=(0,s.GV)(e=>e.UserReducer.direction),i=a.sort((e,t)=>(null==e?void 0:e.order)-(null==t?void 0:t.order)),r=(e,t)=>Number((e/t*100).toFixed(2));let d=i.reduce((e,t)=>e+(t?t.count:0),0),p=r(t.tasksLength-d,t.tasksLength);const g=(e,t,a,n)=>"ltr"===e?{borderTopLeftRadius:a?"5px":"0px",borderBottomLeftRadius:a?"5px":"0px",borderTopRightRadius:n?"5px":"0px",borderBottomRightRadius:n?"5px":"0px"}:{borderTopRightRadius:a?"5px":"0px",borderBottomRightRadius:a?"5px":"0px",borderTopLeftRadius:n?"5px":"0px",borderBottomLeftRadius:n?"5px":"0px"};return(0,u.jsxs)(l.A,{direction:"row",alignItems:"center",flexGrow:1,textAlign:"center",sx:{background:"var(--color-surface)",height:"80%",padding:"0 10px"},children:[i.map((e,a)=>(0,u.jsx)(c.A,{disableInteractive:!0,componentsProps:{tooltip:{sx:{bgcolor:"var(--color-surface)",padding:"4px 18px",justifyContent:"center",border:"1px solid transparent",alignItems:"center",color:"rgb(0, 55, 80)",boxShadow:"0 5px 12px rgb(0 0 0 / 15%)","& .MuiTooltip-arrow":{color:"var(--color-surface)"}}}},title:(0,u.jsxs)(l.A,{justifyContent:"center",p:2,minWidth:"140px",spacing:2,children:[(0,u.jsx)(l.A,{justifyContent:"center",alignItems:"center",sx:{background:null==e?void 0:e.bgcolor,color:"var(--color-surface)",textTransform:"capitalize",boxShadow:"none",fontSize:12,borderRadius:"5px",fontWeight:"600",fontFamily:"'Inter', 'Assistant', sans-serif",height:28},children:null==e?void 0:e.label}),(0,u.jsxs)(l.A,{direction:"row",justifyContent:"center",sx:{fontSize:14},children:[null==e?void 0:e.count,"/",t.tasksLength," -",r(null==e?void 0:e.count,t.tasksLength)+"%"]})]}),arrow:!0,placement:"top",children:(0,u.jsx)(o.A,{sx:m({width:(null==e?void 0:e.count)/t.tasksLength*100+"%",background:null==e?void 0:e.bgcolor,height:"20px"},g(n,0,0===a,a===i.length-1&&0===p))},"battery_"+a)},a)),p>0&&(0,u.jsx)(o.A,{sx:m({width:p+"%",background:"#c4c4c4f5",height:"20px"},g(n,0,100===p,p>0))})]})}const y=(0,d.memo)(g);function h(e){var t;let{values:a,columnId:n}=e;const i=null==a||null===(r=a.data)||void 0===r?void 0:r.filter(e=>e).length;var r;return(0,u.jsxs)(l.A,{sx:{position:"relative"},alignItems:"center",flexGrow:1,textAlign:"center",children:[i," / ",null==a||null===(t=a.data)||void 0===t?void 0:t.length]})}const v=(0,d.memo)(h);var f=a(31838),b=a(24076),k=a(94303);function w(e){let{values:t,columnId:a,groupId:n}=e;const i=(0,s.jL)(),[r,c]=(0,d.useState)(null),p="filesSum_".concat(a);function m(e){1!==t.length&&c(setTimeout(()=>{var r;i(k.S.setPickerTypeAndId({pickerAnchorId:p,pickerProps:{cellValue:t,columnId:a,taskId:null===(r=t[e])||void 0===r?void 0:r._id,groupId:n,type:"files"}}))},300))}const g=()=>{clearTimeout(r)};return(0,u.jsxs)(l.A,{id:"filesSum_".concat(a),direction:"row",alignItems:"center",flexGrow:1,justifyContent:"center",sx:{background:"var(--color-surface)",height:"80%",padding:"0 10px",position:"relative"},children:[null==t?void 0:t.slice(0,3).map((e,n)=>(0,u.jsx)(l.A,{sx:{padding:"0 2px;"},onMouseEnter:()=>m(n),onMouseLeave:g,onClick:e=>{!function(e,t,n){e.stopPropagation();const r={};r.index=t,r.shown=!0,r.taskId=n[t]._id,r.columnId=a,r.filesTotal=n,r.isViewOnly=!0,i(b.q.setSelectedCellFilesAndCurrentindex(r)),i(k.S.closePickerDialog())}(e,n,t)},children:(0,u.jsx)(f.A,{file:e})},n)),(null==t?void 0:t.length)>3&&(0,u.jsxs)(o.A,{sx:{height:"20px",width:"20px",background:"var(--color-primary)",display:"flex",color:"var(--color-surface)",fontSize:"10px",alignItems:"center",justifyContent:"center",borderRadius:"50%",marginTop:"2px",position:"absolute",right:"2px",top:"1px"},onMouseEnter:()=>m(0),onMouseLeave:g,children:["+",t.length-3]})]})}const x=(0,d.memo)(w);var D=a(70177),I=a(51749),A=a(71543),T=a(11641),S=a(36596),O=a(32434);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function B(e){var t,a,n,i,r,p,m,g,y,h,v,f;let{values:b,columnId:k}=e;const w=(0,s.jL)(),[x,C]=(0,d.useState)(),[B]=(0,s.GV)(e=>(0,S.l_$)(e.DBTaskColumnReducer,{_id:k})),_=null!==(t=B.customData)&&void 0!==t&&t.customSymbol?B.customData.symbol:void 0,P=null!==(a=B.customData)&&void 0!==a&&a.symbol?B.customData.symbol:"",R=null!==(n=B.customData)&&void 0!==n&&n.func?null===(i=B.customData)||void 0===i?void 0:i.func:"",E=null!==(r=B.customData)&&void 0!==r&&r.direction?null===(p=B.customData)||void 0===p?void 0:p.direction:void 0;(0,d.useEffect)(()=>{C(null!=_?_:void 0)},[_]);const[j,L]=d.useState(null),N=d.useRef();function F(){L(N.current)}const z=Boolean(j),U=e=>{w(S.nxM.patch({entity:{_id:k,customData:M(M({},B.customData),{},{symbol:e,customSymbol:!1})}}))},V=e=>{w(S.nxM.patch({entity:{_id:k,customData:M(M({},B.customData),{},{direction:e})}}))},W=e=>{w(S.nxM.patch({entity:{_id:k,customData:M(M({},B.customData),{},{func:e})}}))};let Q=b.filter(e=>!isNaN(e)).reduce((e,t)=>e+t,0);switch(null===(m=B.customData)||void 0===m?void 0:m.func){case"none":Q="-";break;case"sum":Q=b.filter(e=>!isNaN(e)).reduce((e,t)=>e+t,0);break;case"average":{const e=b.filter(e=>!isNaN(e)).reduce((e,t)=>e+t,0);Q=e/b.length||0;break}case"min":{const e=b.filter(e=>!isNaN(e));Q=e.length>0?Math.min(...e):"-";break}case"max":{const e=b.filter(e=>!isNaN(e));Q=e.length>0?Math.max(...e):"-";break}case"count":{const e=b.filter(e=>!isNaN(e));Q=e.length;break}}return(0,u.jsxs)(l.A,{sx:{position:"relative"},alignItems:"center",flexGrow:1,textAlign:"center",children:[(0,u.jsx)(I.Ay,{anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{"& .MuiPaper-elevation":{boxShadow:"0 5px 12px rgb(0 55 80 / 16%)",borderRadius:"10px !important",width:"350px"}},anchorEl:j,open:z,onClose:()=>{L(null)},children:(0,u.jsxs)(l.A,{p:2,children:[(0,u.jsxs)(l.A,{direction:"row",justifyContent:"space-between",children:[(0,u.jsx)(o.A,{sx:{fontSize:"12px"},pb:1,children:"Unit"}),(0,u.jsx)(o.A,{sx:{fontSize:"12px"},pb:1,children:"Direction"})]}),(0,u.jsxs)(l.A,{direction:"row",justifyContent:"space-between",children:[(0,u.jsxs)(l.A,{pb:2,sx:{"& .MuiBox-root":{cursor:"pointer",background:"var(--color-surface)",fontSize:"12px",color:"var(--color-text)",height:"29px",display:"flex",justifyContent:"center",alignItems:"center",width:"30px"},"& .MuiBox-root:first-of-type":{width:"40px"}},alignItems:"flex-start",direction:"row",children:[(0,u.jsx)(o.A,{sx:{border:""===P?"1px solid #3f94ff":"1px solid #ebdce2",width:"50px"},onClick:()=>U(""),children:"None"}),(0,u.jsx)(o.A,{sx:{border:"$"===P?"1px solid #3f94ff":"1px solid #ebdce2",color:"$"===(null===(g=B.customData)||void 0===g?void 0:g.symbol)?"#3f94ff":"#ebdce2"},onClick:()=>U("$"),children:"$"}),(0,u.jsx)(o.A,{sx:{border:"\u20ac"===P?"1px solid #3f94ff":"1px solid #ebdce2",color:"\u20ac"===(null===(y=B.customData)||void 0===y?void 0:y.symbol)?"#3f94ff":"#ebdce2"},onClick:()=>U("\u20ac"),children:"\u20ac"}),(0,u.jsx)(o.A,{sx:{border:"\xa3"===P?"1px solid #3f94ff":"1px solid #ebdce2",color:"\xa3"===(null===(h=B.customData)||void 0===h?void 0:h.symbol)?"#3f94ff":"#ebdce2"},onClick:()=>U("\xa3"),children:"\xa3"}),(0,u.jsx)(o.A,{sx:{border:"%"===P?"1px solid #3f94ff":"1px solid #ebdce2",color:"%"===(null===(v=B.customData)||void 0===v?void 0:v.symbol)?"#3f94ff":"#ebdce2"},onClick:()=>U("%"),children:"%"}),(0,u.jsx)("input",{style:{border:null!==(f=B.customData)&&void 0!==f&&f.customSymbol?"1px solid #3f94ff":"1px solid #ebdce2",height:"29px",maxWidth:"70px",borderRadius:"0"},value:null!=x?x:"",placeholder:"Custom",onChange:e=>{return t=e.target,w(S.nxM.patch({entity:{_id:k,customData:M(M({},B.customData),{},{symbol:null!==(a=t.value)&&void 0!==a?a:void 0,customSymbol:!0})}})),void C(t.value?t.value:void 0);var t,a}})]}),(0,u.jsxs)(l.A,{direction:"row",sx:{"& .MuiBox-root":{cursor:"pointer",background:"var(--color-surface)",fontSize:"12px",height:"29px",display:"flex",justifyContent:"center",alignItems:"center",width:"20px"}},children:[(0,u.jsx)(o.A,{sx:{border:"left"===E?"1px solid #3f94ff":"1px solid #ebdce2",color:"left"===E?"#3f94ff":"var(--color-text)"},onClick:()=>V("left"),children:"L"}),(0,u.jsx)(o.A,{sx:{border:"right"===E?"1px solid #3f94ff":"1px solid #ebdce2",color:"right"===E?"#3f94ff":"var(--color-text)"},onClick:()=>V("right"),children:"R"})]})]}),(0,u.jsx)(o.A,{sx:{fontSize:"12px"},pb:1,children:"Function"}),(0,u.jsxs)(l.A,{pb:1,sx:{"& .MuiBox-root":{cursor:"pointer",background:"var(--color-surface)",fontSize:"12px",height:"29px",display:"flex",justifyContent:"center",alignItems:"center",width:"60px"},"& .MuiBox-root:first-of-type":{width:"50px"}},alignItems:"flex-start",direction:"row",children:[(0,u.jsx)(o.A,{sx:{border:"none"===R?"1px solid #3f94ff":"1px solid #ebdce2",color:"none"===R?"#3f94ff":"var(--color-text)"},onClick:()=>W("none"),children:"None"}),(0,u.jsx)(o.A,{sx:{border:"sum"===R?"1px solid #3f94ff":"1px solid #ebdce2",color:"sum"===R?"#3f94ff":"var(--color-text)"},onClick:()=>W("sum"),children:"Sum"}),(0,u.jsx)(o.A,{sx:{border:"average"===R?"1px solid #3f94ff":"1px solid #ebdce2",color:"average"===R?"#3f94ff":"var(--color-text)"},onClick:()=>W("average"),children:"Average"}),(0,u.jsx)(o.A,{sx:{border:"min"===R?"1px solid #3f94ff":"1px solid #ebdce2",color:"min"===R?"#3f94ff":"var(--color-text)"},onClick:()=>W("min"),children:"Min"}),(0,u.jsx)(o.A,{sx:{border:"nax"===R?"1px solid #3f94ff":"1px solid #ebdce2",color:"max"===R?"#3f94ff":"var(--color-text)"},onClick:()=>W("max"),children:"Max"}),(0,u.jsx)(o.A,{sx:{border:"count"===R?"1px solid #3f94ff":"1px solid #ebdce2",color:"count"===R?"#3f94ff":"var(--color-text)"},onClick:()=>W("count"),children:"Count"})]}),(0,u.jsx)(A.A,{}),(0,u.jsxs)(l.A,{direction:"row",pt:1,children:["   Overall ",(0,u.jsxs)(o.A,{sx:{px:.4},children:[" ","none"!==R?R:"summary"," "]})," of column: ",(0,u.jsxs)(o.A,{pl:.4,sx:{direction:"left"===E?"ltr":"rtl"},children:["  ",(0,u.jsx)(O.HG,{onClick:F,displayType:"text",allowNegative:!0,decimalSeparator:".",allowLeadingZeros:!0,thousandSeparator:",",value:Q,decimalScale:3,prefix:"count"===R||"left"!==E&&void 0!==E?"":null!=P?P:"",suffix:"count"!==R&&"right"===E&&null!=P?P:"",style:{width:"100%"}})]})]})]})}),(0,u.jsxs)(l.A,{style:{cursor:"pointer"},ref:N,onClick:F,children:[(0,u.jsx)(c.A,{title:"Copy total ".concat(R),placement:"right",arrow:!0,children:(0,u.jsx)(T.A,{onClick:e=>{e.stopPropagation();const t=Q.toString();navigator.clipboard.writeText(t).then(()=>{}).catch(e=>{})},sx:{position:"absolute",top:"-5px",right:0,fontSize:"12px"},children:(0,u.jsx)(D.A,{sx:{fontSize:"12px"}})})}),(0,u.jsx)(O.HG,{displayType:"text",allowNegative:!0,decimalSeparator:".",allowLeadingZeros:!0,thousandSeparator:",",value:Q,decimalScale:3,prefix:"count"===R||"left"!==E&&void 0!==E?"":null!=P?P:"",suffix:"count"!==R&&"right"===E&&null!=P?P:"",style:{width:"100%"}}),(0,u.jsx)(o.A,{sx:{fontSize:"11px"},children:null!=R?R:"sum"})]})]})}const _=(0,d.memo)(B);var P=a(1422),R=a(56855),E=a(97424),j=a(83095),L=a(47625);function N(e){let{values:t,boardId:a}=e;const n=(0,s.GV)(e=>(0,E.fJ)(e,t,a)),i=n.length>0?n:[],r=i.length>4?i.slice(4):[],d=i.map(e=>(0,R.J)(e.profile)).join(", ");return(0,u.jsx)(l.A,{sx:{position:"relative"},alignItems:"center",flexGrow:1,textAlign:"center",children:(0,u.jsx)(c.A,{title:d,arrow:!0,placement:"bottom",children:(0,u.jsxs)(j.A,{max:4,sx:{alignItems:"end",".MuiAvatar-circular":{height:"20px",width:"20px",background:"var(--color-primary)",color:"white",fontSize:"10px"}},children:[i.slice(0,4).map((e,t)=>{var a;return(0,u.jsx)(o.A,{children:(0,u.jsx)(P.A,{size:22,email:null==e?void 0:e.email,profileImg:null==e||null===(a=e.profile)||void 0===a?void 0:a.profileImg,lastName:null==e?void 0:e.lastName,firstName:null==e?void 0:e.firstName})},t)}),r.length>0&&(0,u.jsx)(c.A,{title:d,arrow:!0,placement:"bottom",children:(0,u.jsxs)(L.A,{children:["+",r.length]})})]})})})}const F=(0,d.memo)(N);function z(e){let{values:t,columnId:a}=e;const n=(()=>{const e=t.data.filter(e=>"number"==typeof e),a=e.reduce((e,t)=>e+t,0);return t.length>0?a/e.length:0})();return(0,u.jsx)(l.A,{sx:{position:"relative"},alignItems:"center",flexGrow:1,textAlign:"center",children:isNaN(n)?"0 / 5":"".concat((i=n,i%1==0?i.toString():i.toFixed(1))," / 5")});var i}const U=(0,d.memo)(z);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Q(e){var t;let{groupId:a,columnId:n,boardId:d,columnType:c,customData:p,column:m,index:g}=e;const h=(0,s.GV)(e=>(0,r.vA)(e,{groupId:a,columnId:n,boardId:d,columnType:c}));return(0,u.jsx)(o.A,{className:"column_".concat(n),sx:W(W({},{display:"flex",alignItems:"center",justifyContent:"center",color:"#013750",fontWeight:"400",fontSize:"15px",height:"39px",boxSizing:"border-box"}),{},{width:null!==(t=m.width)&&void 0!==t?t:i.m,borderRight:"2px solid transparent",transition:"width 0.05s"}),children:(0,u.jsxs)(l.A,{direction:"row",alignItems:"center",flexGrow:1,textAlign:"center",sx:{background:"var(--color-surface)",width:"100%",height:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:["number"===c?(0,u.jsx)(_,{columnId:n,values:h}):null,"status-option-picker"===c||"option-picker"===c||"complexity-picker"===c?(0,u.jsx)(y,{values:h}):null,"files"===c?(0,u.jsx)(x,{values:h,columnId:n,groupId:a}):null,"checkbox"===c?(0,u.jsx)(v,{values:h,columnId:n}):null,"rating"===c?(0,u.jsx)(U,{values:h,columnId:n}):null,"person-picker"===c?(0,u.jsx)(F,{values:h,boardId:d.toString()}):null]})},g)}const G=(0,d.memo)(Q)},61504:(e,t,a)=>{"use strict";a.d(t,{$:()=>r,A:()=>s});const n={filteredChatAndContactList:{contacts:[],searchResponseStatus:"noSearchValue"},chatViewMode:{type:"none",chatId:void 0,tempChatData:void 0},hasMoreMsgsToLoad:!1,hasMoreChatsToLoad:!1,chatsSidebarSearchToken:"",waSessionPhoneNumber:null},i=(0,a(30038).Z0)({name:"TeamInbox",initialState:n,reducers:{setHasMoreChatsToLoad(e,t){let{payload:a}=t;e.hasMoreChatsToLoad=a},setHasMoreMsgsToLoad(e,t){let{payload:a}=t;e.hasMoreMsgsToLoad=a},resetChatViewMode(e){e.chatViewMode={type:"none",chatId:void 0,tempChatData:void 0}},handleClickOnChat(e,t){e.hasMoreMsgsToLoad=!1,e.chatViewMode=t.payload},setFilteredChatAndContactList(e,t){var a;let{payload:n}=t;e.filteredChatAndContactList={contacts:n.contacts,searchResponseStatus:null!==(a=n.searchResponseStatus)&&void 0!==a?a:e.filteredChatAndContactList.searchResponseStatus}},resetFilteredChatAndContactList(e){e.filteredChatAndContactList={contacts:[],searchResponseStatus:"noSearchValue"}},preserveChatInTempData(e,t){const{chatId:a,chatData:n}=t.payload;"chat"===e.chatViewMode.type&&e.chatViewMode.chatId===a&&(e.chatViewMode.tempChatData=n)},clearTempChatData(e){e.chatViewMode.tempChatData&&(e.chatViewMode.tempChatData=void 0)},setChatsSidebarSearchToken(e,t){let{payload:a}=t;e.chatsSidebarSearchToken=a},resetChatsSidebarSearchToken(e){e.chatsSidebarSearchToken=""},setWaSessionPhoneNumber(e,t){let{payload:a}=t;e.waSessionPhoneNumber=a}}}),r=i.actions,s=i.reducer},61793:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(64467),i=a(96540),r=a(28161),s=a(44010),o=a(36596),l=a(59680),d=a(66159),c=a(96710),u=a(2975),p=a(32389),m=a(97424),g=a(74848);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const v=e=>{let{bulkTasksList:t,activeTaskid:a,boardId:n,onMoveComplete:y}=e;const{t:v}=(0,p.Bd)(u.MF),f=(0,s.jL)(),[b,k]=(0,i.useState)(""),w=(0,s.GV)(m.PX),x=(0,s.GV)(e=>(0,o.G5s)(e.DBBoardsReducer,{_id:n,$or:[{deleted:{$exists:!1}},{deleted:!1}]})),D=(0,s.GV)(e=>(0,o.bRR)(e.DBTaskColumnReducer,{boardId:n,type:"whatsapp-id-cell",$or:[{deleted:{$exists:!1}},{deleted:!1}]},"_id",{order:-1})),I=(0,s.GV)(e=>(0,o.bRR)(e.DBTaskColumnReducer,{boardId:w,type:"whatsapp-id-cell"},"_id",{order:-1}));(0,i.useEffect)(()=>{f(o.nxM.find({boardId:n,deleted:!1,$paginate:!1}))},[]);const A=(0,s.GV)(e=>(0,o.$0K)(e.DBTaskgroupsReducer,{boardId:n,name:new RegExp(b,"i"),$or:[{deleted:{$exists:!1}},{deleted:!1}]}));const T={width:198,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const S={filterContainer:{display:"flex",marginTop:"8px",marginBottom:"5px",borderRadius:"3px",border:"1px solid var(--tasks-group-bg)",borderBottomWidth:"2px"},filterInput:{flex:1,border:"0",outline:"none",borderRadius:"3px"},filterButton:{border:"0",outline:"none",backgroundColor:"transparent"},groupItemWrap:{display:"flex",alignItems:"center",borderRadius:"3px",padding:"0 5px"},groupItem:{flex:1,backgroundColor:"transparent",border:0,borderRadius:"3px",color:"var(--color-primary)",display:"block",outline:"none",padding:"8px",textAlign:"left"},accentIcon:{width:"16px",height:"16px",marginRight:"8px",backgroundColor:"var(--tasks-group-bg)",borderRadius:"50%"}},O={display:"flex",alignItems:"center",borderRadius:"3px",padding:"0 5px",":hover":{backgroundColor:"var(--tasks-input-border)"}};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(r.A,{style:S.filterContainer,onClick:e=>e.stopPropagation(),children:[(0,g.jsx)("input",{style:S.filterInput,type:"text",onChange:function(e){let{target:t}=e;k(t.value)},placeholder:v("moveTaskToGroup.searchGroup")}),(0,g.jsx)("button",{style:S.filterButton,children:(0,g.jsx)(c.YQq,{})})]}),A.sort((e,t)=>e.order-t.order).map((e,i)=>{var s;return(0,g.jsxs)(r.A,{sx:O,onClick:()=>async function(e){f(l.EX.setIsBulkActionsDialogOpen(!1));let i=t;const r=i.length>0&&i.every(e=>void 0!==(null==e?void 0:e.parentTaskId));0===i.length&&(i=[{_id:a}]);const s=i.map(t=>{let a={id:t._id,changes:{groupId:e._id,boardId:n}};var i;return"audience"===(null==x?void 0:x.type)&&n!==w&&(a.changes.customData=h(h({},t.customData),{},{[D]:null===(i=t.customData)||void 0===i?void 0:i[I]})),r&&(a.changes.taskType="task",a.changes.parentTaskId=""),y&&y(!1),a});f(o.urn.patchMany(s)),f(l.EX.toggleMoveTo(!1)),f(l.EX.setMovingTo("")),f(d.L.toggleTaskMenu("")),f(l.EX.setBulkTasksMap({}))}(e),children:[(0,g.jsx)(r.A,{style:h(h({},S.accentIcon),{},{backgroundColor:null!==(s=e.colorAccent)&&void 0!==s?s:"#00c875"})}),(0,g.jsx)("button",{style:h(h(h({},S.groupItem),T),S.filterButton),children:e.name})]},i)})]})}},61980:(e,t,a)=>{"use strict";a.d(t,{authService:()=>p});var n=a(64467),i=a(38972),r=a(93553),s=a(87435),o=a(92032),l=a(13364);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}class u{constructor(){(0,n.A)(this,"lastAttemptedJwtToken",null)}static getInstance(){return u.instance||(u.instance=new u),u.instance}async login(e,t){t((0,l.po)("userLoginStarted")),t((0,l.I0)());try{var a,n,i,r;const s=new URLSearchParams(window.location.search).get("impersonate");let d;try{const a=t(o.QF$.initiate(c(c({strategy:"local"},e),{},{impersonate:s})));d=await a.unwrap()}catch(e){throw e}const u=null!==(a=null===(n=d)||void 0===n?void 0:n.accessToken)&&void 0!==a?a:void 0,p=null!==(i=null===(r=d)||void 0===r?void 0:r.user)&&void 0!==i?i:void 0;return u&&p&&(t((0,l.PL)({user:p,accessToken:u})),this.persistToken(u)),t((0,l.po)("userLoginSuccess")),{success:!0}}catch(e){var s;const a=null==e||null===(s=e.data)||void 0===s?void 0:s.message,n="Invalid login"===a?"Invalid password. Please retry or reset by 'Forgot your password?'":a||"An error occurred during login";return t((0,l.po)("idle")),t((0,l.jB)(n)),{success:!1,error:n}}}async signup(e,t){t((0,l.po)("userRegisterStarted")),t((0,l.I0)());try{return await t(o.br5.register.initiate({email:e.email.toLowerCase(),password:e.password})).unwrap(),t((0,l.po)("userRegisterSuccess")),{success:!0,redirectTo:"/calendar?welcome=true"}}catch(n){var a;if(null!=n&&null!==(a=n.data)&&void 0!==a&&null!==(a=a.message)&&void 0!==a&&a.includes("email: value already exists."))return this.login({email:e.email,password:e.password},t);const i=this.extractSignupErrorMessage(n);return t((0,l.jB)(i)),t((0,l.po)("idle")),{success:!1,error:i}}}async attemptJwtAuth(e,t){const a=await this.getStoredTokenAsync();if(!a)return!1;if((null==t||!t.force)&&this.lastAttemptedJwtToken===a)return!1;this.lastAttemptedJwtToken=a;try{var n,i;null==a||a.slice(-6);e((0,l.po)("autoJwtStarted"));const t=await e(o.QF$.initiate({strategy:"jwt",accessToken:a})).unwrap(),r=null!==(n=null==t?void 0:t.accessToken)&&void 0!==n?n:void 0,s=null!==(i=null==t?void 0:t.user)&&void 0!==i?i:void 0;return r&&s&&(e((0,l.PL)({user:s,accessToken:r})),this.persistToken(r)),e((0,l.po)("autoJwtSuccess")),!0}catch(t){return e((0,l.po)("idle")),!1}}shouldAttemptJwtAuth(){return!("/login"===window.location.pathname||"/signup"===window.location.pathname||"/fyp"===window.location.pathname)}hasStoredToken(){try{return!!this.getStoredToken()}catch(e){return!1}}async hasStoredTokenAsync(){return!!await this.getStoredTokenAsync()}getStoredToken(){let e=localStorage.getItem(i.hl);if(!e&&"undefined"!=typeof document){const t=document.cookie.split("; ").find(e=>e.startsWith("".concat(i.hl,"=")));t&&(e=decodeURIComponent(t.split("=")[1]))}if(!e){e=new URLSearchParams(window.location.search).get("accessToken")}return!e&&(0,s.B2)()?null:e}async getStoredTokenAsync(){try{const t=this.getStoredToken();if(t)return t;if((0,s.B2)())try{var e;const t=await r.S.postMessageToBackgroundWithResponse("get-token",{}),a=null!==(e=null==t?void 0:t.accessToken)&&void 0!==e?e:null;if(a)return a}catch(e){}return null}catch(e){return null}}clearStoredToken(){localStorage.removeItem(i.hl),this.lastAttemptedJwtToken=null,(0,s.B2)()&&r.S.postMessageToBackgroundWithResponse("logout",{})}persistToken(e){try{e?(localStorage.setItem(i.hl,e),(0,s.B2)()&&r.S.postMessageToBackgroundWithResponse("set-token",{accessToken:e})):this.clearStoredToken()}catch(e){}}getRedirectPath(){if((0,s.B2)())return"";const e=new URLSearchParams(window.location.search).get("redirect");if(e){const t=decodeURIComponent(e);return t.startsWith("/")?t:"/calendar"}return"/calendar"}shouldRedirectAfterAuth(){return!(0,s.B2)()}async logout(e){this.clearStoredToken(),e({type:"user/logout"})}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())}validateLoginData(e){const t=[];return e.email&&this.validateEmail(e.email)||t.push("Please enter a valid email address"),e.password||t.push("Password is required"),{isValid:0===t.length,errors:t}}validateSignupData(e){const t=[];return e.email&&this.validateEmail(e.email)||t.push("Please enter a valid email address"),(!e.password||e.password.length<6)&&t.push("Password must be at least 6 characters long"),{isValid:0===t.length,errors:t}}extractSignupErrorMessage(e){const t=null==e?void 0:e.data;return"Conflict"===(null==t?void 0:t.name)?"User already exists":(null==t?void 0:t.message)||"An error occurred during signup"}}(0,n.A)(u,"instance",null);const p=u.getInstance()},62138:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});const n=(0,a(30038).Z0)({name:"btQuickPanelSlice",initialState:{targetComponent:"",quickLinks:[],isNewQuickTask:!1,newTaskId:"",newQuickLinkId:"",alertPopper:{type:"",message:"",popperTargetId:""},selectedData:{boardId:"",groupId:"",groupName:"",colorAccent:"",firstName:"",lastName:""},isErrorInput:!1,isDragging:!1,clientX:0,ParentContainerWidth:50,popperId:"",activeLink:{_id:"",boardId:"",groupId:"",firstName:"",lastName:""},isLoadingBoards:!1},reducers:{setTargetComponent:(e,t)=>{let{payload:a}=t;e.targetComponent=a},setQuickLinks:(e,t)=>{let{payload:a}=t;e.quickLinks=a},setIsNewQuicktask:(e,t)=>{let{payload:a}=t;e.isNewQuickTask=a},setNewTaskId:(e,t)=>{let{payload:a}=t;e.newTaskId=a},setNewQuickLinkId:(e,t)=>{let{payload:a}=t;e.newQuickLinkId=a},setAlertPopper:(e,t)=>{let{payload:a}=t;e.alertPopper=a},setSelectedData:(e,t)=>{let{payload:a}=t;e.selectedData=a},setIsErrorInput:(e,t)=>{let{payload:a}=t;e.isErrorInput=a},setIsDragging:(e,t)=>{let{payload:a}=t;e.isDragging=a},setClientX:(e,t)=>{let{payload:a}=t;e.clientX=a},setParentContainerWidth:(e,t)=>{let{payload:a}=t;e.ParentContainerWidth=a},setPopperId:(e,t)=>{let{payload:a}=t;e.popperId=a},setActiveLink:(e,t)=>{let{payload:a}=t;e.activeLink=a},setIsLoadingBoards:(e,t)=>{let{payload:a}=t;e.isLoadingBoards=a}}}),i=(n.actions,n.reducer)},62243:(e,t,a)=>{"use strict";a.d(t,{Af:()=>p,ib:()=>c,nV:()=>u});var n=a(95093),i=a.n(n),r=a(71211);const s=e=>r.Bw.fromStr(e.locale("en").format("dd").toUpperCase()),o=s(i()().day(0)),l=s(i()());const d=function(){return{freq:arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.p3.WEEKLY,interval:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,byweekday:[l.weekday],wkst:o}},c=e=>{try{return(0,r.YI)(e,{forceset:!0})}catch(e){const t=new r.Dz;return t.rrule(new r.p3(d())),t}},u=e=>{try{return c(e)._rrule[0]}catch(e){return new r.p3(d())}};const p=(e,t)=>{const a=new r.Dz;return a.rrule(new r.p3(d(m(e),t))),a},m=e=>{switch(e){case"day":default:return r.jN.DAILY;case"hour":return r.jN.HOURLY;case"minute":return r.jN.MINUTELY;case"month":return r.jN.MONTHLY;case"week":return r.jN.WEEKLY;case"year":return r.jN.YEARLY}}},63210:(e,t,a)=>{"use strict";a.d(t,{AX:()=>d,Gc:()=>u,yD:()=>p});var n=a(64467),i=a(66365),r=a(76865),s=a(24346);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const d=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#00C875","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"],c={direction:"ltr",palette:{primary:{main:"#53bdeb"},secondary:{main:"#2C2E2F"}},typography:{fontFamily:"Montserrat, sans-serif"},components:{MuiOutlinedInput:{styleOverrides:{root:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"}}}},MuiTypography:{styleOverrides:{root:{color:"var(--color-text)"},body2:{color:"var(--color-text)"}}},MuiPaper:{styleOverrides:{root:l({},s.$)}},MuiIconButton:{styleOverrides:{root:{color:"var(--color-primary)"}}},MuiButton:{styleOverrides:{root:{"&.Mui-disabled":{opacity:.75,color:"var(--color-text-muted)"}},containedPrimary:{color:"var(--color-primary-contrast)"}}},MuiListItemIcon:{styleOverrides:{root:{color:"var(--color-primary)"}}},MuiDialogContentText:{styleOverrides:{root:{color:"var(--dialog-text)"}}},MuiListItem:{styleOverrides:{root:{".MuiTypography-root.ListItemText-secondary":{color:"var(--color-text-muted)"},"& .ListItemText-secondary":{color:"var(--color-text-muted)"}}}},MuiTextField:{styleOverrides:{root:l({},r.yZ)}}}},u=((0,i.A)(l(l({},c),{},{palette:l(l({},c.palette),{},{mode:"light"})})),(0,i.A)(l(l({},c),{},{palette:l(l({},c.palette),{},{mode:"dark"})})),{boards:{tasksHeader:{background:"var(--tasks-board-bg)"},tasksPanel:{background:"var(--tasks-group-bg)",tasks:{border:"transparent"},tasksHeader:{backgorund:void 0}}}}),p={boards:{tasksHeader:{background:"var(--tasks-board-bg)"},tasksPanel:{background:"var(--tasks-group-bg)",tasks:{border:"transparent"},tasksHeader:{backgorund:void 0}}}}},65826:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});var n=a(46217),i=a(96540);let r=null;function s(){return(0,i.useMemo)(()=>(r||(r=new n.c),r),[])}},66159:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,L:()=>s});const n={taskViewContainerOffset:{top:0,left:0},displayMode:"board",currentBoardView:{type:"board",id:void 0},isTasksPanelOpen:!1,isShareDialog:!1,deleteTaskGroupDialogOpen:!1,extraDataTaskId:"",editableTaskId:"",openGroupMenuById:"",openGroupColorPickerById:"",loginDialogOpen:!1,fullScreen:!1,pickerOptions:[],isShowAll:!1,isDarkMode:!1,isSortActive:!1,sortingTarget:"",sortColumn:"",activeColumn:"",isSortPendingSave:!1,isPendingReorder:!1,tasksFilter:{$or:[{deleted:{$exists:!1}},{deleted:!1}]},advancedFilterConditions:[],menuActiveTaskId:"",personFilter:"",sortByColumn:"",activeNewTaskRow:{groupId:""},toggleTasksMap:{},originalTasksOrder:[],localData:{},forceEditModeToGroupNameByGroupId:"",forceEditModeByTaskId:"",taskViewSideDrawerOpen:"",limits:{tasks:10,boards:2},newTaskText:"",creatingFirstBoardStatus:"",viewMode:"tasks",isTaskModalOpen:!1,isNewTab:!1,focusTask:{},currentDraggedId:"",isAutomationsPanelShown:!1},i=(0,a(30038).Z0)({name:"task",initialState:n,reducers:{setCurrentFPS:(e,t)=>{e.currentFPS=t.payload},setScrollVelocity:(e,t)=>{e.scrollVelocity=t.payload},setTaskViewIsScrollingEnd:(e,t)=>{e.isScrollingEnd=!0,t.payload||(e.isScrollingStart=!1)},setTaskViewIsScrollingStart:(e,t)=>{e.isScrollingStart=t.payload},setTaskViewContainerOffset:(e,t)=>{e.taskViewContainerOffset=t.payload},setDeletedBoardName:(e,t)=>{let{payload:a}=t;e.deletedBoardName=a},clearDeletedBoardName:e=>{delete e.deletedBoardName},setTaskSnackbarMessage:(e,t)=>{let{payload:a}=t;e.taskSnackbarMessage=a},setUpgradeSnackbarMessage:(e,t)=>{let{payload:a}=t;e.upgradeSnackbarMessage=a},clearTaskSnackbarMessage:e=>{delete e.taskSnackbarMessage},toggleConfirmDialog(e,t){let{type:a,payload:n}=t;e.deleteTaskGroupDialogOpen=n.deleteTaskGroupDialogOpen,e.taskGroupIdPendingDelete=n.taskGroupIdPendingDelete},setIsGroupDragging(e,t){e.isGroupDragging=t.payload},setFreeLimits(e,t){e.limits=t.payload},handleShareDialog(e,t){let{type:a,payload:n}=t;e.isShareDialog=n},setIsTasksPanelOpen(e,t){e.isTasksPanelOpen=t.payload},setPickerOptions(e,t){e.pickerOptions=t.payload},setOpenGroupMenuById(e,t){e.openGroupMenuById=t.payload},setOpenGroupColorPickerById(e,t){e.openGroupColorPickerById=t.payload},setLoginDialogOpen(e,t){e.loginDialogOpen=t.payload},setFullScreen(e,t){e.fullScreen=t.payload},setSortByColumnAndOrder(e,t){let{payload:a}=t;e.sortByColumn=a.sortByColumn,e.sortOrder=a.sortOrder},setSortIsPendingReorder(e,t){let{payload:a}=t;e.isPendingReorder=a},setTasksFilterName(e,t){e.tasksFilter.text=t.payload?new RegExp(t.payload,"i"):"",""===e.tasksFilter.text&&delete e.tasksFilter.text},setPersonFilter(e,t){e.personFilter=t.payload?t.payload:""},toggleTaskMenu(e,t){let{payload:a}=t;e.menuActiveTaskId=a},setDisplayMode(e,t){e.displayMode=t.payload},setCurrentBoardView(e,t){e.currentBoardView=t.payload},setActiveNewTaskRow(e,t){e.activeNewTaskRow=t.payload},openSubtasksForTaskList(e,t){for(const a of t.payload)e.toggleTasksMap[a]=!0},closeSubtasksForTaskList(e,t){for(const a of t.payload)delete e.toggleTasksMap[a]},toggleTask(e,t){const a=t.payload;e.toggleTasksMap[a]?delete e.toggleTasksMap[a]:e.toggleTasksMap[a]=!0},setOriginalTaskOrder(e,t){e.originalTasksOrder=t.payload},setSortActive(e,t){e.isSortActive=t.payload},setForceEditModeToGroupNameByGroupId(e,t){e.forceEditModeToGroupNameByGroupId=t.payload},setForceEditModeByTaskid(e,t){e.forceEditModeByTaskId=t.payload},setTaskViewSideDrawerOpenWith(e,t){e.taskViewSideDrawerOpen=t.payload},setnewTaskText(e,t){e.newTaskText=t.payload},setCreatingFirstBoardStatus(e,t){e.creatingFirstBoardStatus=t.payload},setViewMode(e,t){e.viewMode=t.payload},toggleTaskModal(e,t){e.isTaskModalOpen=t.payload},setIsNewTab(e,t){e.isNewTab=t.payload},setFocusedTask(e,t){e.focusTask=t.payload},setCurrentDraggedId(e,t){e.currentDraggedId=t.payload}}}),r=i.reducer,s=i.actions},66472:(e,t,a)=>{"use strict";a.d(t,{L:()=>o});var n=a(30038),i=a(61980),r=a(13364);let s=!1;const o=(0,n.zD)("initAuth",async(e,t)=>{if(s)return{skipped:!0};s=!0;try{const e=t.dispatch;e((0,r.po)("autoJwtStarted")),e((0,r.I0)());const n=await i.authService.attemptJwtAuth(e);if(n)try{var a;"undefined"!=typeof window&&"undefined"!=typeof chrome&&(null===(a=chrome)||void 0===a||null===(a=a.runtime)||void 0===a?void 0:a.id)&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("blueticks-request-fcm-token"))},1e3)}catch(e){}return{success:n}}finally{s=!1}});(0,n.zD)("externalAccessToken",async(e,t)=>{t.dispatch;i.authService.persistToken(e);return!0})},66550:(e,t,a)=>{"use strict";a.d(t,{Y3:()=>o,_J:()=>l,q_:()=>s});var n=a(85639),i=a(1081),r=a(36596);const s=(0,i.Mz)([e=>r.d7y.selectAll(e)],e=>e.slice().sort((e,t)=>(t.timestamp||0)-(e.timestamp||0))),o=(0,i.Mz)([e=>r.d7y.selectEntities(e),e=>{var t,a;return null!==(t=null===(a=e.TeamInboxReducer)||void 0===a?void 0:a.chatViewMode)&&void 0!==t?t:null}],(e,t)=>{var a;const n=null!==(a=null==t?void 0:t.chatId)&&void 0!==a?a:null;return n?e[n]||("chat"===(null==t?void 0:t.type)?null==t?void 0:t.tempChatData:null):null}),l=((0,i.Mz)([e=>r.oTf.selectAll(e)],e=>e.slice().sort((e,t)=>(e.timestamp||0)-(t.timestamp||0))),(0,i.Mz)([e=>o(e),e=>{var t,a;return null!==(t=null===(a=e.TeamInboxReducer)||void 0===a?void 0:a.waSessionPhoneNumber)&&void 0!==t?t:null}],(e,t)=>{var a;if(null==e||!e.isReadOnly)return!1;if(!t)return!0;if(null==e||!e.isGroup||null===(a=e.groupMetadata)||void 0===a||!a.participants)return!0;const n=e.groupMetadata.participants.find(e=>{var a;const n=null===(a=e.id)||void 0===a?void 0:a._serialized;return n&&n.includes(t)});return!n||!n.isAdmin}),e=>(0,i.Mz)([e=>{var t,a;return null!==(t=null===(a=e.TeamInboxReducer)||void 0===a?void 0:a.waSessionPhoneNumber)&&void 0!==t?t:null},e=>r.aQK.selectEntities(e)],(t,a)=>(0,n.zd)(e,a,t)))},67158:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>b,HB:()=>d,Tw:()=>l,Vm:()=>c,oc:()=>f});var n=a(91153),i=a(30038),r=a(38189);const s={isToggleableNavOpen:!0,isInviteModalOpen:!1,calendarViewOpen:!1,formState:"",isEmojiPickerOpen:!1,menuActiveGroupId:"",isMobileMenuOpen:!1,drawerIsOpen:!0,devices:[],isSocketModalOpen:!1,isHowToScanQrModalOpen:!1,newTabBoardIsOpen:!1,newTabTimerShown:!1,displayedNewNotifications:[],startChatWithPhoneNumberOpen:!1,setNewStatusPopupOpen:!1,staleSessionId:null,settings:void 0,viewMonthStart:void 0},o=(0,i.Z0)({name:"mainSlice",initialState:s,reducers:{setStaleSessionId(e,t){e.staleSessionId=t.payload,e.newSessionRequested=!0},handleToggleNav(e,t){let{type:a,payload:n}=t;e.isToggleableNavOpen=n},inviteModalOpen(e,t){let{type:a,payload:n}=t;e.isInviteModalOpen=n},toggleCalendarView(e,t){var a;e.calendarViewOpen=null!==(a=t.payload)&&void 0!==a?a:!e.calendarViewOpen},closeCalendarView(e,t){e.calendarViewOpen=!1},setFormState(e,t){e.formState=t.payload},setDevices(e,t){e.devices=t.payload},toggleGroupMenu(e,t){e.menuActiveGroupId=t.payload},toggleMobileMenu(e,t){e.isMobileMenuOpen=t.payload},setDrawerToggle(e,t){e.drawerIsOpen=t.payload},toggleSocketModal:(e,t)=>{e.isSocketModalOpen=t.payload},toggleHowToScanQrModal:(e,t)=>{e.isHowToScanQrModalOpen=t.payload},toggleNewTabBoardWindow:(e,t)=>{e.newTabBoardIsOpen=t.payload},toggleNewTabTimer:(e,t)=>{e.newTabTimerShown=t.payload},setDisplayedNewNotifications(e,t){e.displayedNewNotifications=[...e.displayedNewNotifications,t.payload]},resetDisplayedNewNotifications(e){e.displayedNewNotifications=[]},setStartChatWithPhoneNumberOpen(e,t){e.startChatWithPhoneNumberOpen=t.payload},setSetNewStatusPopupOpen(e,t){e.setNewStatusPopupOpen=t.payload},setSettings:(e,t)=>{e.settings=t.payload},setViewMonthStart:(e,t)=>{e.viewMonthStart=t.payload}}}),l=(0,i.zD)("initStorageWrapper",async(e,t)=>{const a=t.dispatch;(new n.po).on("storage-error",e=>{a((0,r.mC)(!0))})}),d=o.actions,{toggleSocketModal:c,toggleHowToScanQrModal:u,toggleNewTabBoardWindow:p,toggleNewTabTimer:m,setDisplayedNewNotifications:g,resetDisplayedNewNotifications:y,setStartChatWithPhoneNumberOpen:h,setSetNewStatusPopupOpen:v,setSettings:f}=o.actions,b=o.reducer},67266:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(47839),i=a(44010),r=a(54263),s=a(51366),o=a(66159),l=a(31141),d=a(2975),c=a(32389),u=a(74848);function p(e){const{t}=(0,c.Bd)(d.MF),a=(0,i.jL)(),p=(0,i.GV)(e=>e.TasksReducer.sortOrder),m=(0,i.GV)(e=>e.TasksReducer.sortByColumn),{columnId:g}=e;return(0,u.jsxs)("div",{style:{display:p&&m===g?"flex":""},className:"".concat(s.A.sort_flex_wrapper," ").concat(p&&m===g?s.A.currentlySorted:"","\n   "),children:[(0,u.jsx)("button",{onClick:function(){a((0,l.tt)()),a(o.L.setSortByColumnAndOrder({sortByColumn:"",sortOrder:void 0}))},className:s.A.aside_btn,children:t("sortButton.clearButton")}),(0,u.jsx)(n.A,{title:t("sortButton.sortTooltip"),arrow:!0,placement:"top",children:(0,u.jsx)("button",{onClick:()=>(e=>{let t;t="asc"===p?"desc":"asc";a(o.L.setSortByColumnAndOrder({sortByColumn:e,sortOrder:t})),a((0,l.J0)({sortOrder:t,sortColumnId:e}))})(g),className:s.A.sortButton,children:(0,u.jsxs)("div",{className:"".concat(s.A.caretsWrap),children:[(0,u.jsx)("div",{className:s.A.caretDown,style:{color:p&&m===g?"asc"===p?"var(--color-surface)":"var(--color-surface)6b":"var(--color-text)"},children:(0,u.jsx)(r.pAn,{})}),(0,u.jsx)("div",{className:s.A.caretUp,style:{color:p&&m===g?"desc"===p?"var(--color-surface)":"var(--color-surface)6b":"var(--color-text)"},children:(0,u.jsx)(r.K4B,{})})]})})}),(0,u.jsx)("button",{onClick:()=>{a((0,l.z2)()),a(o.L.setSortByColumnAndOrder({sortByColumn:"",sortOrder:void 0})),a(o.L.setSortActive(!1))},className:s.A.aside_btn,children:t("sortButton.saveButton")})]})}},67935:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var n=a(94303),i=a(44010),r=a(59584);const s="timeline-cell__dateContainer___6Wbl6",o="timeline-cell__timelineCell___6Wbl6",l="timeline-cell__timelineCellDataEmpty___6Wbl6",d="timeline-cell__timelineCellData___6Wbl6",c="timeline-cell__valueText___6Wbl6";var u=a(2975),p=a(94193),m=a(95093),g=a.n(m),y=a(96540),h=a(32389),v=a(74848);const f=e=>{let{cellValue:t,taskId:a,onUpdate:m,columnId:f,groupId:b,readOnly:k,sx:w}=e;const{t:x}=(0,h.Bd)(u.MF),[D,I]=(0,y.useState)(!1),A=(0,i.jL)(),T=new Date(null==t?void 0:t.startDate),S=new Date(null==t?void 0:t.endDate),[O,C]=(0,y.useState)(!1),[M,B]=(0,y.useState)(),[_,P]=(0,y.useState)(),R=(null==S?void 0:S.getTime())-(null==T?void 0:T.getTime()),E=Math.ceil(R/864e5),j=g()(null==t?void 0:t.startDate).format("MMM Do"),L=g()(null==t?void 0:t.endDate).format("MMM Do");let N,F;const z=new Date,U="timeline_".concat(a,"_").concat(f);return(0,y.useEffect)(()=>{F=new Date(null==t?void 0:t.startDate),N=new Date(null==t?void 0:t.endDate);const e=Math.abs((z.getTime()-F.getTime())/(N.getTime()-F.getTime())*100);P(Math.floor(e)),z.getTime()<new Date(F).getTime()&&P(0),F.getFullYear()!==N.getFullYear()?(B(F.getFullYear().toString().substr(-2)),C(!0)):(B(""),C(!1))},[t]),(0,v.jsx)(p.A,{className:s,onClick:function(){A(n.S.setPickerTypeAndId({pickerAnchorId:U,pickerProps:{cellValue:t,columnId:f,taskId:a,groupId:b,type:"timeline-picker"}}))},id:U,sx:w,children:(0,v.jsxs)("div",{onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),className:o,children:[isNaN(E)&&(0,v.jsx)("div",{className:l,children:(0,v.jsx)("span",{style:{textAlign:"center"},children:D?x("timelineCell.setDates"):"-"})}),t&&(0,v.jsx)("div",{style:{display:"flex",justifyContent:"space-between",background:"linear-gradient(90deg,  rgba(87,155,252,1)  ".concat(_,"%  , rgba(232,249,253,1) ").concat(_,"%)")},className:d,children:(0,v.jsxs)("span",{className:c,style:{backgroundImage:"linear-gradient(90deg,  var(--color-surface) ".concat(_,"%   , #809BA9 ").concat(_,"% )"),display:"block",textOverflow:"ellipsis",marginRight:"3px",whiteSpace:"nowrap",overflow:"hidden",textAlign:"center"},children:[j,O?","+M:""," - ",L," "]})}),!isNaN(E)&&(0,v.jsxs)("span",{style:{fontSize:"12px",fontWeight:700,lineHeight:"12px",alignSelf:"center",borderRadius:"4px",padding:"6px, 4px",border:"1px solid",borderColor:"#809BA9",margin:"0 3px",minWidth:"14px",display:"flex",alignItems:"center",justifyContent:"center"},children:[!D&&E+"d",D&&(0,v.jsx)(r.z5f,{onClick:e=>function(e){e.stopPropagation(),m(void 0)}(e)})]})]})})}},68876:(e,t,a)=>{"use strict";a.d(t,{SA:()=>h,T6:()=>y,clearTempChatDataIfChatAvailableThunk:()=>b});var n=a(64467),i=a(30038),r=a(95093),s=a.n(r),o=a(92032),l=a(36596),d=a(61504),c=a(66550),u=a(6889);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const g=(0,i.zD)("requestChatListByRangeThunk",async(e,t)=>{const a=t.dispatch;a(l.TeamInboxChatsCacheReducerActions.setItemsLoading(!0)),a(o.cZv.initiate({type:"requestChatListByRange",options:{limit:e.limit,offset:e.offset}}))}),y=((0,i.zD)("requestWhatsappPaginatedMessagesByChatIdThunk",async(e,t)=>{const a=t.dispatch;a(l.TeamInboxMessagesCacheReducerActions.setItemsLoading(!0)),a(o.cZv.initiate({type:"requestPaginatedMessages",chatId:e.chatId,options:{limit:e.limit,offset:e.offset}}))}),(0,i.zD)("requestSendWhatsappMessageByChatIdThunk",async(e,t)=>{(0,t.dispatch)(o.cZv.initiate({type:"requestSendWhatsappMessageByChatId",waMsg:e}))}),(0,i.zD)("requestMessageMediaThunk",async(e,t)=>{const a=t.dispatch;a(l.TeamInboxMessagesCacheReducerActions.updateOne({id:e,changes:{mediaStatus:"loading"}})),a(o.cZv.initiate({type:"requestMessageMedia",msgId:e}))}),(0,i.zD)("requestSendSeenByChatIdThunk",async(e,t)=>{(0,t.dispatch)(o.cZv.initiate({type:"requestSendSeenByChatId",chatId:e}))})),h=((0,i.zD)("chat/markActiveChatAsSeenIfNeeded",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,c.Y3)(n);i&&0!==i.unreadCount&&a(o.cZv.initiate({type:"requestSendSeenByChatId",chatId:i.id._serialized}))}),(0,i.zD)("requestMissingChatsImagesThunk",async(e,t)=>{let{startIndex:a,endIndex:n}=e;const i=t.dispatch,r=t.getState();let l=[];l=(0,c.q_)(r).slice(a,n+1).map(e=>(0,u.Hv)(r,e.id._serialized)).filter(Boolean).filter(e=>s()(null==e?void 0:e.profilePicLastUpdate).isBefore(s()().subtract(1,"day"))||!(null!=e&&e.profilePicLastUpdate)).map(e=>{var t;return null===(t=e.id)||void 0===t?void 0:t._serialized}),l.length>0&&i(o.cZv.initiate({type:"requestMissingContactsImages",contactIds:l}))}),(0,i.zD)("requestChatByIdThunk",async(e,t)=>{(0,t.dispatch)(o.cZv.initiate({type:"requestChatById",chatId:e}))})),v=(0,i.zD)("requestContactsAndChatsBySearchThunk",async(e,t)=>{let{debouncedSearchFilter:a}=e;const n=t.dispatch;n(d.$.setFilteredChatAndContactList({contacts:[],searchResponseStatus:"loading"})),n(l.TeamInboxChatsCacheReducerActions.setItemsLoading(!0)),n(o.cZv.initiate({type:"requestContactsAndChatsBySearch",options:{searchFilter:a}}))}),f=(0,i.zD)("clearChatsCacheWithPreservationThunk",async(e,t)=>{var a,n;const{dispatch:i,getState:r}=t,s=r(),o=null!==(a=null===(n=s.TeamInboxReducer)||void 0===n?void 0:n.chatViewMode)&&void 0!==a?a:null;if("chat"===(null==o?void 0:o.type)&&null!=o&&o.chatId){var c,u;const e=null===(c=s.DBTeamInboxChatsCacheReducer)||void 0===c||null===(c=c.entities)||void 0===c?void 0:c[null!==(u=null==o?void 0:o.chatId)&&void 0!==u?u:""];var p;if(e)i(d.$.preserveChatInTempData({chatId:null!==(p=null==o?void 0:o.chatId)&&void 0!==p?p:"",chatData:e}))}i(l.TeamInboxChatsCacheReducerActions.clearState()),i(d.$.resetFilteredChatAndContactList())}),b=(0,i.zD)("clearTempChatDataIfChatAvailableThunk",async(e,t)=>{var a,n;const{dispatch:i,getState:r}=t,s=r(),o=null!==(a=null===(n=s.TeamInboxReducer)||void 0===n?void 0:n.chatViewMode)&&void 0!==a?a:null;if("chat"===(null==o?void 0:o.type)&&null!=o&&o.chatId&&null!=o&&o.tempChatData){var l,c;(null===(l=s.DBTeamInboxChatsCacheReducer)||void 0===l||null===(l=l.entities)||void 0===l?void 0:l[null!==(c=null==o?void 0:o.chatId)&&void 0!==c?c:""])&&i(d.$.clearTempChatData())}}),k=((0,i.zD)("clearMessagesCacheThunk",async(e,t)=>{const{dispatch:a}=t;a(l.TeamInboxMessagesCacheReducerActions.clearState())}),(0,i.zD)("generateParticipantsNameListThunk",async(e,t)=>{const a=t.getState(),n=t.dispatch,i=(0,c.Y3)(a);if(null==i||!i.isGroup||!i.groupMetadata)return;const r=i.groupMetadata.participants;if(null==r||!r.length)return;const s=r.map(e=>e.id._serialized),o=(0,c._J)(s)(a),d=[];let u=!1;for(const e of Object.values(o))"You"===e?u=!0:d.push(e);u&&d.push("You");const p=d.join(", ");n(l.TeamInboxChatsCacheReducerActions.updateOne({id:i._serialized,changes:{groupMetadata:m(m({},i.groupMetadata),{},{participantsDisplayNameList:p})}}))}),(0,i.zD)("requestWaMeInfoThunk",async(e,t)=>{(0,t.dispatch)(o.cZv.initiate({type:"requestWaMeInfo"}))}));(0,i.zD)("handleChatsInitializationThunk",async(e,t)=>{var a,n;let{debouncedSearchFilter:i}=e;const{dispatch:r,getState:s}=t,o=s(),d=o.DBTeamInboxChatsCacheReducer.itemsLoading,c=o.DBTeamInboxChatsCacheReducer.itemsLoadedLocaly,p=null!==(a=null===(n=o.TeamInboxReducer)||void 0===n||null===(n=n.filteredChatAndContactList)||void 0===n?void 0:n.searchResponseStatus)&&void 0!==a?a:"noSearchValue",m=o.UserReducer.userId,y=i.trim().length>0;if(d)return;if(y&&c)return r(f()),void r(v({debouncedSearchFilter:i}));if(m&&!c&&!y||!y&&c&&"noSearchValue"!==p){var h;r(f());const e=o.DBWaContactsCacheReducer.itemsLoadedLocaly,t=(0,u.NR)(o);e&&t||r(l.bF$.find({})),null!==(h=o.TeamInboxReducer)&&void 0!==h&&h.waSessionPhoneNumber||r(k()),r(g({limit:50,offset:0}))}})},69886:(e,t,a)=>{"use strict";a.d(t,{B:()=>r});var n=a(93553),i=a(95005);class r extends n.S{static postMessageWithResponse(e,t){return super.postMessageWithResponse(e,t,"contentMessageService")}static async getChatsAndContacts(){return(0,i.XL)({cmd:"getChatsAndContacts"})}static async getContacts(e){return(0,i.XL)({cmd:"get_contacts",data:e})}static async getChats(e){return(0,i.XL)({cmd:"get_chats",data:e})}static async getChatParticipants(e){return(0,i.XL)({cmd:"get_chat_participants",data:e})}static async getCurrentChat(e){return(0,i.XL)({cmd:"getCurrentChat",data:null==e?void 0:e.clearInput})}static async focusContact(e){return(0,i.XL)({cmd:"focusContact",data:e})}static async openChatByPhone(e){return(0,i.XL)({cmd:"openChatByPhone",data:e.replace("+","")})}static async updateShouldAppearChatsByList(e){return(0,i.XL)({cmd:"update-should-appear-chats-by-list",data:e})}static async updateChatModels(e){return(0,i.XL)({cmd:"update-chat-models",contactLabels:e})}static async injectContactLabelActionsToAllMissingChats(){return(0,i.XL)({cmd:"injectContactLabeActionsToAllMissingChats"})}static async getPaginatedMessages(e){return(0,i.XL)({cmd:"get_paginated_messages",data:e})}static async getMessages(e){return(0,i.XL)({cmd:"get_messages",timeoutOverride:6e4,data:e})}static async getWaMessageMediaByWaMessageKey(e){return(0,i.XL)({cmd:"get_wa_message_media_by_wa_message_key",timeoutOverride:6e4,data:e})}static async sendMessageViaWhatsapp(e,t){const a={waMessage:e,userMessageId:t};let n=null;try{n=await(0,i.XL)({cmd:"sendMessageViaWhatsapp",data:a})}catch(e){n={error:e.message,errorType:e.errorType,errorCode:e.errorCode,errorMessage:e.errorMessage,errorData:e.errorData,errorStack:e.errorStack,errorTimestamp:e.errorTimestamp,errorSource:e.errorSource}}return n}static async getMessageLogWAMessageAck(e){return(0,i.XL)({cmd:"getMessageLogWAMessageAck",data:{messageKeys:e}})}static async getWAMessageAckData(e){return(0,i.XL)({cmd:"getWAMessageAckData",data:{messageKeys:e}})}static async getWaMessageByWaMessageKey(e){return(0,i.XL)({cmd:"getWaMessageByWaMessageKey",data:e})}static async getUnloggedWaMessageKeyIfExistInStore(e,t,a){const n={chatId:e,userMessageId:t,dueDate:a};return(0,i.XL)({cmd:"getUnloggedWaMessageKeyIfExistInStore",data:n,timeoutOverride:12e4})}static async getWaMessagesAckByWaMessagesKeys(e){return(0,i.XL)({cmd:"get_wa_messages_ack_by_wa_messages_keys",data:e})}static async getWaMessagesAckDataByWaMessagesKeys(e){return(0,i.XL)({cmd:"get_wa_messages_ack_data_by_wa_messages_keys",data:e})}static async getMessageInfo(e){return(0,i.XL)({cmd:"get_message_info",data:{waMessageKey:e}})}static async searchMessages(e){return(0,i.XL)({cmd:"search_messages",data:e})}static async searchContacts(e){return(0,i.XL)({cmd:"search_contacts",data:e})}static async searchContactsAndChats(e){return(0,i.XL)({cmd:"get_contacts_and_chats_by_search",data:e})}static async checkIfReplyingToMessage(){return await(0,i.XL)({cmd:"checkIfReplyingToMessage"})}static async getMyWaProfile(){return(0,i.XL)({cmd:"getMyWaProfile"})}static async getUserInfo(){return(0,i.XL)({cmd:"getUserInfo"})}static async getWaMeInfo(){return(0,i.XL)({cmd:"getWaMeInfo"})}static async setNewStatus(e){return(0,i.XL)({cmd:"setNewStatus",data:e})}static async getMedia(e){return(0,i.XL)({cmd:"getMedia",data:{chatId:e}})}static async closeMediaPreview(){var e;return null!==(e=(0,i.XL)({cmd:"closeMediaPreview"}))&&void 0!==e&&e}static async getChatById(e){return(0,i.XL)({cmd:"get_chat_by_id",data:e})}static async getFormattedChatById(e){return(0,i.XL)({cmd:"get_formatted_chat_by_id",data:e})}static async getMessageMedia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return(0,i.XL)({cmd:"get_message_media",data:{messageId:e,retries:t,delayMs:a}})}static async sendSeenByChatId(e){return(0,i.XL)({cmd:"send_seen_by_chatid",data:e})}static async getWAContactImageRequest(){return(0,i.XL)({cmd:"getWAContactImageRequest"})}static async getProfilePicThumb(e){return(0,i.XL)({cmd:"getProfilePicThumb",data:e})}static async getProfilePicUrl(e){return(0,i.XL)({cmd:"getProfilePicUrl",data:e})}static async getProfilePic(e){return(0,i.XL)({cmd:"get_profile_pic",data:{contactIds:Array.isArray(e)?e:[e]}})}static async getPollData(){return(0,i.XL)({cmd:"getPollData"})}static async getWaLinkPreview(e){return(0,i.XL)({cmd:"getWaLinkPreview",link:e})}static async clearChatInput(e){return(0,i.XL)({cmd:"clearChatInput",data:e})}static async isWhatsAppConnected(){return(0,i.XL)({cmd:"isWhatsAppConnected"})}static async rebuildContactNodes(){}static async reloadPage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.XL)({cmd:"reloadPage",data:e})}static async askClaude(e){return(0,i.XL)({cmd:"askClaude",data:{query:e}})}static async fetchUrlContent(e){return(0,i.SK)({cmd:"fetchUrlContent",data:e})}static async fetchUrlContentAsBlob(e){return(0,i.SK)({cmd:"fetchUrlContentAsBlob",data:e})}static async openTab(e){return(0,i.XL)({cmd:"openTab",data:e})}static async triggerQRTimeout(){return(0,i.XL)({cmd:"triggerQRTimeout"})}static async triggerWaLogout(){return(0,i.XL)({cmd:"triggerWaLogout"})}static async isMessageDeliverable(e){return(0,i.XL)({cmd:"isMessageDeliverable",data:e})}}},71158:(e,t,a)=>{"use strict";a.d(t,{A:()=>y});var n=a(64467),i=a(80045),r=a(99508),s=a(94193),o=a(80663),l=a(96540),d=a(20130),c=a(74848);const u=["text","onValueUpdate","onEditModeChange","onEnterPress","placeholder","boxSx","inputSx","className","preventClickEdit","forceEditMode","shouldAutoFlex","shouldStretch","disabled","inputProps","onChange","isMultiline","rowsMax","enableOverflowTooltip","centerText"];function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const g=e=>{var t,a;let{text:n,onValueUpdate:p,onEditModeChange:g,onEnterPress:y,placeholder:h,boxSx:v,inputSx:f,className:b,preventClickEdit:k,forceEditMode:w,shouldAutoFlex:x=!0,shouldStretch:D=!0,disabled:I,inputProps:A,onChange:T,isMultiline:S=!1,rowsMax:O=1,enableOverflowTooltip:C=!0,centerText:M=!1}=e,B=(0,i.A)(e,u);const[_,P]=(0,l.useState)(!1),[R,E]=(0,l.useState)(),j=(0,l.useRef)(null),L=(0,l.useRef)(null);return(0,l.useEffect)(()=>{E(n)},[n]),(0,l.useEffect)(()=>{if(S&&_){const e=L.current;if(e){e.focus();const t=e.value.length;e.setSelectionRange(t,t)}}},[_,S]),(0,c.jsx)(o.A,m(m({sx:{flex:x?"auto":"",width:D?"100%":null,flexShrink:D?1:0,justifyContent:M?"center":"flex-start"},direction:"row"},B),{},{children:w||_?(0,c.jsx)(r.Ay,m({inputRef:L,rowsmax:O,value:null!==(t=null!=R?R:n)&&void 0!==t?t:"",multiline:S,disabled:I,onBlur:function(e){P(!1),g&&g(!1),""===R&&E(n),R!==n&&p&&p(null!=R?R:"")},onChange:function(e){var t;let{target:a}=e;const n=null!==(t=a.value)&&void 0!==t?t:"";E(n),T&&T(n)},autoFocus:_||w,placeholder:h,sx:m({p:0,background:"var(--color-surface)",".MuiInputBase-input":m({unicodeBidi:"plaintext"},M&&{textAlign:"center"})},f),onKeyUp:e=>{if("Enter"===e.key){e.target.blur()}}},A)):(0,c.jsx)(d.A,{value:R,styling:v,children:(0,c.jsx)(s.A,{id:"editable",ref:j,sx:m(m({unicodeBidi:"plaintext"},M&&{textAlign:"center"}),v),onClick:e=>k?"":function(e,t){e.stopPropagation(),P(t),g&&g(t)}(e,!0),children:null!==(a=null!=R?R:n)&&void 0!==a?a:""})})}))},y=(0,l.memo)(g)},71240:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var n=a(92032),i=a(87435);async function r(e,t,a,r,s){if(!e||0===e.length)return;const o=e.filter(e=>{if(!e._id||t.entities[e._id])return!1;return!["completed","complete-delivered","complete-sent"].includes(e.campaignStatus)});if(o.length>0)try{const e=s||(0,i.yS)()||"frontend";for(const t of o)try{await a(n.Hvd.endpoints.createEntity.initiate({service:"actions",entity:{cmd:"create-campaign-log",campaignId:t._id,status:"campaign-added-to-client",source:"client",clientType:e,metadata:{logMessage:"Campaign added to ".concat(e," client state"),contactCount:t.contactCount,clientId:r||void 0}}}))}catch(e){}}catch(e){}}},71274:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o});var n=a(30038),i=a(1081),r=a(36596);(0,i.Mz)([(e,t)=>(0,r.wvC)(e.DBGanttReducer,{boardId:t})],e=>e.map((e,t)=>e._id));const s=(0,n.Z0)({name:"task",initialState:{settingsMode:!1,isPanelOpen:!0},reducers:{setSettingsMode(e,t){e.settingsMode=t.payload},setIsPanelOpen(e,t){e.isPanelOpen=t.payload}}}),o=s.reducer;s.actions},72678:(e,t,a)=>{"use strict";a.d(t,{A:()=>y});var n=a(32325),i=a(90815),r=a(47839),s=a(28161),o=a(83095),l=a(97424),d=a(44010),c=a(1612),u=a(36596),p=a(1422),m=a(56855),g=a(74848);function y(e){let{taskId:t,cellValue:a,columnId:y,mockValue:h,togglePicker:v,boardId:f}=e;const b="person_".concat(t,"_").concat(y),k=(0,d.GV)(e=>(0,l.fJ)(e,a,f)),w=(null==k?void 0:k.length)>0?k:null!=h?h:[];return(0,u.qfk)(y)?(0,g.jsx)(n.A,{variant:"rectangular"}):(0,g.jsxs)(i.A,{direction:"row",alignItems:"center",id:b,onClick:()=>v({anchorId:b,pickerType:"person-picker"}),sx:{cursor:"pointer",width:"100%",justifyContent:"center",padding:!h&&"0 5px"},children:[(0,g.jsx)(r.A,{title:(0,g.jsx)(i.A,{direction:"column",children:w.map((e,t)=>(0,g.jsx)(s.A,{dir:"auto",children:(0,m.J)(null==e?void 0:e.profile)},t))}),children:(0,g.jsx)(o.A,{sx:{alignItems:"end",".MuiAvatar-circular":{height:"20px",width:"20px",background:"var(--color-primary)",color:"white",fontSize:"10px"}},max:3,children:w.map((e,t)=>{const a=null!=e&&e.profile?e.profile:e;return(0,g.jsx)(s.A,{children:(0,g.jsx)(p.X,{size:22,email:null==a?void 0:a.email,profileImg:null==a?void 0:a.profileImg,lastName:"undefined"===(null==a?void 0:a.lastName)||void 0===(null==a?void 0:a.lastName)?" ":null==a?void 0:a.lastName,firstName:null==a?void 0:a.firstName})},t)})})}),0===w.length&&(0,g.jsx)(c.NBi,{color:"#809ba8",size:22})]})}},75803:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>h});var n=a(64467),i=a(30038),r=a(95093);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const l={contactPicMap:{},selectedEventDate:null,calendarMode:"calendar",currentDate:a.n(r)()().toDate(),view:"month",calendarSidebarFilters:{showMessages:!0,showCampaigns:!0}},d=(0,i.Z0)({name:"Calendars",initialState:l,reducers:{setContactPicMap:(e,t)=>{let{payload:a}=t;e.contactPicMap=o(o({},e.contactPicMap),{},{[a[0]]:a[1]})},setSelectedEventDate:(e,t)=>{let{payload:a}=t;e.selectedEventDate=a},setCalendarMode:(e,t)=>{let{payload:a}=t;e.calendarMode=a},setCurrentDate:(e,t)=>{let{payload:a}=t;e.currentDate=a},setView:(e,t)=>{let{payload:a}=t;e.view=a},setCalendarSidebarFilters:(e,t)=>{let{payload:a}=t;e.calendarSidebarFilters=a}}}),{setContactPicMap:c,setSelectedEventDate:u,setCalendarMode:p,setCurrentDate:m,setView:g,setCalendarSidebarFilters:y}=d.actions,h=d.reducer},76759:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>s});const n=(0,a(30038).Z0)({name:"stickyHeader",initialState:{},reducers:{setStickyGroupId:(e,t)=>{e.stickyGroupId=t.payload},setProvided:(e,t)=>{e.provided=t.payload}}}),{setStickyGroupId:i,setProvided:r}=n.actions,s=n.reducer},76865:(e,t,a)=>{"use strict";a.d(t,{yZ:()=>n});a(96540),a(74848);const n={"&.MuiTextField-root":{".MuiInputLabel-root":{opacity:.5,top:"3px",color:"var(--color-primary)","&.Mui-focused":{color:"inherit"}},".MuiFormHelperText-root":{color:"var(--tasks-text-secondary)"},".MuiInput-root":{"&.Mui-disabled":{color:"var(--tasks-text-secondary)"},"&:before":{borderColor:"210 40% 96.1%"},"&:hover:not(.Mui-disabled):before":{borderColor:"210 40% 96.1%"}},".MuiInputBase-input":{color:"var(--color-primary)","&.Mui-disabled":{color:"var(--tasks-text-secondary)",WebkitTextFillColor:"var(--tasks-text-secondary)"}},".MuiInputAdornment-root":{"& .MuiButtonBase-root":{color:"var(--color-primary)"}},".MuiOutlinedInput-notchedOutline":{borderColor:"210 40% 96.1%"}}}},79043:(e,t,a)=>{"use strict";a.d(t,{$H:()=>i,Ym:()=>n});const n=["guest","member","owner"],i=e=>{var t,a;return[null==e||null===(t=e.profile)||void 0===t?void 0:t.firstName,null==e||null===(a=e.profile)||void 0===a?void 0:a.lastName].filter(e=>e).join(" ")||(null==e?void 0:e.email)||""}},79613:(e,t,a)=>{"use strict";a.d(t,{U:()=>u});var n=a(93188),i=a(13303),r=a(354),s=a(25650),o=a(28573),l=a(15614),d=a(54785),c=a(58980);let u,p=a(65606).env.REACT_APP_ENV||"production";switch(p){case"production":case"prod":u=r.A;break;case"staging":u=s.A;break;case"devserver":case"matan":case"uriel":i.A.API_ENDPOINT="http://localhost:3310","matan"===p&&(i.A.API_ENDPOINT="http://localhost:3310"),u=i.A;break;case"support":u=d.A;break;case"tudostage":u=o.A;break;case"tudoprod":u=l.A;break;case"development":case"dev":u=n.A;break;case"dev2":u=c.A}},79754:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>r,Cv:()=>s,fF:()=>i});const n=(0,a(30038).Z0)({name:"ModalActions",initialState:{component:"",openedby:"",importType:"",animationComponent:"",previousComponentToRender:""},reducers:{setComponentToRender(e,t){e.previousComponentToRender=e.component,e.component=t.payload},setAnimationComponentToRender(e,t){e.animationComponent=t.payload},setOpenedby(e,t){e.openedby=t.payload},setImportType(e,t){e.importType=t.payload},cleanComponentToRender(e){e.component="",e.previousComponentToRender=""}}}),i=n.actions,r=n.reducer,s={EXPORT_TO_EXCEL:"EXPORT_TO_EXCEL",IMPORT_EXCEL_TO_BLUETICKS:"IMPORT_EXCEL_TO_BLUETICKS",NEW_BOARD:"NEW_BOARD",FEATURE_NOT_AVAILABLE:"FEATURE_NOT_AVAILABLE",COMPLETE_PROFILE:"COMPLETE_PROFILE",INVITE_TO_WORKSPACE:"INVITE_TO_WORKSPACE",EMAIL_CONFIRMATION:"EMAIL_CONFIRMATION",EMAIL_CONFIRMATION_THANKS:"EMAIL_CONFIRMATION_THANKS",TRIAL_START:"TRIAL_START",TRIAL_EXTEND:"TRIAL_EXTEND",CONTACT_WORKSPACE_ADMIN:"CONTACT_WORKSPACE_ADMIN",DELETE_ACCOUNT:"DELETE_ACCOUNT",UPDATE_SUBSCRIPTION_WORKSPACE:"UPDATE_SUBSCRIPTION_WORKSPACE"}},79899:(e,t,a)=>{"use strict";a.d(t,{mm:()=>P,zZ:()=>_});var n=a(64467),i=a(36596),r=a(38189),s=a(55250),o=a(55693),l=a(90436),d=a(7952),c=a(79613),u=a(47283),p=a(19262),m=a(46457),g=a(67158),y=a(66159),h=a(59111),v=a(12239),f=a(6889),b=a(46217),k=a(45806),w=a(69886),x=a(29780),D=a(30038),I=a(95093),A=a.n(I),T=a(87879);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const C=new b.c,M=new l.d,B=(0,D.zD)("scheduleMessage",async(e,t)=>{var a,n;const r=t.getState(),o=r.WhatsAppReducer.isReply,l=Boolean((null==e?void 0:e.imageId)||(null==e||null===(a=e.asset)||void 0===a?void 0:a.url));if(e.contactList&&e.contactList.length>1){const a=!!e._id;for(let n=0;n<e.contactList.length;n++){const i=e.contactList[n],r=a&&0===n,s=O(O({},e),{},{contactList:[i],_id:r?e._id:void 0});await t.dispatch(B(s))}return}const c=e.rruleset;let u;u=e.isPoll?O(O({},e.poll),{},{options:e.poll.options.filter(e=>e.text&&""!==e.text)}):{question:"",options:[{id:Math.floor(1e24*Math.random()),text:"",order:0},{id:Math.floor(1e24*Math.random()),text:"",order:1}],allowMultiple:!1};const p=O(O({},e),{},{id:T.generate({length:8,charset:"alphanumeric"}),dueDate:A()(e.dueDate).startOf("minute").toISOString(),status:"pending",state:k.Zu.pending,replyData:o,poll:u,messageColor:e.messageColor?e.messageColor:(0,d.yl)(),rruleset:c});null!=p&&p.replyData&&setTimeout(()=>{const e=document.querySelectorAll("footer [data-icon='x']")[1];e instanceof HTMLElement&&e.click()},0);const m=await(0,f.gA)(r,null===(n=p.contactList)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.id);var g,y;p._id?(t.dispatch(i.aLm.patch({entity:O(O({},p),{},{contactList:[O(O({},null===(g=p.contactList)||void 0===g?void 0:g[0]),{},{profilePicUrl:m})]})})),(0,s.HZ)(s.Uv.UpdateScheduledMessage,{category:"Schedule",action:"update scheduled message"})):(p.disableOptimisticUpdates=!0,t.dispatch(i.aLm.create(O(O({},p),{},{contactList:[O(O({},null===(y=p.contactList)||void 0===y?void 0:y[0]),{},{profilePicUrl:m})]}))),(0,s.HZ)(s.Uv.ScheduleMessage,{category:"Schedule",action:"schedule message"}));if(l)try{await w.B.closeMediaPreview()}catch(e){}}),_=((0,D.zD)("userMessages/handleRecurringMessageEdit",async(e,t)=>{var a,n;let{scope:r}=e,{dispatch:s,getState:o}=t;const l=o(),d=l.WhatsAppReducer.addMsgInCalendarContact,c=l.AddScheduledMessageButtonReducer.messageDraft,u=(0,i.jHc)(l.DBUserMessageReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}]});let p=O(O({},c),{},{contactList:[{id:d.id.replace("s.whatsapp.net","c.us"),name:d.name,firstName:null===(a=d.name)||void 0===a?void 0:a.split(" ")[0],lastName:(null===(n=d.name)||void 0===n?void 0:n.split(" ").slice(1).join(" "))||void 0}]});const m=new Date(p.dueDate),g=u.find(e=>e._id===p._id);if(null!=g&&g.rruleset)try{const e=o(),t=new Date(e.CalendarReducer.selectedEventDate);if(!e.CalendarReducer.selectedEventDate)return;const a=p.isRecurring&&p.rruleset||"",n=M.handleRecurringEdit(g.rruleset,t,m,a,r,new Date(g.dueDate));if("delete"===n.originalAction)s(P(g._id));else if("patch"===n.originalAction){const e=n.originalNewRRule?O(O({},g),{},{rruleset:n.originalNewRRule,isRecurring:!0,dueDate:n.originalDueDate,skipDayMappingFix:!0}):O(O({},g),{},{rruleset:void 0,isRecurring:!1,dueDate:n.originalDueDate,skipDayMappingFix:!0});s(B(e))}if("create"===n.newAction){const e=O(O({},p),{},{_id:void 0,dueDate:n.newDueDate,rruleset:n.newRRule,isRecurring:!!n.newRRule,skipDayMappingFix:!0});s(B(e))}}catch(e){throw e}}),(0,D.zD)("scheduleMessage",async(e,t)=>{var a,n,i;const r=performance.now();"undefined"!=typeof performance&&performance.mark&&performance.mark("schedule-message-thunk-start");const s=t.getState(),l=t.dispatch,{isSchedulePollButton:d}=e,c=(0,v.mB)(s),m=O(O({},s.WhatsAppReducer.currentChat),{},{participants:void 0}),g={showErrorDialog:!1,open:!1,message:{dueDate:void 0,message:"",isRecurring:!1,state:k.Zu.pending,cancelIfReceived:!1},isEmojiPicker:!1};if(!c)return C.event("login_before_schedule",{category:"Schedule",action:"login before schedule"}),void l(u.g.setStatus("Login"));const y=Object.assign({},g.message);y.contactList=[O(O({},m),{},{id:null==m||null===(a=m.id)||void 0===a?void 0:a._serialized,name:null!==(n=null!==(i=null==m?void 0:m.name)&&void 0!==i?i:null==m?void 0:m.displayName)&&void 0!==n?n:null==m?void 0:m.formattedTitle})],d?w.B.getPollData():y.message=(0,o.cM)(),y.dueDate=A()().toDate().toISOString(),y.isTimeValid=!0;const h=performance.now();C.event("open_schedule_dialog",{category:"Schedule",action:"open dialog"});performance.now();const f=performance.now();l(p.PD.editMessage(y));performance.now(),performance.now();"undefined"!=typeof performance&&performance.measure&&performance.measure("schedule-message-thunk-total","schedule-message-thunk-start")}),(0,D.zD)("scheduleMessage",async(e,t)=>{const a=t.getState(),n=t.dispatch,r=(0,v.mB)(a),s=a.TasksReducer.isTasksPanelOpen,o=a.DBBoardsReducer.itemsLoaded;r?(o||n(i.DBBoardsThunks.find({})).then(()=>{n((0,x.wP)())}),n(y.L.setIsTasksPanelOpen(!s))):n(u.g.setStatus("Login"))}),(0,D.zD)("getUserMessages",async(e,t)=>{let{dispatch:a}=t;return a(i.aLm.find({$or:[{deleted:{$ne:!0}},{status:"sent"}],status:{$in:["pending","sent","failed"]},$sort:{dueDate:1},$limit:-1,"contactList.0._id":{$exists:!0}}))})),P=((0,D.zD)("campaign/sendAllStuckMessages",async(e,t)=>{let{dispatch:a,getState:n}=t;const r=(0,m.tF)(n(),e);for(const e of r)a(i.aLm.patch({entity:{_id:e._id,dueDate:A()().toDate().toISOString()}}))}),(0,D.zD)("focusContactInCalendar",async(e,t)=>{let{dispatch:a,getState:n}=t;const s=n(),o=(0,i.jHc)(s.DBUserMessageReducer,{"contactList.0.id":e,status:"pending",$or:[{deleted:{$exists:!1}},{deleted:!1}]});if(o.length>0){const e=o.sort((e,t)=>A()(e.dueDate).valueOf()-A()(t.dueDate).valueOf())[0];a(g.HB.toggleCalendarView(!0)),a(g.HB.setViewMonthStart(A()(e.dueDate).toDate()))}a((0,r.tq)(e)),setTimeout(()=>{a((0,r.tq)(void 0))},500)}),(0,D.zD)("campaign/getScheduledMessagesInRedisThunk",async(e,t)=>{let{rejectWithValue:a,dispatch:n,getState:i}=t;try{var r;const t=null===(r=i().UserReducer)||void 0===r?void 0:r.accessToken;if(!t)throw new Error("No access token available");const a=await fetch("".concat(c.U.API_ENDPOINT,"/actions?cmd=get-scheduled-messages-in-redis"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({campaignId:e})});if(!a.ok)throw new Error("Failed to fetch scheduled messages: ".concat(a.status," ").concat(a.statusText));const s=await(null==a?void 0:a.json());if(!s||!s.messagesInRedis)return[];const o=null==s?void 0:s.messagesInRedis.map(e=>({id:e._id,contactName:e.text,createdAt:new Date(e.createdAt),status:"Waiting In Redis"})),l={[e]:o};n(h.a0.setUserMessagesInRedisByCampaignId(l))}catch(e){return a(e.message||"Unknown error")}}),(0,D.zD)("campaign/deleteUserMessage",async(e,t)=>{let{dispatch:a,getState:n}=t;a(i.aLm.delete({entity:{_id:e}}))})),R=(0,D.zD)("campaign/deleteMessagesByStatus",async(e,t)=>{let{messageIds:a}=e,{dispatch:n}=t;await Promise.all(a.map(e=>n(P(e))))});(0,D.zD)("campaign/deleteAllMessagesByStatus",async(e,t)=>{let{status:a}=e,{dispatch:n,getState:i}=t;const r=i(),s=(0,v.Jr)(r).filter(e=>e.status===a).map(e=>e._id).filter(e=>!!e);s.length>0&&await n(R({messageIds:s}))}),(0,D.zD)("campaign/deleteAllMessagesForCurrentChat",async(e,t)=>{let{dispatch:a,getState:n}=t;const i=n(),r=(0,v.Jr)(i).map(e=>e._id).filter(e=>!!e);r.length>0&&await a(R({messageIds:r}))}),(0,D.zD)("campaign/handleMessageChangeThunk",async(e,t)=>{let{message:a,msg:n}=e,{dispatch:i}=t;const r=O(O(O({},a),n),{},{isPoll:n.isPoll,poll:n.poll||a.poll,message:n.message||a.message,asset:n.hasOwnProperty("asset")?n.asset:a.asset,imageId:n.hasOwnProperty("imageId")?n.imageId:a.imageId});i(p.PD.updateMessage(r))}),(0,D.zD)("campaign/handleAddScheduledMessageCloseThunk",async(e,t)=>{let{dispatch:a}=t;a(p.PD.closeDialog()),a(p.PD.setPollFromWAModal(null)),a((0,r.UM)(null)),a((0,r.JG)(null)),a((0,r.g3)(null))}),(0,D.zD)("campaign/checkIfReplyingToMessageThunk",async(e,t)=>{let{dispatch:a}=t;const n=await w.B.checkIfReplyingToMessage();a((0,r.JG)(n))})},80406:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(96540),i=a(58031),r=a(90815),s=a(12492);const o="prompt-delete-action__container___xNdx8",l="prompt-delete-action__buttons_wrapper___xNdx8",d="prompt-delete-action__cancel_button___xNdx8",c="prompt-delete-action__delete_button___xNdx8";var u=a(74848);const p=function(e){let{handleClose:t,open:a,title:p}=e;const m=(0,s.P)(),g=(0,n.useMemo)(()=>{if(m instanceof HTMLElement)return m;if(m instanceof ShadowRoot){const e=m.host;return null!=e?e:void 0}},[m]);return(0,u.jsx)(i.A,{container:g,onClose:t,open:a,maxWidth:"sm",fullWidth:!0,PaperProps:{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:300}},children:(0,u.jsxs)(r.A,{className:o,children:[(0,u.jsx)("h4",{style:{textAlign:"start"},children:p}),(0,u.jsxs)(r.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",className:l,children:[(0,u.jsx)("button",{onClick:function(){t(!1)},className:d,children:"Cancel"}),(0,u.jsx)("button",{"data-testid":"confirm-delete-board-button",onClick:function(){t(!0)},className:c,children:"Delete"})]})]})})}},80784:(e,t,a)=>{"use strict";a.d(t,{tq:()=>s,w0:()=>l});var n=a(64467);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let s=function(e){return e.INIT="INIT",e.INJECTION="INJECTION",e.DOM="DOM",e.REDUX="REDUX",e.REACT="REACT",e.WHATSAPP="WHATSAPP",e.STYLE="STYLE",e.MEMORY="MEMORY",e}({});class o{constructor(){(0,n.A)(this,"logs",new Map),(0,n.A)(this,"completedLogs",[]),(0,n.A)(this,"startTime",void 0),(0,n.A)(this,"groupStack",[]),(0,n.A)(this,"enabled",!1),(0,n.A)(this,"memorySnapshots",[]),this.startTime=performance.now(),this.logSystemInfo()}static getInstance(){return o.instance||(o.instance=new o),o.instance}logSystemInfo(){this.takeMemorySnapshot("initial")}setEnabled(e){this.enabled=e}getMemoryUsage(){if("memory"in performance){return performance.memory.usedJSHeapSize/1048576}}takeMemorySnapshot(e){if(!("memory"in performance))return null;const t=performance.memory,a={usedJSHeapSize:t.usedJSHeapSize/1048576,totalJSHeapSize:t.totalJSHeapSize/1048576,jsHeapSizeLimit:t.jsHeapSizeLimit/1048576,timestamp:performance.now()};return this.memorySnapshots.push(a),a}start(e,t,a){if(!this.enabled)return"";const n="".concat(e,"_").concat(t,"_").concat(Date.now(),"_").concat(Math.random()),i=this.getMemoryUsage(),r={category:e,operation:t,startTime:performance.now(),memoryBefore:i,details:a};this.logs.set(n,r);"  ".repeat(this.groupStack.length);return n}end(e,t){if(!this.enabled||!e)return;const a=this.logs.get(e);if(!a)return;a.endTime=performance.now(),a.duration=a.endTime-a.startTime,a.memoryAfter=this.getMemoryUsage(),t&&(a.details=r(r({},a.details),t));const n=void 0!==a.memoryAfter&&void 0!==a.memoryBefore?a.memoryAfter-a.memoryBefore:void 0;"  ".repeat(this.groupStack.length),void 0!==n&&" | Memory \u0394: ".concat(n>0?"+":"").concat(n.toFixed(2),"MB"),t&&" | ".concat(JSON.stringify(t)),a.duration>1e3||a.duration;this.completedLogs.push(a),this.logs.delete(e),a.duration}mark(e,t,a){if(!this.enabled)return;const n=this.getMemoryUsage(),i=(void 0!==n&&" | Memory: ".concat(n.toFixed(2),"MB"),a&&" | ".concat(JSON.stringify(a)),"  ".repeat(this.groupStack.length),{category:e,operation:t,startTime:performance.now(),endTime:performance.now(),duration:0,memoryBefore:n,details:a});this.completedLogs.push(i)}group(e){this.enabled&&this.groupStack.push(e)}groupEnd(){this.enabled&&this.groupStack.length>0&&this.groupStack.pop()}error(e,t,a,n){if(!this.enabled)return;"  ".repeat(this.groupStack.length);const i={category:e,operation:t,startTime:performance.now(),error:a,details:n};this.completedLogs.push(i)}measure(e,t,a,n){const i=this.start(e,t,n);try{const e=a();return this.end(i),e}catch(a){throw this.error(e,t,a,n),this.end(i,{error:!0}),a}}async measureAsync(e,t,a,n){const i=this.start(e,t,n);try{const e=await a();return this.end(i),e}catch(a){throw this.error(e,t,a,n),this.end(i,{error:!0}),a}}getLogs(){return[...this.completedLogs]}getLogsByCategory(e){return this.completedLogs.filter(t=>t.category===e)}getSlowOperations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this.completedLogs.filter(t=>void 0!==t.duration&&t.duration>e)}generateReport(){performance.now(),this.startTime;const e=new Map;Object.values(s).forEach(t=>{const a=this.getLogsByCategory(t),n=a.map(e=>e.duration).filter(e=>void 0!==e);if(n.length>0){const i=n.reduce((e,t)=>e+t,0);e.set(t,{count:a.length,totalDuration:i,avgDuration:i/n.length})}}),e.forEach((e,t)=>{});const t=this.getSlowOperations(100);if(t.length>0&&t.sort((e,t)=>(t.duration||0)-(e.duration||0)).slice(0,10).forEach(e=>{}),this.memorySnapshots.length>0){const e=this.memorySnapshots[0];this.memorySnapshots[this.memorySnapshots.length-1].usedJSHeapSize,e.usedJSHeapSize}document.getElementsByTagName("*").length,document.querySelectorAll("*").length,window}exportLogs(){return JSON.stringify({startTime:this.startTime,totalDuration:performance.now()-this.startTime,logs:this.completedLogs,memorySnapshots:this.memorySnapshots},null,2)}clear(){this.logs.clear(),this.completedLogs=[],this.memorySnapshots=[],this.groupStack=[],this.startTime=performance.now()}getElapsedTime(){return performance.now()-this.startTime}}(0,n.A)(o,"instance",void 0);const l=o.getInstance();"undefined"!=typeof window&&(window.__perfLogger=l)},81303:(e,t,a)=>{"use strict";a.d(t,{MQTTSubscriber:()=>f});var n=a(64467),i=a(92032),r=a(36596),s=a(79613),o=a(52597),l=a(89476),d=a(69886),c=a(90966),u=a(38597),p=a(44157),m=a(63061),g=a(87435),y=a(55693);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}class f{constructor(){(0,n.A)(this,"client",null),(0,n.A)(this,"config",null),(0,n.A)(this,"userId",null),(0,n.A)(this,"currentClientId",null),(0,n.A)(this,"messageHandlers",new Map),(0,n.A)(this,"subscribedTopics",new Set),(0,n.A)(this,"isConnecting",!1),(0,n.A)(this,"debounceTimer",null),(0,n.A)(this,"retrySendMessageCallback",null),(0,n.A)(this,"getWhatsAppStateCallback",null),(0,n.A)(this,"presenceHeartbeatTimer",null)}static getInstance(){return f.instance||(f.instance=new f),f.instance}setDependencyCallbacks(e){this.retrySendMessageCallback=e.retrySendMessage||null,this.getWhatsAppStateCallback=e.getWhatsAppState||null}getCurrentClientId(){return this.currentClientId}getCurrentClientType(){return this.currentClientId?(0,g.yS)():null}connect(e,t){if(this.client&&(this.client.connected||this.client.reconnecting||this.client.disconnecting))return;if(this.isConnecting)return;this.client&&this.cleanupClient(),this.isConnecting=!0;s.U.MQTT_BROKER_URL;this.userId=e,this.config={brokerUrl:s.U.MQTT_BROKER_URL||"wss://mqtt.blueticks.co:443/mqtt",username:e,password:t,userId:e};const a=(0,g.yS)(),n="".concat(a.toLowerCase(),"_").concat(e,"_").concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,8));this.currentClientId=n;try{const t="users/".concat(e,"/presence/").concat(n);this.client=m.A.connect(this.config.brokerUrl,{clientId:this.currentClientId,username:this.config.username,password:this.config.password,clean:!0,reconnectPeriod:5e3,connectTimeout:6e4,keepalive:60,rejectUnauthorized:!1,protocol:"wss",reschedulePings:!0,protocolVersion:4,manualConnect:!1,timerVariant:"native",properties:{maximumPacketSize:65535},will:{topic:t,payload:"",qos:1,retain:!0,properties:{messageExpiryInterval:1}}}),this.setupEventHandlers()}catch(e){this.client=null,this.currentClientId=null,this.isConnecting=!1}}disconnect(){this.client&&(this.stopPresenceHeartbeat(),this.publishPresenceOffline(),this.cleanupClient()),this.client=null,this.currentClientId=null,this.isConnecting=!1}cleanupClient(){this.client&&(this.client.removeAllListeners(),this.client.end(!0),this.subscribedTopics.clear(),this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=null),this.stopPresenceHeartbeat(),this.isConnecting=!1)}onMessage(e,t){this.messageHandlers.set(e,t)}publishPresenceOnline(){if(!(this.client&&this.client.connected&&this.userId&&this.currentClientId))return;const e="users/".concat(this.userId,"/presence/").concat(this.currentClientId),t=(0,g.yS)(),a=JSON.stringify({clientId:this.currentClientId,device:"Desktop",browserType:{gateway:"Gateway",whatsapp:"WhatsApp Web",frontend:"Website"}[t]||"Unknown",app:"1.0.0",ts:Math.floor(Date.now()/1e3)});this.client.publish(e,a,{qos:1,retain:!0,properties:{messageExpiryInterval:240}},e=>{})}publishPresenceOffline(){if(!(this.client&&this.client.connected&&this.userId&&this.currentClientId))return;const e="users/".concat(this.userId,"/presence/").concat(this.currentClientId);this.client.publish(e,"",{qos:1,retain:!0},e=>{})}startPresenceHeartbeat(){this.stopPresenceHeartbeat(),this.presenceHeartbeatTimer=setInterval(()=>{this.client&&this.client.connected&&this.publishPresenceOnline()},3e4)}stopPresenceHeartbeat(){this.presenceHeartbeatTimer&&(clearInterval(this.presenceHeartbeatTimer),this.presenceHeartbeatTimer=null)}setupEventHandlers(){this.client&&(this.client.on("connect",()=>{this.isConnecting=!1,this.subscribeToTopics(),this.publishPresenceOnline(),this.startPresenceHeartbeat()}),this.client.on("disconnect",e=>{}),this.client.on("error",e=>{this.isConnecting=!1,e.message&&e.message.includes("connack timeout")||e.message&&e.message.includes("Connection refused")}),this.client.on("offline",()=>{}),this.client.on("reconnect",()=>{}),this.client.on("close",()=>{}),this.client.on("message",(e,t)=>{try{const a=t.toString();let n;n=""===a?{status:"disconnected"}:JSON.parse(a),this.handleMessage(e,n)}catch(e){}}))}subscribeToTopics(){if(!this.client||!this.userId)return;["users/".concat(this.userId,"/downstream/+"),"users/".concat(this.userId,"/requests/+"),"clients/".concat(this.currentClientId,"/requests/+"),"global/broadcast/+","users/".concat(this.userId,"/presence/#")].forEach(e=>{var t;null===(t=this.client)||void 0===t||t.subscribe(e,t=>{t||this.subscribedTopics.add(e)})})}handleMessage(e,t){if(e.includes("/requests/"))return void this.handleRequest(e,t);if(e.endsWith("/client-events"))return void this.handleClientEvents(e,t);if(e.includes("/presence/"))return void this.handlePresenceMessage(e,t);const a=this.extractEventTypeFromTopic(e);if(a){if("global-broadcast"===a){const e=t.eventType;if(e){const a=this.convertToSocketIOFormat(t.data||t,e),n=this.messageHandlers.get(e);n&&n(a)}return}const e=this.convertToSocketIOFormat(t,a),n=this.messageHandlers.get(a);n&&n(e)}}handleRequest(e,t){const a=e.split("/");let n;if("users"===a[0]&&"requests"===a[2])n=a[3];else{if("clients"!==a[0]||"requests"!==a[2])return;n=a[3]}n&&t.command&&this.processRequest(n,t.command,t.params||{})}async processRequest(e,t,a){try{if(!(0,g.JH)())return;const n=t=>{this.publishResponse(e,t)};if("insertOnlyIfMissing"===t){const e={path:"insertOnlyIfMissing",method:t,entity:a};return void await this.handleInsertOnlyIfMissingRequest(e,n)}const i={path:"whatsapp-interface",method:t,entity:{params:a,owner:this.userId}};await this.handleWhatsappInterfaceRequest(i,n)}catch(t){this.publishResponse(e,{success:!1,error:t.message||"Unknown error"})}}async handleWhatsappInterfaceRequest(e,t){var a,n,r,s,o,c,m,g,h,f,b,k,w,x,D,I,A,T,S,O,C,M,B,_,P,R,E,j,L,N,F,z,U,V,W,Q,G,q,H,K,X,Y,Z,J,$,ee,te,ae,ne,ie;if("whatsapp-interface"===e.path)try{let Oe;switch(e.method){case"get_contacts":Oe=await d.B.getContacts({limit:null!==(a=null===(n=e.entity)||void 0===n||null===(n=n.params)||void 0===n?void 0:n.limit)&&void 0!==a?a:100,offset:null!==(r=null===(s=e.entity)||void 0===s||null===(s=s.params)||void 0===s?void 0:s.offset)&&void 0!==r?r:0});break;case"get_chats":Oe=await d.B.getChats({limit:null!==(o=null===(c=e.entity)||void 0===c||null===(c=c.params)||void 0===c?void 0:c.limit)&&void 0!==o?o:100,offset:null!==(m=null===(g=e.entity)||void 0===g||null===(g=g.params)||void 0===g?void 0:g.offset)&&void 0!==m?m:0,createLeanLastMessage:null===(h=e.entity)||void 0===h||null===(h=h.params)||void 0===h||null===(h=h.options)||void 0===h?void 0:h.createLeanLastMessage});break;case"get_chat_participants":Oe=await d.B.getChatParticipants({chatId:null===(f=e.entity)||void 0===f||null===(f=f.params)||void 0===f?void 0:f.chatId,limit:null!==(b=null===(k=e.entity)||void 0===k||null===(k=k.params)||void 0===k?void 0:k.limit)&&void 0!==b?b:100,offset:null!==(w=null===(x=e.entity)||void 0===x||null===(x=x.params)||void 0===x?void 0:x.offset)&&void 0!==w?w:0});break;case"get_chats_enhanced":if(Oe=await d.B.getChats({limit:null!==(D=null===(I=e.entity)||void 0===I||null===(I=I.params)||void 0===I?void 0:I.limit)&&void 0!==D?D:50,offset:null!==(A=null===(T=e.entity)||void 0===T||null===(T=T.params)||void 0===T?void 0:T.offset)&&void 0!==A?A:0}),null!==(S=e.entity)&&void 0!==S&&null!==(S=S.params)&&void 0!==S&&S.search&&Oe){const t=e.entity.params.search.toLowerCase();Oe.length,Oe=Oe.filter((e,a)=>{var n,i;return[e.name,e._serialized,null===(n=e.id)||void 0===n?void 0:n._serialized,null===(i=e.id)||void 0===i?void 0:i.user].some(e=>{if(!e)return!1;const a=String(e).toLowerCase().includes(t);return a})}),Oe.length}if(null!==(O=e.entity)&&void 0!==O&&null!==(O=O.params)&&void 0!==O&&O.filter&&Oe){const t=e.entity.params.filter;Oe=Oe.filter(e=>(void 0===t.hasUnread||e.unreadCount>0===t.hasUnread)&&((void 0===t.isPinned||e.isPinned===t.isPinned)&&((void 0===t.isGroup||e.isGroup===t.isGroup)&&(void 0===t.isArchived||e.isArchived===t.isArchived))))}break;case"get_paginated_messages":Oe=await d.B.getPaginatedMessages({chatId:null===(C=e.entity)||void 0===C||null===(C=C.params)||void 0===C?void 0:C.chatId,limit:null!==(M=null===(B=e.entity)||void 0===B||null===(B=B.params)||void 0===B?void 0:B.limit)&&void 0!==M?M:50,offset:null!==(_=null===(P=e.entity)||void 0===P||null===(P=P.params)||void 0===P?void 0:P.offset)&&void 0!==_?_:0});break;case"get_chat_by_id":Oe=await d.B.getChatById(null===(R=e.entity)||void 0===R||null===(R=R.params)||void 0===R?void 0:R.chatId);break;case"get_formatted_chat_by_id":Oe=await d.B.getFormattedChatById({chatId:null===(E=e.entity)||void 0===E||null===(E=E.params)||void 0===E?void 0:E.chatId});break;case"get_message_media":try{var re,se,oe,le,de;const t=null===(re=e.entity)||void 0===re||null===(re=re.params)||void 0===re?void 0:re.messageId,a=null!==(se=null===(oe=e.entity)||void 0===oe||null===(oe=oe.params)||void 0===oe?void 0:oe.retries)&&void 0!==se?se:3,n=null!==(le=null===(de=e.entity)||void 0===de||null===(de=de.params)||void 0===de?void 0:de.delayMs)&&void 0!==le?le:500,r=await d.B.getMessageMedia(t,a,n);if(r){const e=await(0,l.safeDispatch)(i.Hvd.endpoints.getSignedUploadUrl.initiate({contentType:r.type,expiresInMinutes:4320})).unwrap();await(0,y.BR)(r,e.url),Oe={mediaUrl:e.publicUrl,fileName:r.name,fileType:r.type,fileSize:r.size}}else Oe=null}catch(e){Oe=null}break;case"send_seen_by_chatid":Oe=await d.B.sendSeenByChatId(null===(j=e.entity)||void 0===j||null===(j=j.params)||void 0===j?void 0:j.chatId);break;case"get_contacts_and_chats_by_search":Oe=await d.B.searchContactsAndChats(null===(L=e.entity)||void 0===L?void 0:L.params);break;case"get_wa_me_info":Oe=await d.B.getWaMeInfo();break;case"get_messages":Oe=await d.B.getMessages({chatId:null===(N=e.entity)||void 0===N||null===(N=N.params)||void 0===N?void 0:N.chatId,limit:null!==(F=null===(z=e.entity)||void 0===z||null===(z=z.params)||void 0===z?void 0:z.limit)&&void 0!==F?F:100,offset:null!==(U=null===(V=e.entity)||void 0===V||null===(V=V.params)||void 0===V?void 0:V.offset)&&void 0!==U?U:0,cutoffDate:null===(W=e.entity)||void 0===W||null===(W=W.params)||void 0===W?void 0:W.cutoffDate,latestDate:null===(Q=e.entity)||void 0===Q||null===(Q=Q.params)||void 0===Q?void 0:Q.latestDate,mode:null!==(G=null===(q=e.entity)||void 0===q||null===(q=q.params)||void 0===q?void 0:q.mode)&&void 0!==G?G:"history"}),Oe=Oe.map(e=>this.sanitizeAndSlimMessage(e,["id"]));break;case"get_messages_enhanced":try{var ce,ue,pe,me,ge,ye,he;Oe=await d.B.getMessages({chatId:null===(ce=e.entity)||void 0===ce||null===(ce=ce.params)||void 0===ce?void 0:ce.chatId,limit:null!==(ue=null===(pe=e.entity)||void 0===pe||null===(pe=pe.params)||void 0===pe?void 0:pe.limit)&&void 0!==ue?ue:50,offset:null!==(me=null===(ge=e.entity)||void 0===ge||null===(ge=ge.params)||void 0===ge?void 0:ge.offset)&&void 0!==me?me:0,cutoffDate:null===(ye=e.entity)||void 0===ye||null===(ye=ye.params)||void 0===ye?void 0:ye.cutoffDate,latestDate:null===(he=e.entity)||void 0===he||null===(he=he.params)||void 0===he?void 0:he.latestDate})}catch(e){Oe=[]}if(null!==(H=e.entity)&&void 0!==H&&null!==(H=H.params)&&void 0!==H&&H.search&&Oe&&Array.isArray(Oe)){const t=e.entity.params.search.toLowerCase();Oe=Oe.filter(e=>{var a,n;return(null===(a=e.body)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(n=e.author)||void 0===n?void 0:n.toLowerCase().includes(t))})}null!==(K=e.entity)&&void 0!==K&&null!==(K=K.params)&&void 0!==K&&K.messageTypes&&Array.isArray(null===(X=e.entity)||void 0===X||null===(X=X.params)||void 0===X?void 0:X.messageTypes)&&Oe&&Array.isArray(Oe)&&(Oe=Oe.filter(t=>{var a;return null===(a=e.entity)||void 0===a||null===(a=a.params)||void 0===a?void 0:a.messageTypes.includes(t.type)})),Oe=(Oe||[]).map(e=>{const t={};return Object.entries(e).forEach(e=>{let[a,n]=e;"id"!==a&&void 0!==n&&(t[a]=n)}),t});break;case"get_wa_message_media_by_wa_message_key":try{var ve;const t=(null===(ve=e.entity)||void 0===ve?void 0:ve.params)||{},a=await d.B.getWaMessageMediaByWaMessageKey({messageKey:null==t?void 0:t.messageKey});if(null==a||!a.success)throw new Error("Failed to get message media");if(null==a||!a.data)throw new Error("Malformed response");const n=await this.uploadMediaFile(a.data.mediaFile),i=await this.uploadMediaFile(a.data.thumbnailFile);Oe={mediaFile:null!=n?n:void 0,thumbnailFile:null!=i?i:void 0}}catch(e){throw new Error("Failed to get message media: ".concat(null==e?void 0:e.message))}break;case"get_wa_messages_ack_by_wa_messages_keys":const t=null===(Y=e.entity)||void 0===Y?void 0:Y.params;Oe=await d.B.getWaMessagesAckByWaMessagesKeys(t);break;case"get_wa_messages_ack_data_by_wa_messages_keys":const Ce=null===(Z=e.entity)||void 0===Z?void 0:Z.params;Oe=await d.B.getWaMessagesAckDataByWaMessagesKeys(Ce);break;case"get_message_info":const Me=null===(J=e.entity)||void 0===J||null===(J=J.params)||void 0===J||null===(J=J.params)||void 0===J?void 0:J.waMessageKey;Oe=await d.B.getMessageInfo(Me);break;case"search_messages":Oe=await d.B.searchMessages(null===($=e.entity)||void 0===$?void 0:$.params),Oe&&Oe.success&&Array.isArray(null===(ee=Oe)||void 0===ee||null===(ee=ee.data)||void 0===ee?void 0:ee.messages)&&(Oe.data.messages=Oe.data.messages.map(e=>this.sanitizeAndSlimMessage(e)));break;case"search_contacts":Oe=await d.B.searchContacts(null===(te=e.entity)||void 0===te?void 0:te.params);break;case"get_profile_pic":Oe=await d.B.getProfilePic(null===(ae=e.entity)||void 0===ae||null===(ae=ae.params)||void 0===ae?void 0:ae.contactIds);break;case"get_chat_details":try{var fe;const t=null===(fe=e.entity)||void 0===fe||null===(fe=fe.params)||void 0===fe?void 0:fe.chatId;if(!t)throw new Error("chatId is required for get_chat_details");const[a,n]=await Promise.all([d.B.getChats({limit:100,offset:0}),d.B.getContacts({limit:100,offset:0})]),i=a.find(e=>"string"==typeof e.id&&"string"==typeof t?e.id===t:"object"==typeof e.id&&e.id._serialized?e.id._serialized===t||JSON.stringify(e.id)===t:"object"==typeof e.id&&JSON.stringify(e.id)===t);if(!i)throw new Error("Chat not found: ".concat(t));Oe=v(v({},i),{},{participants:n||[]})}catch(e){throw new Error("Failed to get chat details: ".concat(e.message))}break;case"send_message_from_whatsapp_interface_actions":const Be=1e4,_e=await(0,p.wj)((0,u.C1)(null===(ne=e.entity)||void 0===ne||null===(ne=ne.params)||void 0===ne?void 0:ne.message),"prepareMessageForWa",Be);Oe=await d.B.sendMessageViaWhatsapp(_e,null===(ie=e.entity)||void 0===ie||null===(ie=ie.params)||void 0===ie?void 0:ie.userMessageId);break;case"get_engine_status":try{const e=await d.B.isWhatsAppConnected().catch(()=>!1);Oe={whatsappState:e?"CONNECTED":"DISCONNECTED",capabilities:{canSendMessages:e,canReceiveMessages:e,canAccessChats:!0,canAccessContacts:!0,canSearchMessages:!0},lastUpdate:(new Date).toISOString(),engineType:"whatsapp-web"}}catch(e){Oe={whatsappState:"ERROR",capabilities:{canSendMessages:!1,canReceiveMessages:!1,canAccessChats:!1,canAccessContacts:!1,canSearchMessages:!1},lastUpdate:(new Date).toISOString(),engineType:"whatsapp-web",error:e.message}}break;case"search_messages_enhanced":try{var be,ke,we,xe,De,Ie,Ae;const t={query:(null===(be=e.entity)||void 0===be||null===(be=be.params)||void 0===be?void 0:be.query)||"",chatId:null===(ke=e.entity)||void 0===ke||null===(ke=ke.params)||void 0===ke?void 0:ke.chatId,messageTypes:null===(we=e.entity)||void 0===we||null===(we=we.params)||void 0===we?void 0:we.messageTypes,startDate:null===(xe=e.entity)||void 0===xe||null===(xe=xe.params)||void 0===xe?void 0:xe.startDate,endDate:null===(De=e.entity)||void 0===De||null===(De=De.params)||void 0===De?void 0:De.endDate,limit:(null===(Ie=e.entity)||void 0===Ie||null===(Ie=Ie.params)||void 0===Ie?void 0:Ie.limit)||20,page:(null===(Ae=e.entity)||void 0===Ae||null===(Ae=Ae.params)||void 0===Ae?void 0:Ae.page)||1};Oe=await d.B.searchMessages(t),Oe&&Oe.messages&&Array.isArray(Oe.messages)&&(Oe.messages=Oe.messages.map(e=>{if(e&&e.messageSecret)try{const t=(0,u.Nx)(e.messageSecret);return v(v({},e),{},{decodedMessageSecret:t})}catch(t){return e}return e}))}catch(t){var Te;Oe={messages:[],query:(null===(Te=e.entity)||void 0===Te||null===(Te=Te.params)||void 0===Te?void 0:Te.query)||"",total:0,error:t.message}}break;case"get_unlogged_wa_message_key":try{var Se;const t=(null===(Se=e.entity)||void 0===Se?void 0:Se.params)||{},a=t.chatId,n=t.userMessageId,i=t.dueDate?new Date(t.dueDate):void 0;if(!a||!n)throw new Error("chatId and userMessageId are required for get_unlogged_wa_message_key");Oe=await d.B.getUnloggedWaMessageKeyIfExistInStore(a,n,i||new Date((new Date).getTime()-12e5))}catch(e){throw new Error("Failed to get unlogged WA message key: ".concat(e.message))}break;case"ping":Oe={message:"pong",timestamp:(new Date).toISOString(),engineType:"whatsapp-web"};break;default:throw new Error("Unknown command: ".concat(e.method))}t({success:!0,data:Oe})}catch(e){t({success:!1,error:e.message||"Failed to process request"})}}async handleInsertOnlyIfMissingRequest(e,t){if("insertOnlyIfMissing"===e.path)try{const{message:i}=e.entity||{};if(!i)throw new Error("Message is required");const s=(0,l.getStateDirectly)(),o=(0,r.ALW)(s.DBUserMessageReducer,{_id:i._id});let d=!!o,u="UNKNOWN";if(!o){const e=r.RuE.get("user-messages");e&&(0,l.safeDispatch)(e.slice.actions.addOne(i))}(0,g.B2)()&&(0,l.safeDispatch)((0,c.retrySendMessageThunk)({userMessage:i,retryTrigger:"mqtt"}));try{var a;if(this.getWhatsAppStateCallback)u=this.getWhatsAppStateCallback()||"UNKNOWN";else u=(null===(a=s.WhatsAppReducer)||void 0===a?void 0:a.appState)||"UNKNOWN"}catch(e){var n;u=(null===(n=s.WhatsAppReducer)||void 0===n?void 0:n.appState)||"UNKNOWN"}t({success:!0,data:{messageExists:d,addedToRedux:!o,whatsappState:u,messageId:i._id}})}catch(e){t({success:!1,error:e.message||"Failed to process insertOnlyIfMissing request"})}}publishResponse(e,t){if(!this.client)return;const a="users/".concat(this.userId,"/upstream/responses/").concat(e),n={requestId:e,success:!1!==t.success,data:!1!==t.success?t.data:void 0,error:!1===t.success?t.error:void 0,_timestamp:Date.now()},i=JSON.stringify(n);this.client.publish(a,i,{qos:1},e=>{})}extractEventTypeFromTopic(e){const t=e.split("/");if("global"===t[0]&&"broadcast"===t[1])return"global-broadcast";if("boards"===t[0]&&"downstream"===t[2])return"update";if("workspaces"===t[0]&&"downstream"===t[2])return"update";if("users"===t[0]&&"downstream"===t[2]){if("boards"===t[3])return"update";if("workspaces"===t[3])return"update";if("client-events"===t[3])return"client-events";{const e=t[3];return["sync-user-data","chatbot-progress","document-processing-progress","send-message","wa-message-listener-event"].includes(e)?e:"update"}}return"admin"===t[0]&&"dashboard"===t[1]&&"downstream"===t[2]?"update":null}convertToSocketIOFormat(e,t){return e}isConnected(){return!!this.client&&this.client.connected}subscribeToTopic(e,t){if(this.client&&this.userId){if(t){const a=Array.from(this.subscribedTopics).find(a=>a.includes("/".concat(t,"/"))&&a!==e);a&&this.client.unsubscribe(a,e=>{e||this.subscribedTopics.delete(a)})}this.subscribedTopics.has(e)||this.client.subscribe(e,t=>{t||this.subscribedTopics.add(e)})}}unsubscribeFromTopic(e){this.client&&this.subscribedTopics.has(e)&&this.client.unsubscribe(e,t=>{t||this.subscribedTopics.delete(e)})}subscribeToEntity(e,t){const a="".concat(e,"/").concat(t,"/downstream");this.subscribeToTopic(a,e)}getCurrentSubscriptions(){return Array.from(this.subscribedTopics)}handleClientEvents(e,t){}handlePresenceMessage(e,t){t&&t.ts;const a=e.split("/");if(4!==a.length||"users"!==a[0]||"presence"!==a[2])return;const n=a[3];a[1];if(n!==this.currentClientId)try{var i,r;const e=(0,l.getStore)(),a=null==e?void 0:e.dispatch;if(!a)return;const s=e.getState();null==s||null===(i=s.ConnectedEnginesReducer)||void 0===i||i.connectedSockets;if(t&&""!==t&&0!==Object.keys(t).length){let e;try{if(t.ts&&"number"==typeof t.ts&&t.ts>0){const a=1e3*t.ts,n=Date.now();e=a>=n-31536e6&&a<=n+864e5?new Date(a).toISOString():(new Date).toISOString()}else e=(new Date).toISOString()}catch(t){e=(new Date).toISOString()}const i={id:n,device:t.device||"Desktop",browserType:t.browserType||"Unknown",connectionTime:e,connectedFrom:"mqtt",domain:"Gateway"===t.browserType?"gateway":"WhatsApp Web"===t.browserType?"web.whatsapp.com":"website",clientId:n,app:t.app||"1.0.0",ts:t.ts&&"number"==typeof t.ts&&t.ts>0?t.ts:Math.floor(Date.now()/1e3)};a((0,o.TP)(i))}else a((0,o.en)({clientId:n}));const d=e.getState();null==d||null===(r=d.ConnectedEnginesReducer)||void 0===r||r.connectedSockets}catch(e){}}sanitizeAndSlimMessage(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=["image","video","document"],i={};return Object.entries(e).forEach(e=>{let[t,n]=e;a.includes(t)||void 0===n||(i[t]=n)}),n.includes(e.type)&&(i.body=""),null!=e&&e.quotedMsg&&n.includes(null==e||null===(t=e.quotedMsg)||void 0===t?void 0:t.type)&&(i.quotedMsg.body=""),i}async uploadMediaFile(e){if(!e)return null;const t=await(0,l.safeDispatch)(i.Hvd.endpoints.getSignedUploadUrl.initiate({contentType:e.type,expiresInMinutes:4320})).unwrap();return await(0,y.BR)(e,t.url),{mediaUrl:t.publicUrl,fileName:e.name,fileType:e.type,fileSize:e.size}}}(0,n.A)(f,"instance",void 0)},83414:(e,t,a)=>{"use strict";a.d(t,{Rz:()=>o});var n=a(92032),i=a(30038);const r=n.Hvd.injectEndpoints({endpoints:e=>({getAvailableTools:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"tools.getAvailable"}})})})}),{useGetAvailableToolsMutation:s}=r,o=(0,i.zD)("tools/getAvailable",async(e,t)=>{let{dispatch:a}=t;try{const e=await a(r.endpoints.getAvailableTools.initiate());return"data"in e&&e.data.success?e.data.tools:[]}catch(e){return[]}})},83750:(e,t,a)=>{"use strict";a.d(t,{D0:()=>T,rR:()=>S,Pc:()=>O});var n=a(30038),i=a(64467),r=a(89476),s=a(99568),o=a(36596),l=a(59673),d=a(67158),c=a(68876),u=a(43272),p=a(87435),m=a(81303),g=a(69886),y=a(38597),h=a(44157),v=a(92032),f=a(55693),b=a(71240);var k=a(15245),w=a(12142);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}class I{constructor(){(0,i.A)(this,"mqttSubscriber",void 0),(0,i.A)(this,"userId",null),(0,i.A)(this,"accessToken",null),this.mqttSubscriber=m.MQTTSubscriber.getInstance()}static getInstance(){return I.instance||(I.instance=new I),I.instance}disconnect(){this.mqttSubscriber.disconnect(),this.userId=null,this.accessToken=null,(0,r.safeDispatch)((0,k.V)(w.P.DISCONNECTED))}connect(e){this.mqttSubscriber.isConnected()&&this.accessToken===e||(this.accessToken=e,this.userId=this.extractUserIdFromToken(e),this.userId?((0,r.safeDispatch)((0,k.V)(w.P.CONNECTED)),this.setupDependencyInjection(),this.setupMQTTHandlers(),this.mqttSubscriber.connect(this.userId,e),(0,r.safeDispatch)((0,k.V)(w.P.AUTHENTICATED))):(0,r.safeDispatch)((0,k.V)(w.P.UNAUTHENTICATED)))}emit(e,t){}extractUserIdFromToken(e){try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")),n=JSON.parse(a);return n.userId||n.sub||n.id||null}catch(e){return null}}setupDependencyInjection(){try{this.mqttSubscriber.setDependencyCallbacks({retrySendMessage:e=>{if((0,p.B2)())try{const t=a(90966),{safeDispatch:n}=a(89476);t.retrySendMessageThunk&&n&&n(t.retrySendMessageThunk(e))}catch(e){}},getWhatsAppState:()=>{if((0,p.B2)())try{const e=a(14922);if(e.SessionStatusAutomaton)return e.SessionStatusAutomaton.getInstance().getWaStatus()}catch(e){}return"UNKNOWN"}})}catch(e){}}setupMQTTHandlers(){this.mqttSubscriber.onMessage("sync-user-data",async e=>{const t=(await(0,r.safeDispatch)(o.DBSubscriptionThunks.find({}))).payload;(0,r.safeDispatch)((0,u.Lt)(t))}),this.mqttSubscriber.onMessage("chatbot-progress",e=>{e&&e.message&&(0,r.safeDispatch)((0,s.kM)(e.message))}),this.mqttSubscriber.onMessage("document-processing-progress",e=>{(0,r.safeDispatch)((0,l.eL)(e))}),this.mqttSubscriber.onMessage("update",async e=>{"whatsapp-interface"!==e.path?await(async e=>{var t;null!=e&&null!==(t=e.entity)&&void 0!==t&&t.qrcode&&e.entity.qrcode.substring(25,35);const a=o.RuE.get(e.path);if(a)switch(e.method){case"create":if("campaigns"===e.path&&e.entity)try{const t=(0,r.getStateDirectly)().DBCampaignReducer,a=Array.isArray(e.entity)?e.entity:[e.entity],n=m.MQTTSubscriber.getInstance(),i=n.getCurrentClientId(),s=n.getCurrentClientType();await(0,b.p)(a,t,r.safeDispatch,i,s)}catch(e){}(0,r.safeDispatch)(a.slice.actions.addOne(e.entity));break;case"patch":{const t=(0,r.getStateDirectly)();if(e.entity)if(Array.isArray(e.entity)){const t=e.entity.map(e=>({id:e._id,changes:e}));(0,r.safeDispatch)(a.slice.actions.updateMany(t))}else{var n;if(a.selectors.selectById(t,null===(n=e.entity)||void 0===n?void 0:n._id))(0,r.safeDispatch)(a.slice.actions.updateOne({id:e.entity._id,changes:e.entity}));else{if("campaigns"===e.path&&e.entity)try{const t=(0,r.getStateDirectly)().DBCampaignReducer,a=m.MQTTSubscriber.getInstance(),n=a.getCurrentClientId(),i=a.getCurrentClientType();await(0,b.p)([e.entity],t,r.safeDispatch,n,i)}catch(e){}(0,r.safeDispatch)(a.slice.actions.addOne(e.entity))}}break}case"remove":(0,r.safeDispatch)(a.slice.actions.removeOne(e.entity._id))}return!0})(e):(0,p.B2)()&&await(async(e,t)=>{var a,n,i,s,o,l,d,c,u,p,m,b,k,w,x,D,I,A,T,S,O,C,M,B,_,P,R,E,j,L,N,F,z,U;if("whatsapp-interface"===e.path)try{let H;switch(e.method){case"get_contacts":H=await g.B.getContacts({limit:null!==(a=null===(n=e.entity)||void 0===n||null===(n=n.params)||void 0===n?void 0:n.limit)&&void 0!==a?a:100,offset:null!==(i=null===(s=e.entity)||void 0===s||null===(s=s.params)||void 0===s?void 0:s.offset)&&void 0!==i?i:0});break;case"get_chats":H=await g.B.getChats({limit:null!==(o=null===(l=e.entity)||void 0===l||null===(l=l.params)||void 0===l?void 0:l.limit)&&void 0!==o?o:100,offset:null!==(d=null===(c=e.entity)||void 0===c||null===(c=c.params)||void 0===c?void 0:c.offset)&&void 0!==d?d:0,createLeanLastMessage:null===(u=e.entity)||void 0===u||null===(u=u.params)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.createLeanLastMessage});break;case"get_paginated_messages":H=await g.B.getPaginatedMessages({chatId:null===(p=e.entity)||void 0===p||null===(p=p.params)||void 0===p?void 0:p.chatId,limit:null!==(m=null===(b=e.entity)||void 0===b||null===(b=b.params)||void 0===b?void 0:b.limit)&&void 0!==m?m:50,offset:null!==(k=null===(w=e.entity)||void 0===w||null===(w=w.params)||void 0===w?void 0:w.offset)&&void 0!==k?k:0});break;case"get_chat_by_id":H=await g.B.getChatById(null===(x=e.entity)||void 0===x||null===(x=x.params)||void 0===x?void 0:x.chatId);break;case"get_formatted_chat_by_id":H=await g.B.getFormattedChatById({chatId:null===(D=e.entity)||void 0===D||null===(D=D.params)||void 0===D?void 0:D.chatId});break;case"get_message_media":try{var V,W,Q,G,q;const t=null===(V=e.entity)||void 0===V||null===(V=V.params)||void 0===V?void 0:V.messageId,a=null!==(W=null===(Q=e.entity)||void 0===Q||null===(Q=Q.params)||void 0===Q?void 0:Q.retries)&&void 0!==W?W:3,n=null!==(G=null===(q=e.entity)||void 0===q||null===(q=q.params)||void 0===q?void 0:q.delayMs)&&void 0!==G?G:500,i=await g.B.getMessageMedia(t,a,n);if(i){const e=await(0,r.safeDispatch)(v.Hvd.endpoints.getSignedUploadUrl.initiate({contentType:i.type,expiresInMinutes:4320})).unwrap();await(0,f.BR)(i,e.url),H={mediaUrl:e.publicUrl,fileName:i.name,fileType:i.type,fileSize:i.size}}else H=null}catch(e){H=null}break;case"send_seen_by_chatid":H=await g.B.sendSeenByChatId(null===(I=e.entity)||void 0===I||null===(I=I.params)||void 0===I?void 0:I.chatId);break;case"get_contacts_and_chats_by_search":H=await g.B.searchContactsAndChats(null===(A=e.entity)||void 0===A?void 0:A.params);break;case"get_wa_me_info":case"get_wa_me_info":H=await g.B.getWaMeInfo();break;case"get_messages":H=await g.B.getMessages({chatId:null===(T=e.entity)||void 0===T||null===(T=T.params)||void 0===T?void 0:T.chatId,limit:null!==(S=null===(O=e.entity)||void 0===O||null===(O=O.params)||void 0===O?void 0:O.limit)&&void 0!==S?S:100,offset:null!==(C=null===(M=e.entity)||void 0===M||null===(M=M.params)||void 0===M?void 0:M.offset)&&void 0!==C?C:0,cutoffDate:null===(B=e.entity)||void 0===B||null===(B=B.params)||void 0===B?void 0:B.cutoffDate,latestDate:null===(_=e.entity)||void 0===_||null===(_=_.params)||void 0===_?void 0:_.latestDate}),H=H.filter(e=>"image"!==e.type).map(e=>{const t={};return Object.entries(e).forEach(e=>{let[a,n]=e;"id"!==a&&void 0!==n&&(t[a]=n)}),t});break;case"get_wa_messages_ack_by_wa_messages_keys":const t=null===(P=e.entity)||void 0===P||null===(P=P.params)||void 0===P?void 0:P.params;H=await g.B.getWaMessagesAckByWaMessagesKeys(t);break;case"get_wa_messages_ack_data_by_wa_messages_keys":const K=null===(R=e.entity)||void 0===R||null===(R=R.params)||void 0===R?void 0:R.params;H=await g.B.getWaMessagesAckDataByWaMessagesKeys(K);break;case"get_message_info":const X=null===(E=e.entity)||void 0===E||null===(E=E.params)||void 0===E?void 0:E.waMessageKey;H=await g.B.getMessageInfo(X);break;case"search_messages":H=await g.B.searchMessages(null===(j=e.entity)||void 0===j?void 0:j.params);break;case"search_contacts":H=await g.B.searchContacts(null===(L=e.entity)||void 0===L?void 0:L.params);break;case"get_contacts_and_chats_by_search":H=await g.B.searchContactsAndChats(null===(N=e.entity)||void 0===N?void 0:N.params);break;case"get_profile_pic":H=await g.B.getProfilePic(null===(F=e.entity)||void 0===F||null===(F=F.params)||void 0===F?void 0:F.contactIds);break;case"send_message_from_whatsapp_interface_actions":const Y=1e4,Z=await(0,h.wj)((0,y.C1)(null===(z=e.entity)||void 0===z||null===(z=z.params)||void 0===z?void 0:z.message),"prepareMessageForWa",Y);H=await g.B.sendMessageViaWhatsapp(Z,null===(U=e.entity)||void 0===U||null===(U=U.params)||void 0===U?void 0:U.userMessageId);break;default:throw new Error("Unknown command: ".concat(e.method))}t({success:!0,data:H})}catch(e){t({success:!1,error:e.message||"Failed to process request"})}return null})(e,void 0)}),this.mqttSubscriber.onMessage("settings-update",e=>{(0,r.safeDispatch)((0,d.oc)(e))}),this.mqttSubscriber.onMessage("wa-message-listener-event",async e=>{var t,a,n,i,s,l,d,u,m;if((0,p.B2)())return;const{msg:g,type:y}=e.data,h=(0,r.getStateDirectly)(),v=g.chatId,f=null==g||null===(t=g.id)||void 0===t?void 0:t._serialized,b=null!==(a=null===(n=h.TeamInboxReducer)||void 0===n||null===(n=n.chatViewMode)||void 0===n?void 0:n.chatId)&&void 0!==a?a:null,k=null!==(i=null===(s=h.TeamInboxReducer)||void 0===s||null===(s=s.chatViewMode)||void 0===s?void 0:s.tempChatData)&&void 0!==i?i:null,w="noSearchValue"!==(null===(l=h.TeamInboxReducer)||void 0===l||null===(l=l.filteredChatAndContactList)||void 0===l?void 0:l.searchResponseStatus),x=v===b;if("status@broadcast"===v)return;if(0===h.DBTeamInboxChatsCacheReducer.ids.length&&!k)return;let I=h.DBTeamInboxChatsCacheReducer.entities[v];if(!I&&("receivedNewMessage"!==y||w||(0,r.safeDispatch)((0,c.SA)(v)),!x))return;let A,T=!1;var S;"receivedMessageRevoked"===y?A=null==g||null===(S=g.protocolMessageKey)||void 0===S?void 0:S._serialized:"receivedCiphertextMessageAdded"!==y&&"receivedNewMessage"!==y&&"receivedMessageAckUpdate"!==y&&"receivedMessageRemoved"!==y||(A=f);switch(y){case"receivedCiphertextMessageAdded":case"receivedNewMessage":const e={lastMessage:g};if(!["description"].includes(null==g?void 0:g.subtype)&&(e.timestamp=g.timestamp),(0,r.safeDispatch)(o.TeamInboxChatsCacheReducerActions.updateOne({id:v,changes:e})),x){g.fromMe||(0,r.safeDispatch)((0,c.T6)(v));const e=D(D({},g),{},{_id:A});(0,r.safeDispatch)(o.TeamInboxMessagesCacheReducerActions.addOne(e))}break;case"receivedMessageAckUpdate":if(T=(null==I||null===(d=I.lastMessage)||void 0===d?void 0:d.id._serialized)===f,T&&(0,r.safeDispatch)(o.TeamInboxChatsCacheReducerActions.updateOne({id:v,changes:{lastMessage:D(D({},I.lastMessage),{},{ack:g.ack})}})),!x)break;(0,r.safeDispatch)(o.TeamInboxMessagesCacheReducerActions.updateOne({id:A,changes:{ack:g.ack}}));break;case"receivedMessageRemoved":if(T=(null===(u=I.lastMessage)||void 0===u||null===(u=u.id)||void 0===u?void 0:u._serialized)===A,T){const e=g.lastMessage;(0,r.safeDispatch)(o.TeamInboxChatsCacheReducerActions.updateOne({id:v,changes:{lastMessage:e,timestamp:e.timestamp}}))}x&&(0,r.safeDispatch)(o.TeamInboxMessagesCacheReducerActions.updateOne({id:A,changes:{deleted:!0}}));break;case"receivedMessageRevoked":if(T=(null==I||null===(m=I.lastMessage)||void 0===m?void 0:m.id._serialized)===g.protocolMessageKey._serialized,T&&(0,r.safeDispatch)(o.TeamInboxChatsCacheReducerActions.updateOne({id:v,changes:{lastMessage:g}})),!x)return;(0,r.safeDispatch)(o.TeamInboxMessagesCacheReducerActions.updateOne({id:A,changes:D(D({},g),{},{_id:g.id._serialized})}));break;case"receivedUnreadCountChanged":(0,r.safeDispatch)(o.TeamInboxChatsCacheReducerActions.updateOne({id:v,changes:{unreadCount:g.unreadCount,timestamp:g.timestamp}}))}})}}(0,i.A)(I,"instance",void 0);var A=a(52597);const T=(0,n.zD)("notifier/connectNotifier",async e=>{let{accessToken:t}=e;I.getInstance().connect(t)}),S=((0,n.zD)("notifier/connectAsSupportedUser",async(e,t)=>{let{supportedUserId:n}=e;const{dispatch:i}=t;try{const{generateSupportedUserToken:e,getUserConnectedClients:t}=await Promise.resolve().then(a.bind(a,92032)),r=await i(e.initiate({supportedUserId:n})).unwrap();if(!r.success)throw new Error("Failed to generate supported user token");{const e=I.getInstance();e.disconnect(),i((0,A.ri)([])),e.connect(r.accessToken),setTimeout(async()=>{try{const e=await i(t.initiate({userId:n})).unwrap();i((0,A.ri)(e))}catch(e){}},2e3)}}catch(e){throw e}}),(0,n.zD)("notifier/disconnect",async(e,t)=>{const a=t.dispatch;I.getInstance().disconnect(),a((0,A.ri)([]))})),O=((0,n.zD)("notifier/logout",async(e,t)=>{}),(0,n.zD)("notifierSubscribeThunk",async(e,t)=>{const{entityType:a,entityId:n}=e;if("boards"===a||"workspaces"===a){const e=m.MQTTSubscriber.getInstance();e.isConnected()&&e.subscribeToEntity(a,n)}}));(0,n.zD)("notifier/identify",async(e,t)=>{}),(0,n.zD)("notifier/subscribe-dashboard",async(e,t)=>{})},84810:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>w});var n=a(30038),i=a(92032),r=a(79613),s=a(64467);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){(0,s.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function d(e){const{url:t,title:a="OAuth Authentication",width:n=600,height:i=600,onMessage:s,onClose:o,originValidation:l=r.U.API_ENDPOINT}=e,d=window.screenX+(window.outerWidth-n)/2,c=window.screenY+(window.outerHeight-i)/2,u=window.open(t,a,"width=".concat(n,",height=").concat(i,",left=").concat(d,",top=").concat(c));if(!u)throw new Error("Popup blocked. Please allow popups for this site.");let p=null,m=!1;const g=()=>{u&&!u.closed||(v(),o&&!m&&(m=!0,o()))};p=window.setInterval(g,300);const y=e=>{(function(e,t){0;if("string"==typeof t)return e===t||e.startsWith(t);if(t instanceof RegExp)return t.test(e);if("function"==typeof t)return t(e);return!1})(e.origin,l)&&s&&(s(e),e.data&&(e.data.accessToken||e.data.type&&(e.data.type.includes("auth_success")||e.data.type.includes("_auth_success")))&&v())};window.addEventListener("message",y);const h=()=>{u&&u.closed&&g()};window.addEventListener("focus",h);const v=()=>{null!==p&&(window.clearInterval(p),p=null),window.removeEventListener("message",y),window.removeEventListener("focus",h),u&&!u.closed&&u.close()};return{close:v}}var c=a(12239);const u=(0,n.zD)("instagramSelector/checkFacebookTokenValidity",async(e,t)=>{let{dispatch:a,rejectWithValue:n}=t;try{const e=await a(i.Hvd.endpoints.validateFacebookToken.initiate());if("error"in e){var r;return n("object"==typeof e.error&&null!==e.error?"status"in e.error&&"data"in e.error?(null===(r=e.error.data)||void 0===r?void 0:r.message)||"Failed to validate Facebook token":e.error.message||"Failed to validate Facebook token":"Failed to validate Facebook token")}const{data:t}=e;return t}catch(e){return n(e instanceof Error?e.message:"Unknown error")}}),p=(0,n.zD)("instagramSelector/connectFacebook",async(e,t)=>{let{dispatch:a,rejectWithValue:n,getState:i}=t;try{a(h(!0));const e=i(),t="pages_show_list,instagram_basic,pages_read_engagement,pages_messaging,pages_manage_metadata,instagram_manage_messages",s="trigger-selector",o=(0,c.B$)(e),u="".concat(r.U.API_ENDPOINT,"/oauth/facebook"),p=new URLSearchParams({userId:o,botId:s,scope:t}),m="".concat(u,"?").concat(p.toString()),g=await new Promise(e=>{let t=!1;const a=a=>{t||(t=!0,e(a))},n=(i="facebook_auth_success",r="facebook_auth_error",s=e=>{const t={accessToken:e.accessToken,refreshToken:e.refreshToken,tokenExpiry:e.tokenExpiry||(e.expiresIn?Date.now()+1e3*e.expiresIn:void 0),email:e.email,provider:"facebook"};a({success:!0,tokens:t})},o=e=>{a({success:!1,error:e})},e=>{const{data:t}=e;if(t&&t.accessToken)return!t.tokenExpiry&&t.expiresIn&&(t.tokenExpiry=Date.now()+1e3*t.expiresIn),void s(l(l({},t),{},{type:i}));t&&t.error?o(t.error):t&&t.type&&(t.type===i?s(t):t.type===r&&o(t.error||"Authentication failed"))});var i,r,s,o;d({url:m,title:"Connect Facebook",onMessage:n,onClose:()=>{a({success:!1,error:"Authentication canceled"})}})});return g.success&&g.tokens?g.tokens:n(g.error||"Authentication failed")}catch(e){return n(e instanceof Error?e.message:"Unknown error")}finally{a(h(!1))}}),m=(0,n.zD)("instagramSelector/fetchPages",async(e,t)=>{let{getState:a,dispatch:n,rejectWithValue:r}=t;try{n(v(!0));const e=await n(u());if(!u.fulfilled.match(e))return r("Failed to validate Facebook token");if(!e.payload.isValid)return r("Facebook not connected or token invalid");const t=await n(i.Hvd.endpoints.getFacebookPages.initiate());if("error"in t){var s;return r("object"==typeof t.error&&null!==t.error?"status"in t.error&&"data"in t.error?(null===(s=t.error.data)||void 0===s?void 0:s.message)||"Failed to fetch pages":t.error.message||"Failed to fetch pages":"Failed to fetch pages")}const{data:a}=t;return a&&Array.isArray(a.facebookPages)&&Array.isArray(a.instagramAccounts)?a:r("Invalid response structure from server")}catch(e){return r(e instanceof Error?e.message:"Unknown error")}finally{n(v(!1))}}),g=(0,n.zD)("instagramSelector/disconnectFacebook",async(e,t)=>{let{dispatch:a,rejectWithValue:n}=t;try{if(e){const t=await a(i.Hvd.endpoints.deleteAuthToken.initiate(e));if("error"in t){var r;return n("object"==typeof t.error&&null!==t.error?"status"in t.error&&"data"in t.error?(null===(r=t.error.data)||void 0===r?void 0:r.message)||"Failed to delete auth token":t.error.message||"Failed to delete auth token":"Failed to delete auth token")}}return{success:!0}}catch(e){return n(e instanceof Error?e.message:"Unknown error")}}),y=(0,n.Z0)({name:"instagramSelector",initialState:{facebookConnected:!1,selectedInstagramAccountId:null,selectedInstagramAccount:null,instagramAccounts:[],facebookPages:[],loading:!1,error:null,connecting:!1},reducers:{setConnecting:(e,t)=>{e.connecting=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setSelectedInstagramAccountId:(e,t)=>{e.selectedInstagramAccountId=t.payload,e.selectedInstagramAccount=e.instagramAccounts.find(e=>e.id===t.payload)||null},setFacebookConnected:(e,t)=>{e.facebookConnected=t.payload},resetState:e=>{e.facebookConnected=!1,e.selectedInstagramAccountId=null,e.selectedInstagramAccount=null,e.instagramAccounts=[],e.facebookPages=[],e.error=null,e.connecting=!1,e.loading=!1}},extraReducers:e=>{e.addCase(u.fulfilled,(e,t)=>{e.facebookConnected=t.payload.isValid,e.error=null}).addCase(u.rejected,(e,t)=>{e.facebookConnected=!1,e.error=t.payload||"Failed to validate Facebook token"}).addCase(p.fulfilled,e=>{e.facebookConnected=!0,e.error=null}).addCase(p.rejected,(e,t)=>{e.error=t.payload||"Failed to connect to Facebook"}).addCase(m.fulfilled,(e,t)=>{e.facebookPages=t.payload.facebookPages,e.instagramAccounts=t.payload.instagramAccounts,e.error=null,e.instagramAccounts.length>0&&!e.selectedInstagramAccountId?(e.selectedInstagramAccountId=e.instagramAccounts[0].id,e.selectedInstagramAccount=e.instagramAccounts[0]):e.selectedInstagramAccountId?e.selectedInstagramAccount=e.instagramAccounts.find(t=>t.id===e.selectedInstagramAccountId)||null:(e.selectedInstagramAccountId=null,e.selectedInstagramAccount=null)}).addCase(m.rejected,(e,t)=>{e.error=t.payload||"Failed to fetch pages",e.facebookPages=[],e.instagramAccounts=[],e.selectedInstagramAccountId=null,e.selectedInstagramAccount=null}).addCase(g.fulfilled,e=>{e.facebookConnected=!1,e.selectedInstagramAccountId=null,e.selectedInstagramAccount=null,e.instagramAccounts=[],e.facebookPages=[],e.error=null}).addCase(g.rejected,(e,t)=>{e.error=t.payload||"Failed to disconnect Facebook"})}}),{setConnecting:h,setLoading:v,setSelectedInstagramAccountId:f,setFacebookConnected:b,resetState:k}=y.actions,w=y.reducer},85639:(e,t,a)=>{"use strict";a.d(t,{zd:()=>o});var n=a(87e3);const i=n.PhoneNumberUtil.getInstance(),r=e=>{try{if(!e)return"";const t="+"+(null==e?void 0:e.split("@")[0]),a=i.parse(t);return i.format(a,n.PhoneNumberFormat.INTERNATIONAL)}catch(e){return null}},s=(e,t)=>{if(!e||!t)return!1;return t.split("@")[0]===e};function o(e,t,a){return e.reduce((e,n)=>{const i=t[n],o=function(e,t){return s(t,e._serialized)?"You":e.name?e.name:e.pushname?"~ ".concat(e.pushname):r(e._serialized)||"contact not found"}({_serialized:n,name:null==i?void 0:i.name,pushname:null==i?void 0:i.pushname},a);return e[n]=o,e},{})}},85855:(e,t,a)=>{"use strict";a.d(t,{pz:()=>ba,JN:()=>ka});var n=a(96540);const i="checkbox-form-cell__checkboxCell___jjNd";var r=a(28161),s=a(59644);const o="checkbox__customCheckbox___9VeSA";var l=a(74848);const d=e=>{var t,a;return(0,l.jsx)("div",{className:o,style:{borderColor:null!==(t=e.color)&&void 0!==t?t:"#00c875",backgroundColor:e.checked?null!==(a=e.color)&&void 0!==a?a:"#00c875":"",pointerEvents:e.disabled?"none":"all"},children:e.checked&&(0,l.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,l.jsx)(s.e8G,{size:14,color:"var(--color-surface)"})})})};var c=a(36596),u=a(44010);function p(e){let{cellValue:t,groupId:a,onUpdate:s,isFormInEditMode:o}=e;const[p,m]=(0,n.useState)(!1),g=(0,u.GV)(e=>c.sWy.selectById(e,a));return(0,l.jsx)("div",{className:i,children:(0,l.jsx)(r.A,{onClick:function(e){m(!p),s(!p)},children:(0,l.jsx)(d,{checked:!o&&(p||t),color:null==g?void 0:g.colorAccent})})})}const m=(0,n.memo)(p);var g=a(64467),y=a(42471),h=a(80663),v=a(75737),f=a(40671),b=a(82651),k=a(2975),w=a(32389),x=a(59584);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function I(e){let{cellValue:t,taskId:a,columnId:i,groupId:r,onUpdate:s,isFormInEditMode:o}=e;const{t:d}=(0,w.Bd)(k.MF),[c,u]=n.useState(null);return(0,l.jsxs)(h.A,{direction:"row",sx:{display:"flex",flexDirection:"row",alignItems:"flex-start"},children:[(0,l.jsx)(v.$,{dateAdapter:b.Y,children:(0,l.jsx)(h.A,{spacing:3,children:(0,l.jsx)(f.T,{disabled:!!o,label:d("dateFormCell.selectDate"),format:"MM/DD/YYYY",value:c,onChange:e=>{u(e),s(e)},slots:e=>(0,l.jsx)(y.A,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e))})})}),t&&(0,l.jsx)(x.z5f,{onClick:e=>function(e){e.stopPropagation(),u(null),s(void 0)}(e)})]})}function A(e){let{cellValue:t,taskId:a,columnId:i,groupId:r,onUpdate:s,isFormInEditMode:o}=e;const[d,c]=(0,n.useState)("");return(0,l.jsxs)(h.A,{direction:"row",sx:{display:"flex",flexDirection:"row",alignItems:"flex-start"},children:[(0,l.jsx)(y.A,{style:{width:"260px"},disabled:!!o,id:"outlined-number",type:"number",value:d,onChange:e=>function(e){c(e.target.value),s(e.target.value)}(e),InputLabelProps:{shrink:!0}}),t&&(0,l.jsx)(x.z5f,{onClick:function(){c(""),s(void 0)}})]})}var T=a(90815),S=a(50779),O=a(29571),C=a(2071),M=a(73896),B=a(42636);function _(e){let{cellValue:t,taskId:a,columnId:i,groupId:r,boardId:s,onUpdate:o,isFormInEditMode:d}=e;const{t:p}=(0,w.Bd)(k.MF),m=(0,u.GV)(e=>(0,c.u7r)(e.DBTaskColumnOptionReducer,{columnId:i,$or:[{deleted:{$exists:!1}},{deleted:!1}]},void 0,{order:1})),g=(0,u.GV)(e=>(0,B.PU)(e,{boardId:s,columnId:i})),[y,h]=n.useState("");return(0,l.jsxs)(T.A,{direction:"row",sx:{display:"flex",flexDirection:"row",alignItems:"flex-start"},children:[(0,l.jsxs)(S.A,{style:{width:"260px"},children:[(0,l.jsx)(O.A,{id:"demo-simple-select-autowidth-label",children:""===(null==g?void 0:g.title)||void 0===(null==g?void 0:g.title)?null==g?void 0:g.type:null==g?void 0:g.title}),(0,l.jsx)(C.A,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:y,onChange:e=>{h(e.target.value),o(e.target.value)},disabled:!!d,autoWidth:!0,label:p("priorityStatusFormCell.label"),children:m.map((e,t)=>(0,l.jsx)(M.A,{value:e._id,children:""===e.label?p("priorityStatusFormCell.empty"):e.label},t))})]}),t&&(0,l.jsx)(x.z5f,{onClick:function(){h(""),o(void 0)}})]})}const P="rating-form-cell__ratingCell___wKzLo",R="rating-form-cell__clearIcon___wKzLo";var E=a(23057);function j(e){var t;let{cellValue:a,onUpdate:i}=e;const[r,s]=(0,n.useState)();return(0,l.jsxs)("div",{className:P,children:[(0,l.jsx)(E.A,{size:"small",value:null!==(t=r||a)&&void 0!==t?t:0,onChange:e=>{!function(e){s(Number(e.currentTarget.value)),i(Number(e.currentTarget.value))}(e)}}),a&&(0,l.jsx)(x.z5f,{onClick:function(){s(void 0),i(void 0)},className:R})]})}function L(e){let{cellValue:t,taskId:a,columnId:i,groupId:r,onUpdate:s,isFormInEditMode:o}=e;const[d,c]=(0,n.useState)("");return(0,l.jsxs)(h.A,{direction:"row",sx:{display:"flex",flexDirection:"row",alignItems:"flex-start"},children:[(0,l.jsx)(y.A,{style:{width:"260px"},disabled:!!o,id:"outlined-helperText",value:d,onChange:e=>function(e){c(e.target.value),s(e.target.value)}(e)}),t&&(0,l.jsx)(x.z5f,{onClick:function(){c(""),s(void 0)}})]})}const N="timeline-form-cell__clearIcon___gDRC";function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function U(e){let{cellValue:t,onUpdate:a,isFormInEditMode:i}=e;const[r,s]=(0,n.useState)([{startDate:null,endDate:null}]),o=(e,t)=>{s(a=>[z(z({},a[0]),{},{[t]:e})])};function d(e,t){s(e=>[z(z({},e[0]),{},{[t]:null})]),e.stopPropagation()}return(0,n.useEffect)(()=>{var e,t;let n;n={startDate:null===(e=r[0].startDate)||void 0===e?void 0:e.toISOString(),endDate:null===(t=r[0].endDate)||void 0===t?void 0:t.toISOString()},r[0].startDate&&r[0].endDate&&r[0].startDate.toISOString()>r[0].endDate.toISOString()&&(n={startDate:r[0].endDate,endDate:r[0].startDate}),a(n)},[r]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(T.A,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,l.jsxs)(T.A,{direction:"row",children:[(0,l.jsx)(v.$,{dateAdapter:b.Y,children:(0,l.jsx)(T.A,{spacing:3,sx:{width:"260px",marginRight:"5px"},children:(0,l.jsx)(f.T,{disabled:i,label:"Start Date",format:"DD/MM/YYYY",value:r[0].startDate,onChange:e=>{o(e,"startDate")}})})}),!i&&r[0].startDate&&(0,l.jsx)(x.z5f,{onClick:e=>d(e,"startDate"),className:N})]}),(0,l.jsxs)(T.A,{direction:"row",sx:{marginTop:"15px"},children:[(0,l.jsx)(v.$,{dateAdapter:b.Y,children:(0,l.jsx)(T.A,{spacing:3,sx:{width:"260px",marginRight:"5px"},children:(0,l.jsx)(f.T,{disabled:i,label:"End Date",format:"DD/MM/YYYY",value:r[0].endDate,onChange:e=>o(e,"endDate")})})}),!i&&r[0].endDate&&(0,l.jsx)(x.z5f,{onClick:e=>d(e,"endDate"),className:N})]})]})})}var V,W,Q=a(56855),G=a(95093),q=a.n(G),H=a(54263),K=a(96710),X=a(74563),Y=a(42644),Z=a(37609),J=a(80033),$=a(66918),ee=a(10819),te=a(68520),ae=a(32325),ne=a(47839);function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ie.apply(null,arguments)}const re=e=>n.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 425.41 425.41",style:{enableBackground:"new 0 0 425.41 425.41"},xmlSpace:"preserve"},e),V||(V=n.createElement("circle",{className:"add_svg__st0",cx:212.71,cy:212.71,r:212.71})),W||(W=n.createElement("path",{className:"add_svg__st1",d:"M315.27 190.41h-75.81c-2.46 0-4.46-2-4.46-4.46v-75.81c0-12.31-9.98-22.3-22.3-22.3-12.31 0-22.3 9.98-22.3 22.3v75.81c0 2.46-2 4.46-4.46 4.46h-75.81c-12.31 0-22.3 9.98-22.3 22.3 0 12.31 9.98 22.3 22.3 22.3h75.81c2.46 0 4.46 2 4.46 4.46v75.81c0 12.31 9.98 22.3 22.3 22.3 12.31 0 22.3-9.98 22.3-22.3v-75.81c0-2.46 2-4.46 4.46-4.46h75.81c12.31 0 22.3-9.98 22.3-22.3s-9.98-22.3-22.3-22.3z"}))),se="link_cell__linkContainer___JEgy5",oe="link_cell__clearIcon___JEgy5",le="link_cell__addIcon___JEgy5",de="link_cell__linkIcon___JEgy5",ce="link_cell__linkCell___JEgy5";var ue;function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pe.apply(null,arguments)}const me=e=>n.createElement("svg",pe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve"},e),ue||(ue=n.createElement("path",{className:"small-link_svg__color",d:"M153.56 455c-25.43 0-49.44-10.07-67.96-28.6-19.4-19.4-29.53-44.81-28.53-71.57 1.03-27.63 13.51-54.17 36.1-76.75l40.66-40.83c6.06-6.08 15.9-6.1 21.99-.05 6.08 6.06 6.1 15.9.05 21.99l-40.68 40.85c-32.97 32.97-36.08 75.88-7.59 104.37 28.49 28.49 71.4 25.38 104.34-7.57l55.88-55.88c16.94-16.94 26.28-36.28 27.01-55.93.67-18.01-6.23-35.21-19.45-48.42-4.43-4.43-9.33-8.18-14.56-11.16-7.46-4.25-10.06-13.74-5.81-21.2 4.25-7.46 13.74-10.06 21.2-5.81 7.65 4.36 14.77 9.81 21.16 16.2 19.4 19.4 29.53 44.81 28.53 71.56-1.03 27.63-13.51 54.17-36.1 76.75l-55.88 55.88c-22.58 22.58-49.12 35.06-76.75 36.1-1.21.05-2.41.07-3.61.07zM257 307.74c4.25-7.46 1.65-16.95-5.81-21.2-5.23-2.98-10.13-6.74-14.56-11.16-28.49-28.49-25.38-71.4 7.57-104.35l55.88-55.88c32.95-32.94 75.85-36.06 104.34-7.57 28.49 28.49 25.38 71.4-7.59 104.37l-40.68 40.85c-6.06 6.08-6.04 15.93.05 21.99 6.08 6.06 15.93 6.04 21.99-.05l40.66-40.83c22.58-22.58 35.06-49.12 36.1-76.75 1-26.75-9.13-52.17-28.53-71.57-19.4-19.4-44.83-29.53-71.57-28.53-27.63 1.03-54.17 13.51-76.75 36.1l-55.88 55.88c-22.58 22.58-35.06 49.12-36.1 76.75-1 26.75 9.13 52.17 28.53 71.57 6.39 6.39 13.51 11.84 21.16 16.2 2.43 1.38 5.07 2.04 7.68 2.04 5.39 0 10.64-2.83 13.51-7.86z"})));var ge=a(13153);const ye="checkbox_cell__checkboxCell___toVI9";var he=a(61076),ve=a(97424);function fe(e){var t;let{columnId:a,boardId:n,openPicker:i,mockValue:s}=e;const{t:o}=(0,w.Bd)(k.MF);(0,u.GV)(ve.Wu);return(0,l.jsx)(T.A,{direction:"row",justifyContent:"center",sx:{padding:"8px 0",overflow:"hidden","&:hover button":{visibility:"visible"},width:"100%"},children:(0,l.jsx)(ne.A,{placement:"top",arrow:!0,title:o("columnHeaderBoardView.titleCannotBeEdited"),children:(0,l.jsx)(r.A,{sx:{cursor:"default",textAlign:"center",width:"100%",color:"var(--tasks-text-muted)",whiteSpace:"nowrap",textOverflow:"ellipsis",outline:"none",backgroundColor:"transparent",fontSize:"12px",border:"1px solid transparent",borderRadius:"4px",overflow:"hidden",fontFamily:"'Inter', sans-serif",padding:"3px"},children:null===(t=s.column)||void 0===t?void 0:t.title})})})}const be={ratingCell:"created_cell__ratingCell___iHhS",clearIcon:"created_cell__clearIcon___iHhS"};var ke=a(1422);var we=a(9777);const xe="date_cell__dateContainer___iVjVA",De="date_cell__clearIcon___iVjVA",Ie="date_cell__addIcon___iVjVA",Ae="date_cell__dateIcon___iVjVA",Te="date_cell__dateCell___iVjVA";function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Se.apply(null,arguments)}const Oe=e=>n.createElement("svg",Se({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve"},e),n.createElement("path",{d:"M403.7 88.09h-35.76V69.44c0-6.87-5.57-12.44-12.44-12.44s-12.44 5.57-12.44 12.44V88.1H168.94V69.44c0-6.87-5.57-12.44-12.44-12.44s-12.44 5.57-12.44 12.44V88.1H108.3C80.01 88.09 57 111.11 57 139.4v264.3c0 28.29 23.01 51.3 51.3 51.3h295.4c28.29 0 51.3-23.01 51.3-51.3V139.4c0-28.29-23.01-51.31-51.3-51.31zm-295.4 24.88h35.76v12.44c0 6.87 5.57 12.44 12.44 12.44s12.44-5.57 12.44-12.44v-12.44h174.12v12.44c0 6.87 5.57 12.44 12.44 12.44s12.44-5.57 12.44-12.44v-12.44h35.76c14.57 0 26.43 11.86 26.43 26.43v29.54H81.88V139.4c0-14.58 11.85-26.43 26.42-26.43zm295.4 317.15H108.3c-14.57 0-26.43-11.86-26.43-26.43V193.81h348.25V403.7c0 14.57-11.85 26.42-26.42 26.42z",style:{fill:"#003750"}}),n.createElement("path",{d:"M304.02 366.8v20.38h-96.03V366.8h38.8V248.16c-8.65 4.47-23.73 10.05-32.1 12.56l-2.79-18.98c14.24-4.75 32.1-12.84 41.59-18.98h15.91V366.8h34.62z",style:{fill:"#043750"}})),Ce=e=>{let{cellValue:t,taskId:a,onUpdate:n,columnId:i,togglePicker:r}=e;const s=q()(t).isSame(new Date,"year")?q()(t).format("MMM DD"):q()(t).format("MMM DD, YYYY"),o="date_".concat(a,"_").concat(i);return(0,c.qfk)(i)?(0,l.jsx)(ae.A,{variant:"rectangular"}):(0,l.jsxs)("div",{className:xe,onClick:()=>r({anchorId:o,pickerType:"date-picker"}),id:o,children:[(0,l.jsxs)("div",{className:Te,children:[!t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(we.ReactComponent,{className:Ie}),(0,l.jsx)(Oe,{className:Ae})]}),(0,l.jsx)("div",{children:t&&(0,l.jsx)(l.Fragment,{children:t?s:""})})]}),t&&(0,l.jsx)(x.z5f,{onClick:e=>function(e){e.stopPropagation(),n(void 0)}(e),className:De})]})},Me="drop_down_cell__labelsContainer___g2VMp",Be="drop_down_cell__label___g2VMp";var _e=a(83095),Pe=a(20130);function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var je=a(56634),Le=a(31838),Ne=a(94303),Fe=a(24076),ze=a(28079),Ue=a(10824);const Ve="dropzone__dropzoneContent___rlmZ",We="dropzone__dropzoneContentNone___rlmZ";function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function qe(e){let{onDrop:t}=e;const{getRootProps:a,isDragActive:n}=(0,Ue.VB)({onDrop:t,noClick:!0}),i=a();return(0,l.jsx)("div",Ge(Ge({},i),{},{children:n?(0,l.jsx)("span",{className:Ve}):(0,l.jsx)("span",{className:We})}))}const He={filesContainer:"files_cell__filesContainer___otfd7",clearIcon:"files_cell__clearIcon___otfd7",extraFiles:"files_cell__extraFiles___otfd7",cirlce:"files_cell__cirlce___otfd7",addIcon:"files_cell__addIcon___otfd7",filesIcon:"files_cell__filesIcon___otfd7",addWithFiles:"files_cell__addWithFiles___otfd7",filesCell:"files_cell__filesCell___otfd7",fileIcon:"files_cell__fileIcon___otfd7",imgIcon:"files_cell__imgIcon___otfd7",docIcons:"files_cell__docIcons___otfd7"};function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ke.apply(null,arguments)}const Xe=e=>n.createElement("svg",Ke({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve"},e),n.createElement("path",{d:"M409.62 157.38a14.57 14.57 0 0 0-2.04-2.91l-.24-.28-.26-.26-.12-.13-85.33-85.33-.28-.27-.29-.27-.1-.09c-.9-.82-1.89-1.49-2.91-2.04a15.09 15.09 0 0 0-7.19-1.8H115.81c-8.41 0-15.24 6.83-15.24 15.24v353.52c0 8.41 6.83 15.24 15.24 15.24h280.38c8.41 0 15.24-6.83 15.24-15.24V164.57c0-2.6-.65-5.05-1.81-7.19zm-114 7.19c0 8.41 6.83 15.24 15.24 15.24h70.1v237.71h-249.9V94.48h164.57v70.09zm30.48-15.24h33.3l-33.3-33.3v33.3z",style:{fill:"#003750"}}));var Ye=a(73357);var Ze=a(67158),Je=a(52761),$e=a(51366);function et(e){var t;let{groupId:a}=e;const n=(0,u.jL)(),i=(0,u.GV)(e=>c.NpU.selectById(e,a)),r=(0,u.GV)(e=>e.MainReducer.menuActiveGroupId),s=(0,u.GV)(e=>(0,B.j)(e,a)),o=(0,u.GV)(e=>e.UserReducer.direction);return(0,l.jsxs)(h.A,{direction:"row",alignItems:"center",children:[(0,l.jsx)(h.A,{alignItems:"center",className:$e.A.group_header_menu,onClick:()=>{n(Ze.HB.toggleGroupMenu(r?"":null==i?void 0:i._id))},children:(0,l.jsx)(K.Ym0,{size:20,id:"group-button-".concat(null==i?void 0:i._id)})}),(0,l.jsx)(h.A,{alignItems:"center",style:{height:"40px",width:24,backgroundColor:null!==(t=null==i?void 0:i.colorAccent)&&void 0!==t?t:Je.Z,borderTopLeftRadius:"ltr"===o?12:void 0,borderTopRightRadius:"rtl"===o?12:void 0,borderBottomLeftRadius:null!=i&&i.isCollapsed||0===s?12:0,position:"relative",insetInlineStart:null!=i&&i.isCollapsed||0===s?6:9}})]})}const tt={};var at=a(32434);const nt="number_cell__numberCell___pdy2",it="number_cell__smNumbersIcon___pdy2",rt="number_cell__addIcon___pdy2",st="number_cell__clearIcon___pdy2",ot="number_cell__numbersIcon___pdy2";function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const ct="option-picker__pickerButton___Lntcs";var ut=a(18051),pt=a.n(ut),mt=a(8512);function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ht(e){var t,a,i,s;let{taskId:o,cellValue:d,columnId:p,boardId:m,togglePicker:g,sx:y,mockValue:h,readOnly:v}=e;const f="options_".concat(o,"_").concat(p),[b,k]=(0,n.useState)(!1),w=function(e){const t=(0,n.useRef)();return(0,n.useEffect)(()=>{t.current=e},[e]),t.current}(p),x=(0,n.useRef)(!0),D=(0,u.GV)(e=>(0,c.u7r)(e.DBTaskColumnOptionReducer,{boardId:m,columnId:p,$or:[{deleted:{$exists:!1}},{deleted:!1}]})),I=null!==(t=(0,n.useMemo)(()=>D.find(e=>e._id&&!(0,c.qfk)(e._id)&&e._id===d),[D,d]))&&void 0!==t?t:h,A=(0,n.useMemo)(()=>D.find(e=>e.isDefaultLabel),[D,d]),S=null!=I&&I.complexity?null==I?void 0:I.complexity:null==h?void 0:h.complexity,O=null!=I&&I.label?null==I?void 0:I.label:null!==(a=null==h?void 0:h.label)&&void 0!==a?a:null,C=yt({height:25,borderRadius:"5px",flex:"auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},y),M=null!=I&&I.bgcolor?null==I?void 0:I.bgcolor:null!==(i=null==h?void 0:h.bgcolor)&&void 0!==i?i:"#c4c4c4f5";return(0,n.useEffect)(()=>{if(x.current)x.current=!1;else if("Done"===O&&w===p){k(!0);const e=setTimeout(()=>k(!1),2e3);return()=>clearTimeout(e)}},[O,p,w]),(0,l.jsxs)(T.A,{direction:"row",sx:{width:1,position:"relative",padding:y?"0px":"0 5px",overflow:"hidden"},id:f,onClick:e=>e.stopPropagation(),children:[(0,c.qfk)(p)&&(0,l.jsx)(ae.A,{sx:{background:"#c4c4c4f5"},variant:"rectangular"}),!(0,c.qfk)(p)&&!S&&(0,l.jsxs)("button",{"aria-haspopup":"true",onClick:()=>g({anchorId:f,pickerType:"option-picker"}),className:ct,style:yt({backgroundColor:M,textTransform:"none",boxShadow:"none",color:"var(--fab-text)",fontSize:12,fontWeight:"600",fontFamily:"'Inter', 'Assistant', sans-serif"},C),disabled:v,children:[b&&(0,l.jsx)(r.A,{sx:{position:"absolute",top:0,right:0,left:"0%",overFlow:"hidden"},children:(0,l.jsx)(pt(),{autoPlay:!0,loop:!1,animationData:mt,style:{width:"100%",height:"150px"}})}),null!=O?O:null==A?void 0:A.label]}),!(0,c.qfk)(p)&&S&&(0,l.jsx)("button",{"aria-haspopup":"true",onClick:()=>g({anchorId:f,pickerType:"option-picker"}),className:ct,style:yt({backgroundColor:M,textTransform:"none",boxShadow:"none",color:"var(--fab-text)",fontSize:12,fontWeight:"600",fontFamily:"'Inter', 'Assistant', sans-serif"},C),disabled:v,children:(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingRight:"5px",paddingLeft:"5px"},children:[(0,l.jsx)("div",{children:null!=O?O:null==A?void 0:A.label}),"\xa0",(0,l.jsx)("div",{style:{border:"2px solid #f2f2f2",borderRadius:"5px",padding:"1px",minWidth:"15px"},children:null!=I&&I.complexity?null==I?void 0:I.complexity:null!==(s=null==h?void 0:h.complexity)&&void 0!==s?s:""})]})})]},f)}const vt=(0,n.memo)(ht);var ft=a(72678),bt=a(21372),kt=a.n(bt);a(83108);const wt="phone_cell__phoneCell___frRkZ",xt="phone_cell__smPhoneIcon___frRkZ",Dt="phone_cell__addIcon___frRkZ",It="phone_cell__clearIcon___frRkZ";var At=a(87435);function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function St(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const Ot="rating_cell__ratingCell___fS5M6",Ct="rating_cell__clearIcon___fS5M6";var Mt=a(45018),Bt=a(33782),_t=a(86803),Pt=a(90663),Rt=a(31141),Et=a(66159),jt=a(42392);function Lt(e){let{taskId:t}=e;const a=(0,u.jL)(),i=(0,u.GV)(e=>(0,B.yl)({state:e,taskId:t})),r=(0,u.GV)(e=>(0,B._C)({state:e,taskId:t})),o=(0,u.GV)(e=>(0,Pt.WA)({state:e,taskId:t})),p=(0,u.GV)(e=>(0,B.w0)(e,t)),m=(0,u.GV)(e=>(0,B.gn)({state:e,taskId:t,field:"colorAccent"})),g=!!(0,u.GV)(e=>(0,c.dgT)(e.DBTasksReducer,t,"parentTaskId")),y=(0,u.GV)(e=>e.TasksReducer.currentDraggedId),v=(0,u.GV)(e=>(0,B.Kn)(e,t)),f=(0,u.GV)(e=>(0,B.S1)(e,t)),b=(0,u.GV)(e=>e.UserReducer.direction),k=(0,u.GV)(e=>e.TasksReducer.isNewTab),w=(0,n.useCallback)(()=>{a(Et.L.toggleTask(t))},[a,t]),x=(0,n.useCallback)(e=>{a((0,Rt.wZ)({shiftKey:e.shiftKey,taskId:t}))},[a,t]),D=(0,n.useCallback)(e=>{a((0,Pt.Lz)({taskId:t}))},[a,t]),I=(0,n.useMemo)(()=>"ltr"===b?!g&&v&&f&&!i?"12px 0 0 12px":g||!v||f&&!i?g||!f||i?"0":"0 0 0 12px":"0":!g&&v&&f&&!i?"0 12px 12px 0":g||!v||f&&!i?g||!f||i?"0":"0 0 12px 0":"0 12px 0 0",[b,v,f,i,g]),A=null!=m?m:"#00c875";return(0,l.jsxs)(l.Fragment,{children:[g&&(0,l.jsx)(h.A,{width:29,alignItems:"center",style:{marginLeft:"5px",marginRight:"1px"},children:(0,l.jsx)(K.fOe,{color:A,size:14})}),(0,l.jsx)("div",{style:{height:"100%",background:y!==t?A:"transparent",borderRadius:g||!f||i?"0":v?"12px 0 0 12px":"0 0 0 12px"},children:k?(0,l.jsx)(h.A,{alignItems:"center",width:g?33:38,height:"100%",className:jt.A.background,onClick:D,sx:{justifyContent:"center",borderRadius:I,position:"relative",background:r?"var(--tasks-picker-selected)":"var(--color-surface)",filter:o?"":"grayscale(1)"},children:(0,l.jsx)(_t.ReactComponent,{})}):(0,l.jsx)(h.A,{width:g?33:38,height:"100%","data-testid":"task-row-checkbox",className:jt.A.background,style:{justifyContent:"center",borderRadius:y!==t?I:0,position:"relative",background:r?"var(--tasks-picker-selected)":"var(--color-surface) !important"},alignItems:"center",onClick:x,children:(0,l.jsx)(d,{checked:r,color:A})})}),!g&&(0,l.jsx)(h.A,{style:{cursor:"pointer",opacity:(i||p>0)&&1},className:jt.A.subtasks_collapse_button,onClick:w,alignItems:"center",children:i?(0,l.jsx)(s.WnU,{size:18}):(0,l.jsx)(s.U7T,{size:18})}),(0,l.jsxs)(h.A,{direction:"row",alignItems:"center",justifyContent:"space-between",flexGrow:1,sx:{overflow:"hidden",cursor:"",paddingInlineStart:0},children:[(0,l.jsxs)("div",{style:{width:"100%",overflow:"hidden"},children:[" ",(0,l.jsx)(Bt.A,{taskId:t})]}),p>0&&(0,l.jsx)("div",{className:jt.A.subTasksBadge,children:p})]})]})}var Nt=a(71158),Ft=a(94193),zt=a(19048);function Ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Vt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ut(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Wt=a(80406),Qt=a(67266),Gt=a(8518),qt=a(35504);function Ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(a),!0).forEach(function(t){(0,g.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ht(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const Xt={width:"100%",padding:"0.5px 5px",fontSize:"15px",border:"1px solid transparent",borderRadius:"4px",fontWeight:"600",background:"white","& .MuiInputBase-input":{padding:"0"}},Yt={cursor:"text",color:"white",padding:"0 5px",fontSize:"15px",border:"1px solid transparent",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"600",maxWidth:"260px",borderRadius:"4px","&:hover":{border:" 1px dashed var(--color-surface);"}};const Zt=110;const Jt="text_cell__textCell___u28SV",$t="text_cell__smTextIcon___u28SV",ea="text_cell__addIcon___u28SV",ta="text_cell__clearIcon___u28SV",aa="text_cell__textIcon___u28SV";var na=a(89034);var ia=a(67935),ra=a(79613),sa=a(14073);var oa=a(44862);var la=a(71543);var da=a(61793),ca=a(59680),ua=a(59749),pa=a(94405);var ma=a(1612);var ga=a(36074),ya=a(38148),ha=a(6889),va=a(37352),fa=a(52460);const ba=[{type:"context-menu",title:"context-menu",private:!0,cellComponent:Mt.A,scrollingCellComponent:Mt.A,headerComponent:et,headerComponentBoardView:et},{type:"row-prefix",title:"row-prefix",private:!0,cellComponent:Lt,headerComponent:function(e){let{groupId:t,columnId:a}=e;const i=(0,u.jL)(),r=(0,u.GV)(e=>(0,B.j)(e,t)),s=(0,u.GV)(e=>(0,c.qMd)(e.DBTaskgroupsReducer,t,"colorAccent")),o=(0,u.GV)(e=>(0,c.qMd)(e.DBTaskgroupsReducer,t,"isCollapsed")),d=(0,u.GV)(e=>(0,c.qMd)(e.DBTaskgroupsReducer,t,"name")),[p,m]=(0,n.useState)(!1),[g,y]=(0,n.useState)(!1),h=(0,u.GV)(e=>e.TasksReducer.forceEditModeToGroupNameByGroupId),v=(0,n.useMemo)(()=>(0,c.qfk)(t),[t]),f=(0,n.useCallback)(()=>{i((0,Rt.pw)({groupId:t}))},[i,t]),b=(0,n.useCallback)(()=>{""!==h&&i(Et.L.setForceEditModeToGroupNameByGroupId(""))},[i,h]),k=(0,n.useCallback)(e=>{b(),e&&i((0,Rt.gV)({groupId:t,groupName:e}))},[b,i,t]),w=(0,n.useCallback)(()=>{y(!0)},[]),x=(0,n.useCallback)(()=>{i(Et.L.setForceEditModeToGroupNameByGroupId(t))},[i,t]),D=(0,n.useCallback)(e=>{m(e),b()},[b]),I=(0,n.useCallback)(e=>{if(!0===e){const e={type:"delete-group-list",data:[t],deletedOrArchived:"deleted"};i((0,Gt.Eo)({action:e}))}y(!1)},[i,t]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Wt.A,{title:"Delete group?",handleClose:I,open:g}),(0,l.jsxs)(Ft.A,{id:"group_color_picker_".concat(t),className:$e.A.group_name_container,sx:{pointerEvents:v?"none":"all"},children:[(0,l.jsxs)("div",{id:"group_header_".concat(t),className:$e.A.group_name_wrapper,style:{background:null!=s?s:Je.Z,marginBottom:0===r?2:0,insetInlineStart:"-6px",flex:p||t===h?"auto":"",borderRadius:(o||0===r)&&"12px"},children:[!p&&""===h&&!v&&!o&&(0,l.jsx)(Qt.A,{columnId:a}),(0,l.jsx)(Nt.A,{"data-testid":"group-name-bteditablebox",forceEditMode:t===h,inputSx:Kt(Kt({},Xt),{},{color:null!=s?s:Je.Z}),boxSx:Yt,text:d,onValueUpdate:e=>k(e),onEditModeChange:e=>D(e)}),!p&&""===h&&(0,l.jsx)("button",{onClick:f,className:$e.A.collapse_button,children:o?(0,l.jsx)(te.dqe,{}):(0,l.jsx)(te.igi,{})})]}),!p&&""===h&&(0,l.jsxs)(T.A,{direction:"row",children:[(0,l.jsx)("button",{onClick:x,className:$e.A.edit_group_name_button,children:(0,l.jsx)(qt.z$h,{})}),(0,l.jsx)("button",{"data-testid":"group-header-delete-button",onClick:w,className:$e.A.delete_group_button,children:(0,l.jsx)(Y.IXo,{})})]}),o&&(0,l.jsx)("div",{style:{marginLeft:10,color:null!=s?s:"var(--tasks-text-secondary)"},children:0===r?"No items":(0,l.jsxs)(l.Fragment,{children:[r," Item",r>1?"s":""]})})]})]})},headerComponentBoardView:function(e){var t;let{boardId:a,mockValue:i}=e;const r=(0,u.jL)(),s=(0,u.GV)(e=>c.IDN.selectById(e,a)),o=(0,u.GV)(e=>e.MyWorkReducer.myWorkPreferences),d=o.collapsedBoards.includes(a)||0===i.tasksCount,[p,m]=(0,n.useState)(d),g=i.tasksCount;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(Ft.A,{id:"group_color_picker_".concat(a),className:$e.A.group_name_container,children:[(0,l.jsxs)("div",{id:"group_header_".concat(a),className:$e.A.group_name_wrapper,style:{background:"white",color:"black",marginBottom:0===g?2:0,borderRadius:0===g&&"12px"},children:[(0,l.jsx)(Nt.A,{"data-testid":"group-name-bteditablebox",inputSx:{width:"100%",padding:"0.5px 5px",color:"var(--color-text)",fontSize:"15px",border:"1px solid transparent",borderRadius:"4px",fontWeight:"600",background:"white","& .MuiInputBase-input":{padding:"0"}},boxSx:{cursor:"text",color:"var(--color-text)",padding:"0 5px",fontSize:"15px",border:"1px solid transparent",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:"600",maxWidth:"260px",borderRadius:"4px",pointerEvents:"none","&:hover":{border:" 1px dashed var(--color-surface);"}},text:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:a}),(0,l.jsx)("button",{onClick:async()=>{const e=!p;let t;m(e),t=e?[...o.collapsedBoards||[],a]:(o.collapsedBoards||[]).filter(e=>e!==a);const n=Vt(Vt({},o),{},{collapsedBoards:t});r(zt.z.setMyWorkPrefernces(n)),await r(c.UXG.patch({entity:{_id:o._id,collapsedBoards:t}}))},className:$e.A.collapse_button,style:{color:"var(--color-text)"},children:p?(0,l.jsx)(te.dqe,{}):(0,l.jsx)(te.igi,{})})]}),p&&(0,l.jsx)("div",{style:{marginLeft:10,color:"var(--tasks-text-secondary)"},children:0===g?"No items":(0,l.jsxs)(l.Fragment,{children:[g," Item",g>1?"s":""]})})]})})},cellValueFunction:e=>null==e?void 0:e.text,scrollingCellComponent:Lt},{type:"chat",title:"Chat",private:!0,width:40,cellComponent:ge.A,scrollingCellComponent:e=>{let{taskId:t}=e;return(0,l.jsx)(r.A,{className:oa.A.convsBtn,children:(0,l.jsx)(K.L3l,{color:"#809ba8",size:18})})},headerComponentBoardView:fe},{type:"row-suffix",title:"row-suffix",private:!0,cellComponent:function(e){let{taskId:t}=e;return(0,u.jL)(),(0,l.jsx)("div",{className:jt.A.actions_wrapper,style:{right:0,width:"100%"}})},headerComponent:function(e){let{groupId:t,openPicker:a}=e;const{t:n}=(0,w.Bd)(k.MF),i=(0,u.GV)(e=>c.NpU.selectById(e,t)),r=((0,u.GV)(e=>(0,ve.zV)(e)),"addColumn_".concat(null==i?void 0:i._id));return(0,l.jsx)("div",{id:r,style:{display:"flex",justifyContent:"center",alignItems:"center",width:Zt,height:"39px"},children:(0,l.jsx)(ne.A,{arrow:!0,placement:"top",title:n("rowSuffixHeader.addColumn"),"data-testid":"add-new-column-row-suffix-button",children:(0,l.jsx)("button",{className:jt.A.add_button,onClick:()=>{a({anchorId:r,pickerType:"add-column-picker"})},children:(0,l.jsx)(s.jgn,{})})})})}},{type:"person-picker",title:"Person",icon:X.UdD,iconAccent:"var(--color-accent)",cellComponent:ft.A,scrollingCellComponent:function(e){let{taskId:t,cellValue:a,columnId:n,mockValue:i,togglePicker:r,boardId:s}=e;return(0,l.jsx)(T.A,{direction:"row",alignItems:"center",children:(0,l.jsx)(ma.NBi,{color:"#809ba8",size:22})})},isCellInForms:!1,headerComponent:je.A,headerComponentBoardView:fe,compareFunction:(e,t,a)=>{var n,i,r,s;let o,l;if(e&&"user"===(null===(n=e[0])||void 0===n?void 0:n.type)){const t=(0,c.Gwv)(a.state.DBBoardUserReducer,{_id:e[0].id});o=(0,Q.J)(t)}else if(e&&"option"===(null===(i=e[0])||void 0===i?void 0:i.type)){o=(0,c.CVY)(a.state.DBTaskColumnOptionReducer,{_id:e[0].id}).label}if(t&&"user"===(null===(r=t[0])||void 0===r?void 0:r.type)){const e=(0,c.Gwv)(a.state.DBBoardUserReducer,{_id:t[0].id});l=(0,Q.J)(e)}else if(t&&"option"===(null===(s=t[0])||void 0===s?void 0:s.type)){l=(0,c.CVY)(a.state.DBTaskColumnOptionReducer,{_id:t[0].id}).label}return void 0===o?"asc"===a.sortOrder?-1:1:void 0===l?"asc"===a.sortOrder?1:-1:"asc"===a.sortOrder?o.localeCompare(l):l.localeCompare(o)},width:100,footerComponent:he.A},{type:"option-picker",title:"Priority",icon:Y.y3G,iconAccent:"#ff642e",cellComponent:vt,formComponentEdit:_,formComponentFill:_,headerComponent:je.A,headerComponentBoardView:fe,compareFunction:(e,t,a)=>{var n,i,r,s;const o=(null!==(n=null==a?void 0:a.columnOptions)&&void 0!==n?n:[]).find(t=>t._id===e),l=(null!==(i=null==a?void 0:a.columnOptions)&&void 0!==i?i:[]).find(e=>e._id===t),d=null!==(r=null==o?void 0:o.order)&&void 0!==r?r:1/0,c=null!==(s=null==l?void 0:l.order)&&void 0!==s?s:1/0;return"asc"===a.sortOrder?d-c:c-d},defaultOptions:[{label:"High",bgcolor:"#e2445c",order:1},{label:"Medium",bgcolor:"#fdab3d",order:2},{label:"Low",bgcolor:"#579bfc",order:3},{label:"",bgcolor:"#c4c4c4f5",order:4,isDefaultLabel:!0}],footerComponent:he.A},{type:"complexity-picker",title:"Complexity",icon:Y.i5c,iconAccent:"#d32626",cellComponent:vt,headerComponent:je.A,compareFunction:(e,t,a)=>{var n,i,r,s;const o=(null!==(n=null==a?void 0:a.columnOptions)&&void 0!==n?n:[]).find(t=>t._id===e),l=(null!==(i=null==a?void 0:a.columnOptions)&&void 0!==i?i:[]).find(e=>e._id===t),d=null!==(r=null==o?void 0:o.order)&&void 0!==r?r:1/0,c=null!==(s=null==l?void 0:l.order)&&void 0!==s?s:1/0;return"asc"===a.sortOrder?d-c:c-d},defaultOptions:[{label:"Easy",bgcolor:"#cddd39",complexity:1,order:1},{label:"Medium",bgcolor:"var(--bulk-warning)",complexity:25,order:2},{label:"Hard",bgcolor:"var(--bulk-error)",complexity:50,order:3},{label:"Difficult",bgcolor:"#464646",complexity:100,order:4}],footerComponent:he.A},{type:"status-option-picker",title:"Status",icon:Y.eHT,iconAccent:"#00c875",cellComponent:vt,formComponentEdit:_,formComponentFill:_,isCellInForms:!0,headerComponent:je.A,headerComponentBoardView:fe,compareFunction:(e,t,a)=>{var n,i,r,s;const o=(null!==(n=null==a?void 0:a.columnOptions)&&void 0!==n?n:[]).find(t=>t._id===e),l=(null!==(i=null==a?void 0:a.columnOptions)&&void 0!==i?i:[]).find(e=>e._id===t),d=null!==(r=null==o?void 0:o.order)&&void 0!==r?r:1/0,c=null!==(s=null==l?void 0:l.order)&&void 0!==s?s:1/0;return"asc"===a.sortOrder?d-c:c-d},defaultOptions:[{label:"Done",bgcolor:"#00c875",order:1},{label:"Working On It",bgcolor:"#fdab3d",order:2},{label:"Stuck",bgcolor:"#e2445c",order:3},{label:"",bgcolor:"#c4c4c4f5",order:4,isDefaultLabel:!0}],footerComponent:he.A},{type:"number",title:"Number",icon:ee.TcZ,iconAccent:"#784bd1",cellComponent:function(e){var t,a,i,r,s;let{cellValue:o,onUpdate:d,columnId:p,readOnly:m,sx:g}=e;const y=(0,n.useRef)(),[h,v]=(0,n.useState)(),[f,b]=(0,n.useState)(!0);function k(e){var t;v(void 0),h&&d(Number(null==h?void 0:h.replaceAll(",",""))),null==e||null===(t=e.target)||void 0===t||t.blur(),b(!0)}const[w]=(0,u.GV)(e=>(0,c.l_$)(e.DBTaskColumnReducer,{_id:p})),D=null!=w&&null!==(t=w.customData)&&void 0!==t&&t.symbol?w.customData.symbol:"",I=null!=w&&null!==(a=w.customData)&&void 0!==a&&a.direction?null===(i=w.customData)||void 0===i?void 0:i.direction:void 0;return(0,l.jsxs)(T.A,{sx:dt({"& span":{color:"#819ba8",textAlign:"center",width:"100%"}},g),direction:"row",alignItems:"center",className:nt,children:[f&&o?(0,l.jsx)(at.HG,{onClick:()=>{m||b(!1)},displayType:"text",allowNegative:!0,decimalSeparator:".",allowLeadingZeros:!0,thousandSeparator:",",readOnly:m,value:null!==(r=h||o)&&void 0!==r?r:"",prefix:!f||"left"!==I&&void 0!==I?"":null!=D?D:"",suffix:f&&"right"===I&&null!=D?D:""}):(0,l.jsx)(at.HG,{value:null!==(s=h||o)&&void 0!==s?s:"",onBlur:k,onChange:function(e){let{target:t}=e;v(t.value?t.value:void 0)},onKeyPress:e=>"Enter"===e.key&&k(e),getInputRef:y,allowNegative:!0,readOnly:m,decimalSeparator:".",allowLeadingZeros:!0,autoFocus:!f,thousandSeparator:","}),(0,l.jsxs)("div",{className:ot,children:[isNaN(o)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(we.ReactComponent,{className:rt}),(0,l.jsx)(ee.TcZ,{className:it})]}),!isNaN(o)&&!m&&(0,l.jsx)(x.z5f,{onClick:function(){v(void 0),d(void 0)},className:st})]})]})},headerComponent:je.A,formComponentEdit:A,formComponentFill:A,isCellInForms:!0,footerComponent:he.A},{type:"datepicker",title:"Date",icon:K.W8Q,iconAccent:"#9cd326",cellComponent:Ce,formComponentEdit:I,formComponentFill:I,isCellInForms:!0,headerComponent:je.A,headerComponentBoardView:fe,compareFunction:(e,t,a)=>"asc"===a.sortOrder?q()(e).diff(t):q()(t).diff(e),width:120},{type:"files",title:"Files",icon:K.T7b,iconAccent:"#579bfc",cellComponent:function(e){let{cellValue:t,taskId:a,columnId:i,readOnly:r,onUpdate:s,togglePicker:o,mockValue:d}=e;const{t:c}=(0,w.Bd)(k.MF),p=(0,n.useRef)(),m=(0,u.jL)(),g="files_".concat(a),[y,h]=(0,n.useState)(!1),[v,f]=(0,n.useState)(null);function b(){1!==t.length&&f(setTimeout(()=>{o({anchorId:g,pickerType:"files"})},300))}const D=()=>{clearTimeout(v)},I=(0,n.useCallback)(e=>{let a=!1,n=[],i=[];for(let r=0;r<e.length;r++){const s=e[r].filename;a=null==t?void 0:t.find(e=>{let{filename:t}=e;return t===s}),a?n=[...n,e[r]]:i=[...i,e[r]]}return{uniqueFilesToUpload:i,filesToDecideNewVersionOrNewFile:n}},[t]),A=(0,n.useCallback)(e=>{const a=t?t.concat(e):e;s(a)},[t,s]),T=(0,n.useCallback)(async e=>{if(e){const t=[...e].map(async e=>new Promise((t,a)=>{const n=new FileReader,i=e.type,r=e.name,s={};n.addEventListener("load",async()=>{const e=n.result,a=await M(e,i);s.url=a,s.type=i,s.filename=r,s.updatedAt=q()().format("DD/MM/YYYY HH:mm:ss"),s.version=1,s.versions=[{url:a,type:i,filename:r,updatedAt:q()().format("DD/MM/YYYY HH:mm:ss"),version:1}],t(s)}),n.onerror=a,n.readAsDataURL(e)}));return await Promise.all(t)}},[]),S=(0,n.useCallback)(e=>{m(Fe.q.setFilesToDecideNewVersionOrNewFile({taskId:a,columnId:i,filesToDecideNewVersionOrNewFile:e}))},[i,m,a]),O=(0,n.useCallback)(async e=>{h(!0);const t=await T(e),{uniqueFilesToUpload:a,filesToDecideNewVersionOrNewFile:n}=I(t);a.length>0&&A(a),n.length>0&&S(n),h(!1),null!=p&&p.current&&(p.current.value="")},[I,T,A,S]),C=(0,n.useCallback)(e=>{O(e)},[O]),M=async(e,t)=>{try{const a=await(0,ze.iN)(e,t);if(a.uploadResponse.url)return a.image_url}catch(e){}};return(0,l.jsxs)("div",{className:He.filesContainer,style:{width:d&&"auto"},onClick:e=>{!function(e){r||(e.stopPropagation(),p.current.files=null,p.current.click())}(e)},id:"files_".concat(a),children:[(0,l.jsx)(qe,{onDrop:C}),t&&!r&&(0,l.jsx)(ne.A,{title:c("filesCell.addFiles"),arrow:!0,placement:"top",disableInteractive:!0,children:(0,l.jsx)(we.ReactComponent,{className:[He.addIcon,He.addWithFiles].join(" ")})}),(0,l.jsxs)("div",{className:He.filesCell,children:[!t&&!y&&!r&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(we.ReactComponent,{className:He.addIcon}),(0,l.jsx)(Xe,{className:He.filesIcon})]}),(0,l.jsx)("input",{onChange:e=>{O(e.target.files)},ref:p,type:"file",multiple:!0,hidden:!0,readOnly:r}),y&&(0,l.jsx)(Ye.A,{style:{color:"var(--tasks-button-hover-bg)"},size:18}),!y&&(null==t?void 0:t.slice(0,3).map((e,n)=>(0,l.jsx)("span",{className:He.fileIcon,onClick:e=>{!function(e,n){e.stopPropagation();const s={};s.index=n,s.shown=!0,s.taskId=a,s.columnId=i,s.isViewOnly=!1,r&&(s.filesTotal=t,s.isViewOnly=!0),m(Fe.q.setSelectedCellFilesAndCurrentindex(s)),m(Ne.S.closePickerDialog())}(e,n)},onMouseEnter:b,onMouseLeave:D,children:(0,l.jsx)(Le.A,{file:e})},n)))]}),(null==t?void 0:t.length)>3&&(0,l.jsxs)("div",{onMouseEnter:b,onMouseLeave:D,className:He.extraFiles,children:["+",t.length-3]}),1===(null==t?void 0:t.length)&&!r&&(0,l.jsx)(x.z5f,{onClick:e=>{!function(e){e.stopPropagation(),s(void 0)}(e)},className:He.clearIcon})]})},headerComponent:je.A,compareFunction:(e,t,a)=>{var n,i;return e=(null===(n=e)||void 0===n?void 0:n.length)||0,t=(null===(i=t)||void 0===i?void 0:i.length)||0,"asc"===a.sortOrder?e-t:t-e}},{type:"checkbox",title:"Checkbox",icon:J.fQs,iconAccent:"#fdab3d",cellComponent:function(e){let{cellValue:t,groupId:a,onUpdate:i,readOnly:s}=e;const[o,p]=(0,n.useState)(!1),m=(0,u.GV)(e=>c.sWy.selectById(e,a));return(0,l.jsx)("div",{className:ye,children:(0,l.jsx)(r.A,{onClick:function(e){p(!o),i(!o)},children:(0,l.jsx)(d,{disabled:s,checked:o||t,color:null==m?void 0:m.colorAccent})})})},formComponentEdit:m,formComponentFill:m,isCellInForms:!0,headerComponent:je.A},{type:"rating",title:"Rating",icon:ee.g5l,iconAccent:"#ffcb00",cellComponent:function(e){var t;let{cellValue:a,onUpdate:i,readOnly:r}=e;const[s,o]=(0,n.useState)();return(0,l.jsxs)("div",{className:Ot,children:[(0,l.jsx)(E.A,{size:"small",value:null!==(t=s||a)&&void 0!==t?t:0,readOnly:r,onChange:e=>{!function(e){o(Number(e.currentTarget.value)),i(Number(e.currentTarget.value))}(e)}}),a&&!r&&(0,l.jsx)(x.z5f,{onClick:function(){o(void 0),i(void 0)},className:Ct})]})},formComponentEdit:j,formComponentFill:j,isCellInForms:!0,headerComponent:je.A,compareFunction:(e,t,a)=>(e=e||0,t=t||0,"asc"===a.sortOrder?e-t:t-e)},{type:"created",title:"Created",icon:s.Wz$,iconAccent:"#401694",cellComponent:function(e){var t,a,n;let{taskId:i}=e;const s=(0,u.GV)(e=>c.ZIw.selectById(e,i)),o=(0,u.GV)(e=>(0,c.Em_)(e.DBBoardUserReducer,{userId:s.createdBy})),d=q()(null==s?void 0:s.createdAt).format("DD/MM/YYYY HH:mm:ss"),p=q()(null==s?void 0:s.createdAt).isSame(new Date,"year")?q()(null==s?void 0:s.createdAt).format("MMM DD HH:mm"):q()(null==s?void 0:s.createdAt).format("MMM DD, YYYY HH:mm");return(0,l.jsx)("div",{className:be.createdCell,style:{alignSelf:"center"},children:(0,l.jsxs)(T.A,{direction:"row",alignItems:"center",spacing:1,children:[o&&(0,l.jsx)(ke.A,{textSize:10,size:24,email:null==o?void 0:o.email,profileImg:null==o||null===(t=o.profile)||void 0===t?void 0:t.profileImg,toolTip:!0,lastName:null==o||null===(a=o.profile)||void 0===a?void 0:a.lastName,firstName:null==o||null===(n=o.profile)||void 0===n?void 0:n.firstName}),(0,l.jsx)(ne.A,{arrow:!0,placement:"top",disableInteractive:!0,title:d,children:(0,l.jsxs)(r.A,{children:[" ",p]})})]})})},isCellInForms:!1,headerComponent:je.A,cellValueFunction:e=>null==e?void 0:e.createdAt,compareFunction:(e,t,a)=>"asc"===a.sortOrder?q()(e).diff(t):q()(t).diff(e)},{type:"last-updated",title:"Last Updated",icon:Z.P9D,iconAccent:"#7e3b8a",cellComponent:function(e){let{taskId:t}=e;const a=(0,u.GV)(e=>c.ZIw.selectById(e,t)),n=q()(null==a?void 0:a.updatedAt).format("DD/MM/YYYY HH:mm:ss"),i=q()(null==a?void 0:a.updatedAt).isSame(new Date,"year")?q()(null==a?void 0:a.updatedAt).format("MMM DD HH:mm"):q()(null==a?void 0:a.updatedAt).format("MMM DD, YYYY HH:mm");return(0,l.jsx)("div",{className:tt.createdCell,style:{alignSelf:"center"},children:(0,l.jsx)(ne.A,{arrow:!0,placement:"top",disableInteractive:!0,title:n,children:(0,l.jsx)("span",{children:i})})})},isCellInForms:!1,headerComponent:je.A,cellValueFunction:e=>null==e?void 0:e.updatedAt,compareFunction:(e,t,a)=>"asc"===a.sortOrder?q()(e).diff(t):q()(t).diff(e)},{type:"drop-down",title:"Dropdown",icon:s.s4V,iconAccent:"#ff158a",cellComponent:function(e){let{taskId:t,columnId:a,boardId:n,mockValue:i,openPicker:s}=e;const o="dropdown_".concat(t,"_").concat(a),{pickedOptions:d}=(0,u.GV)(e=>(0,B.$n)(e,{taskId:t,columnId:a,boardId:n})),p=d.length>0?d:i;return(0,c.qfk)(a)?(0,l.jsx)(ae.A,{variant:"rectangular"}):(0,l.jsx)(T.A,{className:Me,onClick:function(){s({anchorId:o,pickerType:"drop-down"})},id:o,children:(0,l.jsx)(_e.A,{sx:Ee(Ee({},{alignItems:"center",width:"100%",".MuiAvatar-circular":{height:"20px",width:"20px",background:"var(--color-primary)",color:"var(--tasks-board-bg)",fontSize:"10px",marginLeft:"8px",marginBottom:"-2px",border:"none"}}),{},{width:(null==p?void 0:p.length)<3?"100%":"auto"}),max:2,children:p&&p.map((e,t)=>{var a;return(0,l.jsx)(Pe.A,{value:e.label,children:(0,l.jsx)(r.A,{className:Be,children:null!==(a=null==e?void 0:e.label)&&void 0!==a?a:""})},t)})})})},isCellInForms:!1,headerComponent:je.A},{type:"link",title:"Link",icon:H.bss,iconAccent:"#0086c0",cellComponent:function(e){var t;let{cellValue:a,taskId:n,onUpdate:i,columnId:r,readOnly:s,togglePicker:o}=e;const d="link_".concat(n,"_").concat(r);return(0,c.qfk)(r)?(0,l.jsx)(ae.A,{variant:"rectangular"}):(0,l.jsxs)("div",{className:se,onClick:function(){o({anchorId:d,pickerType:"link-menu"})},id:d,children:[(0,l.jsxs)("div",{className:ce,children:[!(null!=a&&a.link)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(re,{className:le}),(0,l.jsx)(me,{className:de})]}),(null==a?void 0:a.link)&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(ne.A,{title:a?a.link:"",arrow:!0,placement:"top",disableInteractive:!0,children:(0,l.jsx)("a",{onClick:e=>e.stopPropagation(),href:a.link,target:"_blank",rel:"noreferrer",children:a.linkText&&a.link?a.linkText:null!==(t=a.link)&&void 0!==t?t:""})})})]}),(null==a?void 0:a.link)&&!s&&(0,l.jsx)(x.z5f,{onClick:e=>function(e){e.stopPropagation(),i(void 0)}(e),className:oe})]})},isCellInForms:!1,headerComponent:je.A,compareFunction:(e,t,a)=>{var n,i,r,s,o,l,d,c;return e=null!==(n=(null===(i=e)||void 0===i?void 0:i.linkText)||(null===(r=e)||void 0===r?void 0:r.link))&&void 0!==n?n:"",t=null!==(s=(null===(o=t)||void 0===o?void 0:o.linkText)||(null===(l=t)||void 0===l?void 0:l.link))&&void 0!==s?s:"","asc"===a.sortOrder?null===(d=e)||void 0===d?void 0:d.localeCompare(t):null===(c=t)||void 0===c?void 0:c.localeCompare(e)}},{type:"text-cell",title:"Text",icon:te.dN,iconAccent:"#264573",cellComponent:function(e){var t;let{cellValue:a,readOnly:i,onUpdate:r}=e;const s=(0,n.useRef)(),[o,d]=(0,n.useState)(),[c,u]=(0,n.useState)(!1),p=null!==(t=null!=o?o:a)&&void 0!==t?t:"",{direction:m}=(0,na.V)(p),g=(0,n.useCallback)(e=>{let{target:t}=e;d(t.value?t.value:void 0)},[]),y=(0,n.useCallback)(()=>{d(void 0),r(void 0)},[r]),h=(0,n.useCallback)(()=>{u(!c)},[c]),v=(0,n.useCallback)(e=>{var t;h(),d(null!=o?o:a),r(null!=o?o:a),null==e||null===(t=e.target)||void 0===t||t.blur()},[h,r,o]),f=(0,n.useCallback)(()=>{var e;null==s||null===(e=s.current)||void 0===e||e.focus()},[]);return(0,l.jsxs)(T.A,{direction:"row",alignItems:"center",className:Jt,children:[(0,l.jsx)(Pe.A,{value:null!=o?o:a,onBlur:e=>v(e),children:(0,l.jsx)("input",{onChange:g,style:{fontFamily:"Inter, Assistant, sans-serif",border:"0",backgroundColor:"transparent",margin:"0 auto",textAlign:"center",fontSize:"14px",color:"#819ba8",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:m},dir:m,type:"text",readOnly:i,onFocus:h,onKeyDown:e=>{var t;return"Enter"===e.key&&(null==e||null===(t=e.target)||void 0===t?void 0:t.blur())},ref:s,value:p})}),(0,l.jsxs)("div",{className:aa,onClick:f,children:[!a&&!c&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(we.ReactComponent,{className:ea}),(0,l.jsx)(te.dN,{className:$t})]}),a&&!i&&(0,l.jsx)(x.z5f,{onClick:y,className:ta})]})]})},scrollingCellComponent:function(e){let{cellValue:t}=e;const{direction:a,textAlign:n}=(0,na.V)(t);return(0,l.jsx)("div",{style:{fontFamily:"Inter, Assistant, sans-serif",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",textAlign:n,fontSize:"14px",color:"#819ba8",padding:"0 10px",direction:a},dir:a,children:t})},headerComponent:je.A,formComponentEdit:L,formComponentFill:L,isCellInForms:!0,compareFunction:(e,t,a)=>{var n,i;return e=e||null,t=t||null,"asc"===a.sortOrder?null===(n=e)||void 0===n?void 0:n.localeCompare(t):null===(i=t)||void 0===i?void 0:i.localeCompare(e)}},{type:"phone-cell",title:"Phone",icon:$.FUK,iconAccent:"#037f4c",cellComponent:function(e){let{cellValue:t,readOnly:a,onUpdate:i,sx:r}=e;const[s,o]=(0,n.useState)(t),[d,c]=(0,n.useState)(!1);function u(e,t){a||(e.stopPropagation(),c(t))}return(0,l.jsxs)(T.A,{sx:St({cursor:"text",height:"35px"},r),direction:"row",alignItems:"center",onClick:e=>u(e,!0),className:wt,children:[t&&!d&&(0,l.jsxs)(T.A,{direction:"row",children:[(0,l.jsx)(kt(),{containerStyle:{width:"0",marginRight:"25px"},value:t.toString(),onChange:o,inputStyle:{border:"none",paddingLeft:"0px",width:"100%",fontSize:"12px",height:"18px",cursor:"pointer",color:"#52bbe8",textDecoration:"underline",background:"transparent",textAlign:"center",display:"none"},disableDropdown:!0,disabled:!0,buttonStyle:{border:"none",background:"transparent",left:"-5px",top:(0,At.B2)()?"-5px":"-2px"}}),(0,l.jsx)("a",{style:{border:"none",width:"fit-content",fontSize:"12px",height:"18px",cursor:"pointer",color:"#52bbe8",textDecoration:"underline",background:"transparent",textAlign:"center"},onClick:e=>u(e,!1),href:"tel:"+t,children:t})]}),d&&(0,l.jsx)(kt(),{value:null!=s?s:"",onBlur:function(e){""===s&&o(t),s!==t&&i(null!=s?s:""),c(!1)},onKeyDown:e=>{var t;return"Enter"===e.key&&(null==e||null===(t=e.target)||void 0===t?void 0:t.blur())},onChange:o,disableDropdown:!0,placeholder:"",prefix:"+",autoFormat:!0,enableAreaCodeStretch:!1,inputProps:{autoFocus:!0,readOnly:a},inputStyle:{padding:"0",border:"none",width:"100%",background:"transparent",fontSize:"12px",height:"18px",color:"#52bbe8",paddingLeft:"0px",textAlign:"center"},buttonStyle:{border:"none",background:"transparent",left:"-5px",visibility:"hidden"}}),!t&&!d&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)(we.ReactComponent,{className:Dt}),(0,l.jsx)($.FUK,{className:xt})]})}),t&&!d&&!a&&(0,l.jsx)("div",{children:(0,l.jsx)(x.z5f,{onClick:function(e){e.stopPropagation(),c(!1),o(void 0),i(void 0)},className:It})})]})},isCellInForms:!1,headerComponent:je.A,compareFunction:(e,t,a)=>{var n,i;return e=e||null,t=t||null,"asc"===a.sortOrder?null===(n=e)||void 0===n?void 0:n.localeCompare(t):null===(i=t)||void 0===i?void 0:i.localeCompare(e)}},{type:"whatsapp-id-cell",title:"Contact",icon:$.FUK,iconAccent:"#037f4c",cellComponent:ga.E,scrollingCellComponent:e=>{let{cellValue:t,taskId:a,columnId:i}=e;const s=(0,u.GV)(e=>(0,ha.Hv)(e,t)),o=(0,n.useMemo)(()=>(0,ha.vA)(t),[t]),d=(0,n.useMemo)(()=>s?(0,ha.iQ)(s):"",[s]),c=(0,n.useMemo)(()=>(null==t?void 0:t.includes)&&(null==t?void 0:t.includes("@g.us")),[t]),{direction:p,textAlign:m}=(0,na.V)(d);return(0,l.jsx)(ya.A,{sx:{px:1,overflow:"hidden"},flex:1,justifyContent:"center",children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(fa.A,{sx:{mr:1},contactId:t,size:24,textSize:12}),d&&(0,l.jsx)(r.A,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",direction:p,textAlign:m},dir:p,children:d}),!d&&!c&&(0,l.jsx)(va.H,{phone:o})]}):(0,l.jsx)(r.A,{sx:{fontStyle:"italic",fontSize:12,width:1,textAlign:"center"},children:"Click to add a contact"})})},isCellInForms:!1,headerComponent:je.A,headerComponentBoardView:fe,compareFunction:(e,t,a)=>{var n,i;return e=e||null,t=t||null,"asc"===a.sortOrder?null===(n=e)||void 0===n?void 0:n.localeCompare(t):null===(i=t)||void 0===i?void 0:i.localeCompare(e)}},{type:"timeline-picker",title:"Timeline",icon:K.W8Q,iconAccent:"#9cd326",cellComponent:ia.A,formComponentEdit:U,formComponentFill:U,isCellInForms:!0,headerComponent:je.A,compareFunction:(e,t,a)=>"asc"===a.sortOrder?q()(e).diff(t):q()(t).diff(e)},{type:"group-cell",title:"Group",private:!0,icon:te.dN,iconAccent:"#264573",cellComponent:function(e){let{groupId:t,taskId:a,boardId:i}=e;const s=(0,u.jL)(),[o,d]=(0,n.useState)(!1),p=(0,u.GV)(e=>(0,c.OBc)(e.DBTaskgroupsReducer,{_id:t})),m="group_".concat(a),g=document.getElementById(m);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(T.A,{id:m,onClick:()=>{s(ca.EX.setMovingTo("group")),d(!0)},direction:"row",alignItems:"center",sx:{flex:1,fontSize:"14px",px:1,cursor:"pointer"},children:[(0,l.jsx)(ua.A,{sx:{fontSize:"14px",color:null==p?void 0:p.colorAccent,marginInlineEnd:"4px"}}),(0,l.jsx)(r.A,{sx:{marginInlineStart:"15px"},children:p.name})]}),(0,l.jsx)(pa.A,{sx:{padding:"0 10px"},id:"basic-menu",anchorEl:g,open:o,onClose:()=>{d(!1)},MenuListProps:{"aria-labelledby":"basic-button"},children:(0,l.jsx)(da.A,{bulkTasksList:[],activeTaskid:a,boardId:i,onMoveComplete:e=>{d(e)}})})]})},headerComponentBoardView:fe},{type:"board-cell",title:"board",private:!0,icon:te.dN,iconAccent:"#264573",cellComponent:function(e){let{cellValue:t,readOnly:a,onUpdate:n,groupId:i,boardId:r}=e;const s=(0,u.GV)(e=>(0,ve.et)(e,r));return(0,l.jsx)(T.A,{sx:{cursor:"pointer"},onClick:function(){const e="".concat(ra.U.APP_ENDPOINT,"/tasks/?boardID=").concat(r);(0,At.r0)(),window.open(e,"_blank")},direction:"row",alignItems:"center",children:(0,l.jsx)(sa.A,{sx:{fontSize:"14px"},children:s})})},headerComponentBoardView:fe},{type:"empty-cell",title:"",private:!0,icon:te.dN,iconAccent:"#264573",cellComponent:function(e){let{cellValue:t,readOnly:a,onUpdate:n,groupId:i,boardId:r}=e;return(0,l.jsx)(T.A,{sx:{cursor:"pointer"},direction:"row",alignItems:"center",children:(0,l.jsx)(ne.A,{arrow:!0,title:"Column not exists on board",placement:"top",disableInteractive:!0,children:(0,l.jsx)(la.A,{sx:{width:"100px",height:"20px",opacity:0}})})})},headerComponentBoardView:fe}],ka=new Map;ba.forEach(e=>{ka.set(e.type,e)})},86032:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>I});var n=a(30038),i=a(38972);(0,n.zD)("addRemoveLabelContactInfo",async(e,t)=>{const a=[...e.label.waContactsIds],n=a.findIndex(t=>t.id===e.labelContactInfo.id);-1!==n?a.splice(n,1):a.push(e.labelContactInfo)});const r=(0,n.Z0)({name:"Labels",initialState:{labelsFilter:{$or:[{deleted:{$exists:!1}},{deleted:!1}]},editableNameByLabelId:"",user:null,isCreateLabelPopupOpen:!1,isManageLabelsPopupOpen:!1,globalLabelList:[{_id:"a1",displayName:"\u05d7\u05e9\u05d5\u05d1"},{_id:"b1",displayName:"\u05de\u05e9\u05e4\u05d7\u05d4"},{_id:"c1",displayName:"\u05e2\u05d1\u05d5\u05d3\u05d4"},{_id:"d1",displayName:"\u05e4\u05e8\u05e1\u05d5\u05dd"},{_id:"e1",displayName:"\u05e9\u05dc\u05d9\u05d7\u05d9\u05dd"}],chatsStateList:[{chatId:"972548275828-1620720320@g.us",labelsIdList:["b1","c1"]},{chatId:"972548275828@c.us",labelsIdList:["d1","e1"]}],chatFilterLabelsIdList:[],manageLabelsSelectedLabelsIdList:[],manageLabelsShowSelected:!1,manageLabelsImportedLabelsSnackbarOpen:!1,manageLabelsColumnList:[]},reducers:{setLabelFilterName(e,t){e.labelsFilter.displayName=t.payload,""===e.labelsFilter.displayName&&delete e.labelsFilter.displayName},setUser:(e,t)=>{e.user=t.payload},createLabelPopupOpen:(e,t)=>{let{payload:a}=t;e.isCreateLabelPopupOpen=!0,e.newLabeldisplayName=a},createLabelPopupClose:e=>{e.isCreateLabelPopupOpen=!1,e.newLabeldisplayName=void 0},manageLabelsOpen:e=>{e.isManageLabelsPopupOpen=!0},manageLabelsClose:e=>{e.isManageLabelsPopupOpen=!1},globalLabelListAddOrRemove:(e,t)=>{var a;let{payload:n}=t;if(void 0===n||void 0===n._id)return;const r=null===(a=e.globalLabelList)||void 0===a?void 0:a.findIndex(e=>e._id===n._id);if(void 0!==r)if(-1===r){var s;null===(s=e.globalLabelList)||void 0===s||s.push(n)}else{var o,l,d;null===(o=e.chatsStateList)||void 0===o||o.forEach(e=>{(0,i._r)(e.labelsIdList,n._id)}),(0,i._r)(e.chatFilterLabelsIdList,n._id),(0,i._r)(e.manageLabelsSelectedLabelsIdList,n._id);const t=null===(l=e.manageLabelsFilteredLabelList)||void 0===l?void 0:l.findIndex(e=>e._id===n._id);var c;if(void 0!==t&&-1!==t)null===(c=e.manageLabelsFilteredLabelList)||void 0===c||c.splice(t,1);null===(d=e.globalLabelList)||void 0===d||d.splice(r,1)}},globalLabelListEdit:(e,t)=>{var a;let{payload:n}=t;if(void 0===e.globalLabelList||void 0===n)return;const r=null===(a=e.globalLabelList)||void 0===a?void 0:a.findIndex(e=>e._id===n._id);void 0!==r&&-1!==r&&(0,i.M4)(n,e.globalLabelList[r])},chatLabelIdListToggleAddRemove:(e,t)=>{var a;let{payload:n}=t;if(void 0===(null==e?void 0:e.chatsStateList))return;const i=null===(a=e.chatsStateList.find((e,t)=>e.chatId===n.chatId))||void 0===a?void 0:a.labelsIdList;if(void 0===i)return;if(void 0===n.labelId)return;const r=i.indexOf(n.labelId);-1===r?i.push(n.labelId):i.splice(r,1)},chatFilterListLabelAddOrRemove:(e,t)=>{var a;let{payload:n}=t;if(void 0===n||void 0===n._id)return;const i=null===(a=e.chatFilterLabelsIdList)||void 0===a?void 0:a.indexOf(n._id);var r,s;void 0!==i&&(-1===i?null===(r=e.chatFilterLabelsIdList)||void 0===r||r.push(n._id):null===(s=e.chatFilterLabelsIdList)||void 0===s||s.splice(i,1))},updateManageLabelsSelectedLabelsIdList:(e,t)=>{let{payload:a}=t;e.manageLabelsSelectedLabelsIdList=a},setManageLabelsFilteredLabelList:(e,t)=>{let{payload:a}=t;e.manageLabelsFilteredLabelList=a},setManageLabelsFilterValue:(e,t)=>{let{payload:a}=t;e.manageLabelsFilterValue=a},setManageLabelsShowSelected:(e,t)=>{let{payload:a}=t;e.manageLabelsShowSelected=a},setManageLabelsImportedLabelsSnackbarOpen:(e,t)=>{let{payload:a}=t;e.manageLabelsImportedLabelsSnackbarOpen=a},setManageLabelsImportedLabelSnackbarMessage:(e,t)=>{let{payload:a}=t;e.manageLabelsImportedLabelSnackbarMessage=a},setManageLabelsColumnList:(e,t)=>{let{payload:a}=t;e.manageLabelsColumnList=a},updateThemeType:(e,t)=>{let{payload:a}=t;e.themeType=a},setEditableNameByLabelId(e,t){e.editableNameByLabelId=t.payload}}}),{setLabelFilterName:s,setUser:o,createLabelPopupOpen:l,createLabelPopupClose:d,globalLabelListAddOrRemove:c,globalLabelListEdit:u,manageLabelsOpen:p,manageLabelsClose:m,chatLabelIdListToggleAddRemove:g,chatFilterListLabelAddOrRemove:y,updateManageLabelsSelectedLabelsIdList:h,setManageLabelsFilteredLabelList:v,setManageLabelsFilterValue:f,setManageLabelsShowSelected:b,setManageLabelsImportedLabelsSnackbarOpen:k,setManageLabelsImportedLabelSnackbarMessage:w,setManageLabelsColumnList:x,updateThemeType:D}=r.actions,I=r.reducer;r.actions},86149:(e,t,a)=>{"use strict";a.d(t,{Du:()=>L});var n=a(64467),i=function(e){return e.SELECT="select",e.TEXT="text",e.PERSON="person",e}(i||{});const r=[{filterType:"status-option-picker",displayName:"Status",valueInputType:i.SELECT,operatorsList:{is:{value:"==="},"is not":{value:"!=="},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0}}},{filterType:"group",displayName:"Group",valueInputType:i.SELECT,operatorsList:{is:{value:"==="},"is not":{value:"!=="}}},{filterType:"number",displayName:"Number",valueInputType:i.TEXT,operatorsList:{"=":{value:"==="},"\u2260":{value:"!=="},">=":{value:">="},">":{value:">"},"<=":{value:"<="},"<":{value:"<"},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0}}},{filterType:"person-picker",displayName:"Person",valueInputType:i.PERSON,operatorsList:{is:{value:"==="},"is not":{value:"!=="},"is empty":{value:"is empty",isHideValueField:!0}}},{filterType:"phone-cell",displayName:"Phone",valueInputType:i.TEXT,operatorsList:{is:{value:"==="},"is not":{value:"!=="},contains:{value:"includes"},"does not contain":{value:"!includes"}}},{filterType:"option-picker",displayName:"Option Picker",valueInputType:i.SELECT,operatorsList:{is:{value:"==="},"is not":{value:"!=="},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0}}},{filterType:"complexity-picker",displayName:"Complexity Picker",valueInputType:i.SELECT,operatorsList:{is:{value:"==="},"is not":{value:"!=="},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0}}},{filterType:"timeline-picker",displayName:"Timeline Picker",valueInputType:i.SELECT,operatorsList:{is:{value:"==="},"is not":{value:"is not"},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0},"ends between":{value:"ends between",isSpecialBetweenDatesFilter:!0},"ends on":{value:"ends on",isSpecialTimelineFilter:!0},"ends after":{value:"ends after",isSpecialTimelineFilter:!0},"ends before":{value:"ends before",isSpecialTimelineFilter:!0},"end on or before":{value:"end on or before",isSpecialTimelineFilter:!0},"ends on or after":{value:"ends on or after",isSpecialTimelineFilter:!0},"start between":{value:"start between",isSpecialBetweenDatesFilter:!0},"start on":{value:"start on",isSpecialTimelineFilter:!0},"start after":{value:"start after",isSpecialTimelineFilter:!0},"start before":{value:"start before",isSpecialTimelineFilter:!0},"start on or before":{value:"start on or before",isSpecialTimelineFilter:!0},"start on or after":{value:"start on or after",isSpecialTimelineFilter:!0}},valuesList:[{Today:"Today"},{Tomorrow:"Tomorrow"},{Yesterday:"Yesterday"},{"This week":"This week"},{"Last week":"Last week"},{"Next week":"Next week"},{"This month":"This month"},{"Last month":"Last month"},{"Next month":"Next month"},{Past:"Past"},{Future:"Future"},{Blank:"Blank"}]},{filterType:"datepicker",displayName:"Date Picker",valueInputType:i.SELECT,operatorsList:{is:{value:"is"},"is not":{value:"is not"},"in the next":{value:"in the next",isSpecialDateFilter:!0},"in the last":{value:"in the last",isSpecialDateFilter:!0},"is between":{value:"is between",isSpecialBetweenDatesFilter:!0,isSpecialDateFilter:!0},"is on or after":{value:"is on or after",isSpecialDateSelectFilter:!0},"is after":{value:"is after",isSpecialDateSelectFilter:!0},"is on or before":{value:"is on or before",isSpecialDateSelectFilter:!0},"is before":{value:"is before",isSpecialDateSelectFilter:!0},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0},"is only":{value:"is only",isSpecialDateSelectFilter:!0},"is anything but":{value:"is anything but",isSpecialDateSelectFilter:!0}},valuesList:[{Today:"Today"},{Tomorrow:"Tomorrow"},{Yesterday:"Yesterday"},{"This week":"This week"},{"Last week":"Last week"},{"Next week":"Next week"},{"This month":"This month"},{"Last month":"Last month"},{"Next month":"Next month"},{Past:"Past"},{Future:"Future"},{Blank:"Blank"}]},{filterType:"last-updated",displayName:"Last Updated",valueInputType:i.SELECT,operatorsList:{is:{value:"is"},"is not":{value:"is not"},"in the next":{value:"in the next",isSpecialDateFilter:!0},"in the last":{value:"in the last",isSpecialDateFilter:!0},"is between":{value:"is between",isSpecialBetweenDatesFilter:!0},"is on or after":{value:"is on or after",isSpecialDateSelectFilter:!0},"is after":{value:"is after",isSpecialDateSelectFilter:!0},"is on or before":{value:"is on or before",isSpecialDateSelectFilter:!0},"is before":{value:"is before",isSpecialDateSelectFilter:!0},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0},"is only":{value:"is only",isSpecialDateSelectFilter:!0},"is anything but":{value:"is anything but",isSpecialDateSelectFilter:!0}},valuesList:[{Today:"Today"},{Yesterday:"Yesterday"},{"This week":"This week"},{"Last week":"Last week"},{"This month":"This month"},{"Last month":"Last month"},{Past:"Past"},{Blank:"Blank"}]},{filterType:"created",displayName:"Created",valueInputType:i.SELECT,operatorsList:{is:{value:"is"},"is not":{value:"is not"},"in the next":{value:"in the next",isSpecialDateFilter:!0},"in the last":{value:"in the last",isSpecialDateFilter:!0},"is between":{value:"is between",isSpecialBetweenDatesFilter:!0},"is on or after":{value:"is on or after",isSpecialDateSelectFilter:!0},"is after":{value:"is after",isSpecialDateSelectFilter:!0},"is on or before":{value:"is on or before",isSpecialDateSelectFilter:!0},"is before":{value:"is before",isSpecialDateSelectFilter:!0},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0},"is only":{value:"is only",isSpecialDateSelectFilter:!0},"is anything but":{value:"is anything but",isSpecialDateSelectFilter:!0}},valuesList:[{Today:"Today"},{Yesterday:"Yesterday"},{"This week":"This week"},{"Last week":"Last week"},{"This month":"This month"},{"Last month":"Last month"},{Past:"Past"},{Blank:"Blank"}]},{filterType:"rating",displayName:"Rating",valueInputType:i.SELECT,operatorsList:{is:{value:"==="},"is not":{value:"!=="}}},{filterType:"checkbox",displayName:"Checkbox",isHideValueField:!0,operatorsList:{"is checked":{value:"is checked",isHideValueField:!0},"is not checked":{value:"is not checked",isHideValueField:!0}}},{filterType:"drop-down",displayName:"Drop-down",valueInputType:i.TEXT,operatorsList:{is:{value:"===",isMultiselectForTextField:!0},"is not":{value:"!==",isMultiselectForTextField:!0},contains:{value:"includes"},"does not contain":{value:"!includes"}}},{filterType:"link",displayName:"Link",valueInputType:i.TEXT,operatorsList:{is:{value:"===",isMultiselectForTextField:!0},"is not":{value:"!==",isMultiselectForTextField:!0},contains:{value:"includes"},"does not contain":{value:"!includes"}}},{filterType:"text-cell",displayName:"Text Cell",valueInputType:i.TEXT,operatorsList:{is:{value:"===",isMultiselectForTextField:!0},"is not":{value:"!==",isMultiselectForTextField:!0},contains:{value:"includes"},"does not contain":{value:"!includes"},"is empty":{value:"is empty",isHideValueField:!0},"is not empty":{value:"is not empty",isHideValueField:!0}}}];var s=a(1081),o=a(30038),l=a(95093),d=a.n(l),c=a(97424),u=a(36596),p=a(42636);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function y(e,t,a){const n="rating"===a,i="drop-down"===a,r="complexity-picker"===a,s=Array.isArray(t),o="is empty"===e||"is not empty"===e||"is checked"===e||"is not checked"===e;if((0===t.length||""===t)&&!o)return!0;if("includes"===e)return!1;if("!includes"===e)return!0;switch(e){case"is empty":case"is not checked":return!0;case"is not empty":return!1;case"is not":case"!==":return s?!(t.some(e=>"Blank"===e.label)||t.includes("Blank")||n&&t.includes(0)||r&&t.some(e=>"undefined"===(null==e?void 0:e.id))||i&&t.some(e=>"undefined"===e.id)):void 0;case"is":case"===":if(s&&"number"!=typeof t&&t)return 0===(null==t?void 0:t.length)||t.includes("Blank")||t.some(e=>"Blank"===e.label)||n&&t.includes(0)||r&&t.some(e=>"undefined"===e.id)||i&&t.some(e=>"undefined"===e.id)}}d().defineLocale("custom-en",{parentLocale:"en",week:{dow:0}});const h=(e,t,a)=>{switch(a){case"link":if(e){let a=!!e.link&&e.link.includes(t),n=!!e.linkText&&e.linkText.includes(t);return a||n}break;case"drop-down":return e.some(e=>{var a;return void 0!==(null==e?void 0:e.label)&&(null==e||null===(a=e.label)||void 0===a?void 0:a.includes(t))});case"text-cell":return e.includes(t)}};function v(e,t,a,n,i){const r=Array.isArray(a),s="datepicker"===i||"created"===i||"last-updated"===i||"timeline-picker"===i,o="rating"===i,l="drop-down"===i,d="link"===i,c="text-cell"===i,u="is empty"===e||"is not empty"===e||"is checked"===e||"is not checked"===e;if((0===a.length||""===a)&&!u)return!0;if("is empty"===e&&(0===(null==t?void 0:t.length)||t===n))return!0;if(Array.isArray(a)&&0===(null==a?void 0:a.length))return!0;if(r&&!s)switch(e){case"===":case"is":return a.find(e=>(null==e?void 0:e.id)===t||o&&e===t||l&&a.some(e=>t.some(t=>t.label.includes(e)))&&"undefined"!==(null==e?void 0:e.id)||c&&a.includes(t)||d&&(a.includes(null==t?void 0:t.linkText)||a.includes(null==t?void 0:t.link)));case"is not":case"!==":return!a.find(e=>!!((null==e?void 0:e.id)===t||o&&e===t||l&&a.some(e=>t.some(t=>t.label.includes(e)||t.label.includes(e)))||c&&a.includes(t)||d&&(a.includes(null==t?void 0:t.linkText)||a.includes(null==t?void 0:t.link))));default:return!1}else if(s)switch(e){case"is":return t.filter(e=>a.includes(e)).length>0;case"is not":return Array.isArray(a)?!a.some(e=>t.includes(e)):void 0;default:return!1}if(Array.isArray(t)&&Array.isArray(a))switch(e){case"===":return t.some(e=>a.some(t=>t.id===e._id));case"!==":return!t.some(e=>a.some(t=>t.id===e._id))}else switch(e){case"===":case"is":return t==a;case"is not":case"!==":return t!=a;case">=":return t>=a;case">":return t>a;case"<=":return t<=a;case"<":return t<a;case"undefined":return void 0===t;case"!== undefined":return void 0!==t;case"true":case"is checked":return!0===t;case"false":case"is not checked":return!1===t;case"includes":return h(t,a,i);case"!includes":return!h(t,a,i);default:return!1}}function f(e,t,a){var n,i,r,s,o,l,d,c,u,p,m,g;const y=new Date;let h,v;const f=!0;switch(v=x(t),e){case"in the next":return h=w(t,!1),new Date(a)>=y&&new Date(a)<=new Date(h);case"in the last":return h=w(t,f),new Date(a)<y&&new Date(a)>new Date(h);case"is on or after":return(null===(n=v)||void 0===n?void 0:n.startDate)<=new Date(a).getTime();case"is after":return(null===(i=v)||void 0===i?void 0:i.endDate)<new Date(a).getTime();case"is on or before":return(null===(r=v)||void 0===r?void 0:r.endDate)>=new Date(a).getTime();case"is before":return(null===(s=v)||void 0===s?void 0:s.startDate)>new Date(a).getTime();case"is only":return(null===(o=v)||void 0===o?void 0:o.startDate)==new Date(a).getTime()||(null===(l=v)||void 0===l?void 0:l.endDate)==new Date(a).getTime()||(null===(d=v)||void 0===d?void 0:d.startDate)<=new Date(a).getTime()&&(null===(c=v)||void 0===c?void 0:c.endDate)>=new Date(a).getTime();case"is anything but":return!((null===(u=v)||void 0===u?void 0:u.startDate)==new Date(a).getTime()||(null===(p=v)||void 0===p?void 0:p.endDate)==new Date(a).getTime()||(null===(m=v)||void 0===m?void 0:m.startDate)<=new Date(a).getTime()&&(null===(g=v)||void 0===g?void 0:g.endDate)>=new Date(a).getTime());case"is between":if(Array.isArray(t))return;{const e=Number(t.split("isbetween")[0]),n=Number(t.split("isbetween")[1]);return new Date(n)>new Date(a)&&new Date(e)<=new Date(a)}}}function b(e,t,a){d().updateLocale("en",{week:{dow:0,doy:6}});let n=x(t);const i=function(e,t){d().updateLocale("en",{week:{dow:0,doy:6}});const a=d().utc().startOf("day"),n=d().utc(null==t?void 0:t.startDate).valueOf(),i=d().utc(null==t?void 0:t.endDate).valueOf();for(const r of e)switch(r){case"Past Dates":if(i<=a.clone().subtract(1,"day").startOf("day").valueOf())return!0;break;case"Future Dates":if(n>a.endOf("day").valueOf())return!0;break;case"Current":if(n<=a.endOf("day").valueOf()&&i>=a.valueOf()-1)return!0;break;case"Due Today":if(void 0!==t&&d()(i).format("YYYY-MM-DD")===a.format("YYYY-MM-DD"))return!0;break;case"Blank":if(void 0===t)return!0}return!1}(t,a);if(0===t.length)return!0;if("object"==typeof n)switch(e){case"===":return i;case"!==":case"is not":return!i;case"ends between":if(!Array.isArray(t)){const e=Number(t.split("isbetween")[0]),n=Number(t.split("isbetween")[1]);return new Date(n)>new Date(null==a?void 0:a.endDate)&&new Date(e)<=new Date(null==a?void 0:a.endDate)}break;case"ends on":return(null==n?void 0:n.startDate)<=new Date(null==a?void 0:a.endDate).getTime()&&(null==n?void 0:n.endDate)>=new Date(null==a?void 0:a.endDate).getTime();case"ends after":return(null==n?void 0:n.endDate)<new Date(null==a?void 0:a.endDate).getTime();case"ends before":return(null==n?void 0:n.startDate)>new Date(null==a?void 0:a.endDate).getTime();case"end on or before":return(null==n?void 0:n.endDate)>=new Date(null==a?void 0:a.endDate).getTime();case"ends on or after":return(null==n?void 0:n.startDate)<=new Date(null==a?void 0:a.endDate).getTime();case"start between":if(!Array.isArray(t)){const e=Number(t.split("isbetween")[0]),n=Number(t.split("isbetween")[1]);return new Date(n)>new Date(null==a?void 0:a.startDate)&&new Date(e)<=new Date(null==a?void 0:a.startDate)}break;case"start on":return(null==n?void 0:n.startDate)<=new Date(null==a?void 0:a.startDate).getTime()&&(null==n?void 0:n.endDate)>=new Date(null==a?void 0:a.startDate).getTime();case"start after":return(null==n?void 0:n.endDate)<new Date(null==a?void 0:a.startDate).getTime();case"start before":return(null==n?void 0:n.startDate)>new Date(null==a?void 0:a.startDate).getTime();case"start on or before":return(null==n?void 0:n.endDate)>=new Date(null==a?void 0:a.startDate).getTime();case"start on or after":return(null==n?void 0:n.startDate)<=new Date(null==a?void 0:a.startDate).getTime()}}function k(e,t,a){if(0===a.length)return!0;if(a)switch(e){case"===":return a.some(e=>e.id===t);case"!==":return!a.some(e=>e.id===t)}}function w(e,t){const[a,n]="string"==typeof e?e.split("-"):"",i=d()().utc();let r;if(t)switch(n){case"days":r=i.subtract(a,n).startOf("day");break;case"weeks":r=i.subtract(a,n).startOf("week");break;case"months":r=i.subtract(a,n).startOf("month")}else switch(n){case"days":r=i.add(a,n).startOf("day");break;case"weeks":r=i.add(a,n).startOf("week");break;case"months":r=i.add(a,n).startOf("month")}return r}function x(e){d().updateLocale("en",{week:{dow:0,doy:6}});const t=d().utc().startOf("day"),a=d()();if(!Array.isArray(e)&&e.startsWith("exactDate")){const t=e.replace("exactDate",""),a=d()(t);return{startDate:a.clone().startOf("day").valueOf(),endDate:a.clone().endOf("day").valueOf()}}switch(e){case"Today":return{startDate:a.startOf("day").valueOf(),endDate:a.endOf("day").valueOf()};case"Tomorrow":const e=a.clone().add(1,"day").startOf("day"),n=a.clone().add(1,"day").endOf("day");return{startDate:e.valueOf(),endDate:n.valueOf()};case"Yesterday":const i=a.clone().subtract(1,"day").startOf("day"),r=a.clone().subtract(1,"day").endOf("day");return{startDate:i.valueOf(),endDate:r.valueOf()};case"This week":return{startDate:t.clone().startOf("week").valueOf(),endDate:t.clone().endOf("week").valueOf()};case"Last week":return{startDate:t.clone().subtract(1,"week").startOf("week").valueOf(),endDate:t.clone().subtract(1,"week").endOf("week").valueOf()};case"Next week":return{startDate:t.clone().add(1,"week").startOf("week").valueOf(),endDate:t.clone().add(1,"week").endOf("week").valueOf()};case"This month":return{startDate:t.clone().startOf("month").valueOf(),endDate:t.clone().endOf("month").valueOf()};case"Last month":return{startDate:t.clone().subtract(1,"month").startOf("month").valueOf(),endDate:t.clone().subtract(1,"month").endOf("month").valueOf()};case"Next month":return{startDate:t.clone().add(1,"month").startOf("month").valueOf(),endDate:t.clone().add(1,"month").endOf("month").valueOf()};case"Past Dates":return{startDate:d()("1900-01-01").valueOf(),endDate:t.clone().subtract(1,"day").valueOf()};case"Future Dates":return{startDate:t.clone().add(1,"day").valueOf(),endDate:d()("9999-12-31").valueOf()};default:return null}}const D=(e,t,a)=>{let n;switch(t){case"person-picker":var i;if(e.customData)n=null===(i=e.customData[a])||void 0===i||null===(i=i.value[0])||void 0===i?void 0:i.id;else n=void 0;break;case"group":default:break;case"status-option-picker":case"rating":case"option-picker":case"complexity-picker":case"number":var r;if(e.customData)n=null===(r=e.customData[a])||void 0===r?void 0:r.value;else n=void 0;break;case"last-updated":if(e){const t=e.updatedAt;n=I(t)}else n=void 0;break;case"created":if(e){const t=e.createdAt;n=I(t)}else n=void 0;break;case"datepicker":if(e.customData){var s;const t=null===(s=e.customData[a])||void 0===s?void 0:s.value;n=I(t)}else n=void 0;break;case"link":var o,l;if(e.customData)n={linkText:null===(o=e.customData[a])||void 0===o||null===(o=o.value)||void 0===o?void 0:o.linkText,link:null===(l=e.customData[a])||void 0===l||null===(l=l.value)||void 0===l?void 0:l.link};else n=void 0;break;case"phone-cell":case"text-cell":var d;if(e.customData)n=null===(d=e.customData[a])||void 0===d?void 0:d.value;else n=void 0;break;case"checkbox":var c;if(e.customData)n=null===(c=e.customData[a])||void 0===c?void 0:c.value;else n=void 0;break;case"drop-down":var u;if(e.customData)n=null===(u=e.customData[a])||void 0===u?void 0:u.value;else n=void 0;break;case"timeline-picker":if(e.customData){var p;const t=null===(p=e.customData[a])||void 0===p?void 0:p.value;n=A(null==t?void 0:t.startDate,null==t?void 0:t.endDate)}else n=void 0}return n},I=e=>{d().updateLocale("en",{week:{dow:0,doy:6}});const t=d()().utc(),a=d().utc(e),n=t.clone().startOf("week"),i=t.clone().endOf("week"),r=t.clone().startOf("week").add(1,"weeks").startOf("day"),s=r.clone().add(6,"days").startOf("day"),o=t.clone().startOf("week").subtract(7,"days"),l=o.clone().add(6,"days"),c=[];if(e){if(a.isSame(t,"day")&&c.push("Today"),a.isSame(t.clone().add(1,"days"),"day")&&c.push("Tomorrow"),a.isSame(t.clone().subtract(1,"days"),"day")&&c.push("Yesterday"),a.isBetween(n,i,null,"[]")&&c.push("This week"),a.isBetween(r,s,null,"[]")&&c.push("Next week"),a.isBetween(o,l,null,"[]")&&c.push("Last week"),t.year()===a.year()&&t.month()===a.month()&&c.push("This month"),a.isAfter(t,"day")&&c.push("Future Dates"),a.isBefore(t,"day")&&c.push("Past Dates"),t.year()<a.year()||t.year()===a.year()&&t.month()<a.month()){1===a.month()-t.month()+12*(a.year()-t.year())&&c.push("Next month")}if(t.year()>a.year()||t.year()===a.year()&&t.month()>a.month()){1===t.month()-a.month()+12*(t.year()-a.year())&&c.push("Last month")}return 0===c.length&&c.push("Other"),c}},A=(e,t)=>{const a=d()().utc(),n=d().utc(e).valueOf(),i=d().utc(t).valueOf(),r=void 0!==e&&void 0!==t,s=[],o=d()(t).format("YYYY-MM-DD")===a.format("YYYY-MM-DD")&&d().utc(e)<a;return r?(o?s.push("Due Today"):n<=a.endOf("day").valueOf()&&i>=a.valueOf()-1?s.push("Current"):i<=a.clone().subtract(1,"day").startOf("day").valueOf()?s.push("Past Dates"):n>a.endOf("day").valueOf()&&s.push("Future Dates"),s):(s.push("Blank"),s)},T=(0,s.Mz)([e=>e,e=>[]],e=>{var t;const a=(0,c.xd)(e),n=e.TasksReducer.currentBoardView,i=null!==(t=null==n?void 0:n._id)&&void 0!==t?t:a,r=(0,u.Y6C)(e.DBViewFiltersReducer,{viewId:i,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{updatedAt:1});return[{columnId:"groupColumn",columnTitle:"Groups",colmunFilterOptionsWithUsageList:(0,u.$0K)(e.DBTaskgroupsReducer,{boardId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]}).map(t=>{var a;const n=r.find(e=>Array.isArray(null==e?void 0:e.filterValue)&&e.filterValue.some(a=>a.id===t._id&&"is"===e.filterOperator));return{id:null==t?void 0:t._id,name:t.name,bgColor:t.colorAccent,count:(0,p.j)(e,null==t?void 0:t._id),viewFilterId:null!==(a=null==n?void 0:n._id)&&void 0!==a&&a}})}]});const S=(0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=function(e){const t=e.reduce((e,t)=>(e[t.id]?e[t.id].count+=1:e[t.id]=g(g({},t),{},{count:1}),e),{});return Object.values(t)}(C(e,null==t?void 0:t._id));return{columnId:t._id,columnTitle:t.title,colmunFilterOptionsWithUsageList:a}}),O=(0,s.Mz)([e=>e],e=>(0,u.$0K)(e.DBTaskgroupsReducer,{boardId:(0,c.xd)(e),$or:[{deleted:{$exists:!1}},{deleted:!1}]})),C=((0,s.Mz)([e=>e],e=>{var t;const a=(0,c.xd)(e),n=e.TasksReducer.currentBoardView,i=null!==(t=null==n?void 0:n._id)&&void 0!==t?t:a;return(0,u.Y6C)(e.DBViewFiltersReducer,{viewId:i,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{updatedAt:1}).length}),(0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{let a={};const n=[],i=(0,c.xd)(e),r=(0,p.nX)(e),s=(0,c._r)(e),o=r.find(e=>e._id===t),l=null==o?void 0:o.type,d=(0,p.P_)(e),m=O(e),g=d.filter(e=>m.some(t=>t._id===e.groupId)),y=(0,u.u7r)(e.DBTaskColumnOptionReducer,{boardId:i,columnId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]}).find(e=>e.isDefaultLabel);switch(l){case"person-picker":g.forEach(i=>{var r;const{customData:o}=i,l=null==o||null===(r=o[t])||void 0===r?void 0:r.value;if(l){(Array.isArray(l)?l:[l]).forEach(a=>{const i=s.find(e=>(null==e?void 0:e._id)===(null==a?void 0:a.id));if(i){var r,o;const a={id:i._id,name:null!==(r=i.profile)&&void 0!==r&&r.firstName?"".concat(i.profile.firstName," ").concat((null===(o=i.profile)||void 0===o?void 0:o.lastName)||""):i.email,isPerson:!0,viewFilterId:M(e,i._id,t)};n.push(a)}})}else a={id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0},n.push(a)});break;case"option-picker":case"status-option-picker":case"complexity-picker":g.forEach(i=>{var r;const{customData:s}=i,o=null==s||null===(r=s[t])||void 0===r?void 0:r.value;o?(a=B(e,o,t),a.viewFilterId=M(e,a.id,t),n.push(a)):(a={id:null==y?void 0:y._id,bgColor:null==y?void 0:y.bgcolor,viewFilterId:M(e,null==y?void 0:y._id,t),isBlank:!0},n.push(a))});break;case"timeline-picker":g.forEach(a=>{var i;const{customData:r}=a,s=null==r||null===(i=r[t])||void 0===i?void 0:i.value;if(s){A(null==s?void 0:s.startDate,null==s?void 0:s.endDate).forEach(a=>{n.push({id:a,name:a,dateColumnId:t,viewFilterId:M(e,a,t)})})}else n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"datepicker":g.forEach(a=>{var i;const{customData:r}=a,s=null==r||null===(i=r[t])||void 0===i?void 0:i.value;if(s){I(s).forEach(a=>{n.push({name:a,id:a,dateColumnId:t,viewFilterId:M(e,a,t)})})}else n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"number":g.forEach(a=>{var i;const{customData:r}=a,s=null==r||null===(i=r[t])||void 0===i?void 0:i.value;s?n.push({name:s,id:s,viewFilterId:M(e,s,t)}):n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"rating":g.forEach(a=>{var i;const{customData:r}=a,s=null==r||null===(i=r[t])||void 0===i?void 0:i.value;if(s){const a=0===(o=s)||isNaN(o)?"0":o.toString();n.push({name:a,id:a,viewFilterId:M(e,a,t)})}else n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0});var o});break;case"phone-cell":g.forEach(a=>{var i;const{customData:r}=a,s=null==r||null===(i=r[t])||void 0===i?void 0:i.value;s?n.push({id:s,name:s,viewFilterId:M(e,s,t)}):n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"checkbox":g.forEach(a=>{var i;const{customData:r}=a;(null==r||null===(i=r[t])||void 0===i?void 0:i.value)?n.push({id:"Checked",name:"Checked",viewFilterId:M(e,"Checked",t)}):n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"drop-down":g.forEach(a=>{var i;const{customData:r}=a,s=null==r||null===(i=r[t])||void 0===i?void 0:i.value;s?s.forEach(a=>{n.push({id:null==a?void 0:a._id,name:null==a?void 0:a.label,viewFilterId:M(e,null==a?void 0:a.label,t)})}):n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"link":g.forEach(a=>{var i;const{customData:r}=a,s=null==r||null===(i=r[t])||void 0===i?void 0:i.value;s?n.push({id:null==s?void 0:s.link,name:null!=s&&s.linkText?null==s?void 0:s.linkText:null==s?void 0:s.link,viewFilterId:M(e,(null==s?void 0:s.linkText)||(null==s?void 0:s.link),t)}):n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"created":g.forEach(a=>{const i=null==a?void 0:a.createdAt;if(i){I(i).map(a=>{n.push({name:a,id:a,dateColumnId:t,viewFilterId:M(e,a,t)})})}else n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"last-updated":g.forEach(a=>{const i=null==a?void 0:a.updatedAt;if(i){I(i).map(a=>{n.push({id:a,name:a,dateColumnId:t,viewFilterId:M(e,a,t)})})}else n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})});break;case"text-cell":g.forEach(a=>{var i;const{customData:r}=a,s=null==r||null===(i=r[t])||void 0===i?void 0:i.value;s?n.push({name:s,id:s,viewFilterId:M(e,s,t)}):n.push({id:"".concat(t,"-blank"),viewFilterId:M(e,"".concat(t,"-blank"),t),isBlank:!0})})}return n})),M=(0,s.Mz)([e=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{var n;const i=e.TasksReducer.currentBoardView,r=(0,c.xd)(e),[s]=(0,u.bTq)(e.DBBoardViewReducer,{boardId:r,_id:i._id}),o=(0,p.nX)(e),l=null!==(n=null==s?void 0:s._id)&&void 0!==n?n:r,d=(0,u.Y6C)(e.DBViewFiltersReducer,{viewId:l,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{updatedAt:1}).find(n=>{const i=o.find(e=>n.filterColumnId===(null==e?void 0:e._id)),s=(0,u.u7r)(e.DBTaskColumnOptionReducer,{boardId:r,columnId:null==i?void 0:i._id,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),l=null==i?void 0:i.type;if(n.filterColumnId===a)switch(l){case"person-picker":if(Array.isArray(n.filterValue)){const e=n.filterValue.find(e=>e.id===t);if(e)return e;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"option-picker":case"status-option-picker":if(Array.isArray(s)){const e=s.find(e=>e._id===t),a=s.find(e=>e.isDefaultLabel);if(n.filterValue.find(t=>t.id===(null==e?void 0:e._id)))return n;if(null!=n&&n.filterValue.includes("Blank")&&(null==a?void 0:a._id)===t)return n}break;case"complexity-picker":if(Array.isArray(s)){const e=s.find(e=>e._id===t);if(n.filterValue.find(t=>t.id===(null==e?void 0:e._id)))return n;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"timeline-picker":if(Array.isArray(n.filterValue)){const e=n.filterValue.find(e=>e===t);if(e)return e;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"datepicker":if(Array.isArray(n.filterValue)){if(n.filterValue.find(e=>e===t))return n;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"number":if(n.filterValue===t)return n;if("string"==typeof t&&"is empty"===n.filterOperator&&t.includes("blank"))return n;break;case"rating":if(Array.isArray(n.filterValue)){if(n.filterValue.find(e=>e===parseInt(t)))return n;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"phone-cell":if(Array.isArray(n.filterValue)){if(n.filterValue.find(e=>e===t))return n;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"checkbox":if(n.filterValue===t)return n;if(""===(null==n?void 0:n.filterValue)&&"is not checked"===(null==n?void 0:n.filterOperator)&&t.includes("blank"))return n;break;case"drop-down":if(Array.isArray(n.filterValue)){if(n.filterValue.find(e=>e===t))return n;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"link":if(n.filterValue.includes(t))return n;if("string"==typeof t&&t.includes("blank")&&n.filterValue.includes("Blank"))return n;break;case"created":if(Array.isArray(n.filterValue)){const e=n.filterValue.find(e=>e===t);if(e)return e;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"last-updated":if(Array.isArray(n.filterValue)){const e=n.filterValue.find(e=>e===t);if(e)return e;if(null!=n&&n.filterValue.includes("Blank")&&t.includes("blank"))return n}break;case"text-cell":if(Array.isArray(n.filterValue)){const e=n.filterValue;if(e.includes(t))return n;if(e.includes("Blank")&&t.includes("blank"))return n;break}}});return null==d?void 0:d._id}),B=(0,s.Mz)([e=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{let n={};const i=(0,c.xd)(e),r=(0,u.u7r)(e.DBTaskColumnOptionReducer,{boardId:i,columnId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]}).find(e=>t===(null==e?void 0:e._id));return n={id:null==r?void 0:r._id,name:null==r?void 0:r.label,bgColor:null==r?void 0:r.bgcolor},n}),_=(0,s.Mz)([e=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>u.Jvr.selectAll(e).find(e=>e.filterColumnId===(null==t?void 0:t._id)&&e.viewId===a)),P=(0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=[];return(0,p.P_)(e).map(e=>{var n;e&&null!=e&&e.customData&&null!=e&&null!==(n=e.customData[t])&&void 0!==n&&n.value&&a.push(null==e?void 0:e.customData[t].value)}),a}),R=(0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=[];return(0,p.P_)(e).map(e=>{var n,i,r;e&&null!=e&&e.customData&&null!=e&&null!==(n=e.customData[t])&&void 0!==n&&n.value&&a.push((null==e||null===(i=e.customData[t])||void 0===i||null===(i=i.value)||void 0===i?void 0:i.linkText)||(null==e||null===(r=e.customData[t])||void 0===r||null===(r=r.value)||void 0===r?void 0:r.link))}),a}),E=(0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=[];return(0,p.P_)(e).map(e=>{var n,i;e&&null!=e&&e.customData&&null!=e&&null!==(n=e.customData[t])&&void 0!==n&&n.value&&a.push(null==e||null===(i=e.customData[t])||void 0===i||null===(i=i.value[0])||void 0===i?void 0:i.label)}),a}),j=(0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{if(t){return r.find(e=>e.filterType===t)}return{}}),L=((0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{if(t){const a=j(e,t);return Object.keys(null==a?void 0:a.operatorsList)}return[]}),(0,s.Mz)([e=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{if(t&&a){return j(e,t).operatorsList[a]}return{}}),(0,s.Mz)([(e,t,a,n)=>e,(e,t,a,n)=>t,(e,t,a,n)=>a,(e,t,a,n)=>n],(e,t,a,n)=>{let i=[];const r=(0,c.xd)(e),s=(0,u.$0K)(e.DBTaskgroupsReducer,{boardId:r,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),o=(0,u.u7r)(e.DBTaskColumnOptionReducer,{boardId:r,columnId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]});switch(t){case"person-picker":i=(0,c._r)(e).map(e=>{var t,a;return null!=e&&e.profile?{id:null==e?void 0:e._id,value:((null==e||null===(t=e.profile)||void 0===t?void 0:t.firstName)+" "+(null==e||null===(a=e.profile)||void 0===a?void 0:a.lastName)).trim(),profile:e.profile}:{id:null==e?void 0:e._id,value:null==e?void 0:e.email}});break;case"option-picker":case"complexity-picker":case"status-option-picker":let t=!1;i=o.map(e=>{var a;return e.isDefaultLabel?(t=!0,{[e._id]:"Blank",optionColor:null!==(a=null==e?void 0:e.bgcolor)&&void 0!==a?a:"grey"}):{[e._id]:e.label,optionColor:null==e?void 0:e.bgcolor}}),t||i.push({undefined:"Blank"});break;case"created":case"last-updated":i=["Today","Yesterday","This week","Last week","This month","Last month","Past","Blank"];break;case"datepicker":i=["Today","Tomorrow","Yesterday","This week","Last week","Next week","This month","Last month","Next month","Past Dates","Future Dates","Blank"];break;case"timeline-picker":i="is"===n||"is not"===n?["Current","Due Today","Past Dates","Future Dates","Blank"]:["Today","Tomorrow","Yesterday","This week","Last week","Next week","This month","Last month","Next month","Past Dates","Future Dates","Blank"];break;case"rating":i=[0,1,2,3,4,5];break;case"link":i=R(e,a);break;case"drop-down":i=E(e,a);break;case"text-cell":i=P(e,a);break;case"group":i=s.map(e=>({isGroup:!0,id:null==e?void 0:e._id,value:null==e?void 0:e.name}))}return i}),(0,s.Mz)([e=>e,(e,t,a,n)=>t,(e,t,a,n)=>a,(e,t,a,n)=>n,(e,t,a,n,i)=>i],(e,t,a,n,i)=>{let s,o=null;for(let d=0;d<a.length;d++){let c,p=a[d],m=[];const g=n.find(e=>p.filterColumnId===(null==e?void 0:e._id));let h=(0,u.u7r)(i,{boardId:e,columnId:null==g?void 0:g._id,$or:[{deleted:{$exists:!1}},{deleted:!1}]}).find(e=>null==e?void 0:e.isDefaultLabel);"groupColumn"===p.filterColumnId?(c=null==p?void 0:p.filterValue,s=r.find(e=>"group"===e.filterType)):(m=D(t,null==g?void 0:g.type,null==g?void 0:g._id),s=r.find(e=>e.filterType===(null==g?void 0:g.type)));let w=!1;const x=(s?s.operatorsList:[])[p.filterOperator],I=null==x?void 0:x.value;if(!x)return;if(m){var l;const e=(()=>{var e;if("groupColumn"!==(null==p?void 0:p.filterColumnId))switch(g.type){case"datepicker":case"timeline-picker":return null===(e=t.customData[p.filterColumnId])||void 0===e?void 0:e.value;case"created":return t.createdAt;case"last-updated":return null==t?void 0:t.updatedAt;default:return!1}})();w=null!=x&&x.isSpecialDateFilter||null!=x&&x.isSpecialDateSelectFilter?f(I,p.filterValue,e):null!=x&&x.isSpecialTimelineFilter||"timeline-picker"===(null==g?void 0:g.type)?b(I,p.filterValue,e):"group"===(null===(l=s)||void 0===l?void 0:l.filterType)?k(I,t.groupId,c):v(I,m,p.filterValue,h,null==g?void 0:g.type),"is not empty"===I&&m&&(w=!0)}else w=y(I,p.filterValue,null==g?void 0:g.type);null===o?o=w:"and"===p.filterAndOr?o=o&&w:"or"===p.filterAndOr&&(o=o||w)}return o}));(0,s.Mz)([e=>e],e=>{var t;const a=(0,c.xd)(e),n=e.TasksReducer.currentBoardView,[i]=(0,u.bTq)(e.DBBoardViewReducer,{boardId:a,_id:n.id}),r=null!==(t=null==i?void 0:i._id)&&void 0!==t?t:a;return(0,u.Y6C)(e.DBViewFiltersReducer,{viewId:r,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{updatedAt:1}).length>0}),(0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,p.nX)(e);let n={};if("groupColumn"===t){n={columnId:"groupColumn",columnTitle:"Group",columnType:"group"}}else{const e=a.find(e=>e._id===t),i=null==e?void 0:e.type,r=null==e?void 0:e.title;n={columnId:null==e?void 0:e._id,columnTitle:r,columnType:i}}return n}),(0,s.Mz)([e=>e,(e,t)=>t],(e,t)=>{const a=(0,p.nX)(e).find(e=>(null==e?void 0:e._id)===t);return"rating"===(null==a?void 0:a.type)}),(0,s.Mz)([e=>e,e=>[]],e=>{const t=(0,p.nX)(e),a=T(e);let n=[];for(let a=0;a<t.length;a++){const i=t[a],r=S(e,i);n.push(r)}return[...a,...n]}),(0,o.zD)("tasks/toggleFilterItemThunk",async(e,t)=>{var a,n;const i=t.dispatch,r=t.getState(),s=[],o=r.UserReducer.userId,l=(0,c.xd)(r),d=r.TasksReducer.currentBoardView,[m]=(0,u.bTq)(r.DBBoardViewReducer,{boardId:l,_id:d.id}),y=null!==(a=null==m?void 0:m._id)&&void 0!==a?a:l,h=(0,p.nX)(r),v="groupColumn"===e.columnId,f=h.find(t=>e.columnId===t._id),b=(e=>{switch(e){case"datepicker":case"created":case"last-updated":case"timeline-picker":case"rating":case"drop-down":case"link":case"text-cell":return!1;default:return!0}})(null==f?void 0:f.type),k=_(r,f,y),w=j(r,null==f?void 0:f.type);let x=(e=>{switch(e){case"number":return"=";case"checkbox":return"is checked";default:return"is"}})(w.filterType);const D=!("link"!==w.filterType&&"text-cell"!==w.filterType&&"drop-down"!==w.filterType||"is"!==x&&"is not"!==x),I="rating"===w.filterType,A="select"===w.valueInputType||"person"===w.valueInputType;(A&&!v&&!I||D)&&s.push(b?{id:e.id,label:e.name}:e.name),I&&!b&&s.push(Number(e.name));let T=A||v||D?s:null!==(n=e.name)&&void 0!==n?n:e.id;if(void 0===e.name)switch(null==f?void 0:f.type){case"number":x="is empty",T=void 0;break;case"checkbox":x="is not checked",T="";break;default:T=["Blank"]}v&&s.push({id:e.id,label:e.name});const S={filterAndOr:"or",filterColumnId:e.columnId,filterOperator:x,viewId:y,filterValue:T,owner:o};var O;if(e.viewFilterId){if(!(0,u.qfk)(e.viewFilterId))if(k&&Array.isArray(k.filterValue)&&Array.isArray(S.filterValue)&&D){let t;if("object"==typeof S.filterValue[0]){const e=S.filterValue.map(e=>e.id);t=k.filterValue.filter(t=>!e.includes(t.id))}else t=k.filterValue.filter(e=>!S.filterValue.includes(e));t.length>0?i(u.yik.patch({entity:{_id:e.viewFilterId,filterValue:t}})):i(u.yik.delete({entity:{_id:e.viewFilterId}}))}else i(u.yik.delete({entity:{_id:e.viewFilterId}}))}else k&&(null==k||null===(O=k.filterValue)||void 0===O?void 0:O.length)>0&&(null==k?void 0:k.filterOperator)===(null==S?void 0:S.filterOperator)&&D?i(u.yik.patch({entity:g(g({},k),{},{filterValue:[...k.filterValue,...S.filterValue]})})):i(u.yik.create(S))}),(0,o.zD)("addNewfilterConditionThunk",async(e,t)=>{var a;const n=t.getState(),{dispatch:i}=t,r=n.UserReducer.userId,s=(0,c.xd)(n),o=n.TasksReducer.currentBoardView,[l]=(0,u.bTq)(n.DBBoardViewReducer,{boardId:s,_id:o.id}),d=null!==(a=null==l?void 0:l._id)&&void 0!==a?a:s,p={filterColumnId:e.filterColumnId,filterOperator:e.filterOperator,filterValue:e.filterValue,viewId:d,filterAndOr:e.filterAndOr,owner:r};return await i(u.yik.create(p))}),(0,o.zD)("clearAllFiltersThunks",async(e,t)=>{var a;const n=t.dispatch,i=t.getState(),r=(0,c.xd)(i),s=i.TasksReducer.currentBoardView,[o]=(0,u.bTq)(i.DBBoardViewReducer,{boardId:r,_id:s.id}),l=null!==(a=null==o?void 0:o._id)&&void 0!==a?a:r;(0,u.Y6C)(i.DBViewFiltersReducer,{viewId:l,$or:[{deleted:{$exists:!1}},{deleted:!1}]},null,{updatedAt:1}).map(e=>{(0,u.qfk)(null==e?void 0:e._id)||n(u.yik.delete({entity:{_id:null==e?void 0:e._id}}))})})},86803:(e,t,a)=>{"use strict";a.d(t,{ReactComponent:()=>l});var n,i,r,s=a(96540);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(null,arguments)}const l=e=>s.createElement("svg",o({width:26,height:26,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=s.createElement("g",{opacity:.16,fill:"#FFB800"},s.createElement("circle",{cx:13,cy:13,r:13}),s.createElement("circle",{cx:13,cy:13,r:13}),s.createElement("circle",{cx:13,cy:13,r:13}))),i||(i=s.createElement("g",{opacity:.23,fill:"#FFB800"},s.createElement("circle",{cx:13,cy:13,r:9}),s.createElement("circle",{cx:13,cy:13,r:9}),s.createElement("circle",{cx:13,cy:13,r:9}))),r||(r=s.createElement("circle",{cx:13,cy:13,r:5,fill:"#FFB800"})))},87951:(e,t,a)=>{"use strict";a.d(t,{_:()=>s});var n=a(2543),i=a(1081),r=a(86234);const s=(0,i.Ad)(r.UI,(e,t)=>{if(e===t)return!0;if(null==e||null==t)return e===t;try{return(0,n.isEqual)(e,t)}catch(e){return!1}})},88275:(e,t,a)=>{"use strict";a.d(t,{ReactComponent:()=>o});var n,i,r=a(96540);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(null,arguments)}const o=e=>r.createElement("svg",s({viewBox:"0 0 212 212",height:55,width:55,className:"waPerson_svg__ln8gz9je waPerson_svg__ppled2lx"},e),n||(n=r.createElement("path",{fill:"var(--contact-avatar-bg)",className:"waPerson_svg__background",d:"M106.251.5C164.653.5 212 47.846 212 106.25S164.653 212 106.25 212C47.846 212 .5 164.654.5 106.25S47.846.5 106.251.5z"})),i||(i=r.createElement("g",{fill:"var(--contact-avatar-fill)"},r.createElement("path",{className:"waPerson_svg__primary",d:"M173.561 171.615a62.767 62.767 0 0 0-2.065-2.955 67.7 67.7 0 0 0-2.608-3.299 70.112 70.112 0 0 0-3.184-3.527 71.097 71.097 0 0 0-5.924-5.47 72.458 72.458 0 0 0-10.204-7.026 75.2 75.2 0 0 0-5.98-3.055c-.062-.028-.118-.059-.18-.087-9.792-4.44-22.106-7.529-37.416-7.529s-27.624 3.089-37.416 7.529c-.338.153-.653.318-.985.474a75.37 75.37 0 0 0-6.229 3.298 72.589 72.589 0 0 0-9.15 6.395 71.243 71.243 0 0 0-5.924 5.47 70.064 70.064 0 0 0-3.184 3.527 67.142 67.142 0 0 0-2.609 3.299 63.292 63.292 0 0 0-2.065 2.955 56.33 56.33 0 0 0-1.447 2.324c-.033.056-.073.119-.104.174a47.92 47.92 0 0 0-1.07 1.926c-.559 1.068-.818 1.678-.818 1.678v.398c18.285 17.927 43.322 28.985 70.945 28.985 27.678 0 52.761-11.103 71.055-29.095v-.289s-.619-1.45-1.992-3.778a58.346 58.346 0 0 0-1.446-2.322zM106.002 125.5c2.645 0 5.212-.253 7.68-.737a38.272 38.272 0 0 0 3.624-.896 37.124 37.124 0 0 0 5.12-1.958 36.307 36.307 0 0 0 6.15-3.67 35.923 35.923 0 0 0 9.489-10.48 36.558 36.558 0 0 0 2.422-4.84 37.051 37.051 0 0 0 1.716-5.25c.299-1.208.542-2.443.725-3.701.275-1.887.417-3.827.417-5.811s-.142-3.925-.417-5.811a38.734 38.734 0 0 0-1.215-5.494 36.68 36.68 0 0 0-3.648-8.298 35.923 35.923 0 0 0-9.489-10.48 36.347 36.347 0 0 0-6.15-3.67 37.124 37.124 0 0 0-5.12-1.958 37.67 37.67 0 0 0-3.624-.896 39.875 39.875 0 0 0-7.68-.737c-21.162 0-37.345 16.183-37.345 37.345 0 21.159 16.183 37.342 37.345 37.342z"}))))},89034:(e,t,a)=>{"use strict";function n(e){if(!e||"string"!=typeof e)return{direction:"ltr",textAlign:"left"};const t=/[\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/.test(e);return{direction:t?"rtl":"ltr",textAlign:t?"right":"left"}}a.d(t,{V:()=>n})},89476:(e,t,a)=>{"use strict";a.r(t),a.d(t,{dispatch:()=>l,getStateDirectly:()=>d,getStore:()=>s,safeDispatch:()=>o});var n=a(87435);let i=null;const r=()=>{try{return i||(i=(0,n.B2)()?a(1095).A:a(8099).Ay,i)}catch(e){throw new Error("Failed to get Redux store")}},s=()=>r(),o=e=>{try{return r().dispatch(e)}catch(t){return e}},l=e=>{try{return r().dispatch(e)}catch(t){return e}},d=()=>{try{return r().getState()}catch(e){return{}}}},90253:(e,t,a)=>{"use strict";a.d(t,{ReactComponent:()=>o});var n,i,r=a(96540);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s.apply(null,arguments)}const o=e=>r.createElement("svg",s({viewBox:"0 0 212 212",height:55,width:55,className:"waGroup_svg__ln8gz9je waGroup_svg__ppled2lx",fill:"var(--contact-avatar-bg)"},e),n||(n=r.createElement("path",{className:"waGroup_svg__background",d:"M105.946.25C164.318.25 211.64 47.596 211.64 106s-47.322 105.75-105.695 105.75C47.571 211.75.25 164.404.25 106S47.571.25 105.946.25Z"})),i||(i=r.createElement("path",{className:"waGroup_svg__primary",fillRule:"evenodd",clipRule:"evenodd",d:"M102.282 77.286c0 10.671-8.425 19.285-18.94 19.285s-19.003-8.614-19.003-19.285C64.339 66.614 72.827 58 83.342 58s18.94 8.614 18.94 19.286Zm48.068 2.857c0 9.802-7.738 17.714-17.396 17.714-9.658 0-17.454-7.912-17.454-17.714s7.796-17.715 17.454-17.715c9.658 0 17.396 7.913 17.396 17.715Zm-67.01 29.285c-14.759 0-44.34 7.522-44.34 22.5v11.786c0 3.536 2.85 4.286 6.334 4.286h76.012c3.484 0 6.334-.75 6.334-4.286v-11.786c0-14.978-29.58-22.5-44.34-22.5Zm43.464 1.425c.903.018 1.681.033 2.196.033 14.759 0 45 6.064 45 21.043v9.642c0 3.536-2.85 6.429-6.334 6.429h-32.812c.697-1.993 1.141-4.179 1.141-6.429l-.245-10.5c0-9.561-5.614-13.213-11.588-17.1-1.39-.904-2.799-1.821-4.162-2.828a.843.843 0 0 1-.059-.073.594.594 0 0 0-.194-.184c1.596-.139 4.738-.078 7.057-.033Z",fill:"var(--contact-avatar-fill)"})))},90436:(e,t,a)=>{"use strict";a.d(t,{d:()=>o});var n=a(64467),i=a(71211);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}class o{static getWeekday(e){const t=e.getUTCDay();return 0===t?6:t-1}static cleanRuleOptions(e){const t=s({},e);return this.nullableKeys.forEach(e=>{(null==t[e]||Array.isArray(t[e])&&0===t[e].length)&&delete t[e]}),delete t.bynweekday,t}static formatRuleSetToString(e,t){if(!e.length)return"";const a=e[0],n=this.cleanRuleOptions(a.options),r=s({},n);delete r.dtstart;const o=new i.p3(r).toString();let l="";if(n.dtstart){const e=new Date(Date.UTC(n.dtstart.getUTCFullYear(),n.dtstart.getUTCMonth(),n.dtstart.getUTCDate(),n.dtstart.getUTCHours(),n.dtstart.getUTCMinutes(),n.dtstart.getUTCSeconds()));l+="DTSTART:".concat(e.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}Z$/,"Z"),"\n")}if(l+="RRULE:".concat(o.replace(/^RRULE:/,"")),t.length>0){const e=t.map(e=>new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())).toISOString().replace(/[-:]/g,"").replace(/\.\d{3}Z$/,"Z"));l+="\nEXDATE:".concat(e.join(","))}return l}static offsetRule(e,t,a,n){a.getTime(),t.getTime();const r=new Date(t.getTime());r.setTime(a.getTime());const s={freq:e.options.freq,interval:e.options.interval||1,wkst:e.options.wkst||0,dtstart:r};if(void 0!==e.options.count&&(s.count=e.options.count),e.options.freq===i.jN.WEEKLY){const i=o.getWeekday(t),r=o.getWeekday(a);if("thisAndFollowing"===n)if(e.options.byweekday){const t=[...e.options.byweekday],a=t.indexOf(i);-1!==a?(t[a]=r,s.byweekday=t.sort((e,t)=>e-t)):s.byweekday=e.options.byweekday}else s.byweekday=[r];else if(e.options.byweekday){const t=[...e.options.byweekday],a=t.indexOf(i);-1!==a?(t[a]=r,s.byweekday=t.sort((e,t)=>e-t)):s.byweekday=e.options.byweekday}else s.byweekday=[r]}if(e.options.until){const t=e.options.until,n=new Date(t.getTime());n.setUTCHours(a.getUTCHours()),n.setUTCMinutes(a.getUTCMinutes()),n.setUTCSeconds(a.getUTCSeconds()),s.until=n}e.options.freq!==i.jN.MINUTELY&&(e.options.freq!==i.jN.HOURLY&&(s.byhour=[a.getUTCHours()]),s.byminute=[a.getUTCMinutes()]),s.bysecond=[a.getUTCSeconds()];const l=o.cleanRuleOptions(s);return new i.p3(l)}formatDate(e){return e.toISOString()}static calculateRemainingCount(e,t){if(!e.count)return;const a=new i.p3(s(s({},e),{},{until:new Date(t.getTime()-1)})).all().length;return Math.max(1,e.count-a)}static validateRRule(e,t){if(e)try{const a=(0,i.YI)(e,{forceset:!0}).rrules()[0];if(!a.after(t,!1))return;return e}catch(t){return e}}handleDragAndDrop(e,t,a,n,r){let l=(0,i.YI)(e,{forceset:!0});const d=l.rrules()[0];d.options.dtstart=new Date(r.getTime());const c=new i.Dz;c.rrule(new i.p3(d.options)),l.exdates().forEach(e=>c.exdate(e)),l=c;this.formatDate(r,!0,!0);if("this"===n){const e=new i.Dz;e.rrule(new i.p3(d.options));l.exdates().forEach(t=>{e.exdate(t)}),e.exdate(new Date(t.getTime()));const n=this.constructor.formatRuleSetToString(e.rrules(),e.exdates()),r=this.formatDate(d.options.dtstart,!0,!0);return{originalAction:"patch",originalDueDate:r,originalNewRRule:this.constructor.validateRRule(n,new Date(r)),newAction:"create",newDueDate:this.formatDate(a,!0,!0)}}if("thisAndFollowing"===n){if((e=>{const t=d.options.dtstart,a=new Date(t.getTime());a.setDate(a.getDate()+1);const n=d.between(t,a,!0)[0];return n&&n.getTime()===t.getTime()&&e.getTime()===t.getTime()})(t)){const e=this.constructor.offsetRule(d,t,a,n),r=new i.Dz;r.rrule(e);const s=a.getTime()-t.getTime();l.exdates().map(e=>new Date(e.getTime()+s)).forEach(e=>r.exdate(e));const o=this.constructor.formatRuleSetToString(r.rrules(),r.exdates()),c=this.formatDate(a,!0,!0),u=this.constructor.validateRRule(o,new Date(c));return{originalAction:"delete",originalDueDate:this.formatDate(t,!0,!0),newAction:"create",newDueDate:c,newRRule:u}}if(d.options.freq===i.jN.WEEKLY){const e=o.getWeekday(t),n=o.getWeekday(a),r=d.between(d.options.dtstart,t,!0).find(t=>o.getWeekday(t)===e);if(r&&r.getTime()===t.getTime()){const t=s({},d.options);if(t.byweekday){const a=[...t.byweekday],i=a.indexOf(e);-1!==i&&(a[i]=n,t.byweekday=a.sort((e,t)=>e-t))}else t.byweekday=[n];const a=new i.Dz;a.rrule(new i.p3(t)),l.exdates().forEach(e=>a.exdate(e));const r=this.constructor.formatRuleSetToString(a.rrules(),a.exdates()),o=this.formatDate(d.options.dtstart,!0,!0);return{originalAction:"patch",originalDueDate:o,originalNewRRule:this.constructor.validateRRule(r,new Date(o)),newAction:"none"}}}let e=s({},d.options);const r=new Date(t.getTime());r.setMinutes(r.getMinutes()-1),e.until=r,delete e.count;let c=new i.Dz;c.rrule(new i.p3(e));l.exdates().filter(e=>e<t).map(e=>new Date(e.getTime())).forEach(e=>c.exdate(e));if(!c.after(new Date(e.dtstart.getTime()-1e3),!1)){const e=this.constructor.offsetRule(d,t,a,n),r=new i.Dz;r.rrule(e);const s=a.getTime()-t.getTime();l.exdates().filter(e=>e>=t).map(e=>new Date(e.getTime()+s)).forEach(e=>r.exdate(e));const o=this.constructor.formatRuleSetToString(r.rrules(),r.exdates()),c=this.formatDate(a,!0,!0),u=this.constructor.validateRRule(o,new Date(c));return{originalAction:"delete",originalDueDate:this.formatDate(d.options.dtstart,!0,!0),newAction:"create",newDueDate:c,newRRule:u}}const u=this.constructor.offsetRule(d,t,a,n);let p;if(d.options.count){const e=new Date(t.getTime());e.setMinutes(e.getMinutes()-1);const a=new i.p3(s(s({},d.options),{},{until:e,count:void 0})).all().length;p=Math.max(1,Number(d.options.count)-a)}const m=new i.Dz;if(void 0!==p){const e=s(s({},u.options),{},{count:p}),t=Number(d.options.count)-p,a=s({},d.options);a.count=t,delete a.until;const n=c.exdates().map(e=>new Date(e.getTime()));c=new i.Dz,c.rrule(new i.p3(a)),n.forEach(e=>c.exdate(e)),m.rrule(new i.p3(e))}else if(d.options.until&&!p){const e=s(s({},u.options),{},{until:d.options.until});m.rrule(new i.p3(e))}else m.rrule(u);const g=a.getTime()-t.getTime();l.exdates().filter(e=>e>=t).map(e=>new Date(e.getTime()+g)).forEach(e=>m.exdate(e));const y=this.formatDate(d.options.dtstart,!0,!0),h=this.constructor.formatRuleSetToString(c.rrules(),c.exdates()),v=this.constructor.validateRRule(h,new Date(y)),f=this.formatDate(a,!0,!0),b=this.constructor.formatRuleSetToString(m.rrules(),m.exdates());return{originalAction:"patch",originalDueDate:y,originalNewRRule:v,newAction:"create",newDueDate:f,newRRule:this.constructor.validateRRule(b,new Date(f))}}}handleDeletion(e,t,a,n){if(isNaN(t.getTime()))throw new Error("Invalid date format provided");let r=(0,i.YI)(e,{forceset:!0});const o=r.rrules()[0];o.options.dtstart=new Date(n.getTime());const l=new i.Dz;l.rrule(new i.p3(o.options)),r.exdates().forEach(e=>l.exdate(e)),r=l;const d=this.formatDate(n,!0,!0);switch(a){case"this":{if(t.getTime()===o.options.dtstart.getTime()){const e=r.after(t,!1);if(!e)return{originalAction:"delete",originalDueDate:d,newAction:"none"};const a=s({},o.options);a.dtstart=e,a.byhour=[e.getUTCHours()],a.byminute=[e.getUTCMinutes()],a.bysecond=[e.getUTCSeconds()],null!==o.options.count&&void 0!==o.options.count&&(a.count=Math.max(1,o.options.count-1));const n=new i.Dz;n.rrule(new i.p3(a)),r.exdates().filter(e=>e.getTime()!==t.getTime()).forEach(e=>n.exdate(e));const l=this.constructor.formatRuleSetToString(n.rrules(),n.exdates());return{originalAction:"patch",originalNewRRule:this.constructor.validateRRule(l,e),originalDueDate:this.formatDate(e,!0,!0),newAction:"none"}}const e=new Date(t.getTime());r.exdate(e);const a=this.constructor.formatRuleSetToString(r.rrules(),r.exdates());return{originalAction:"patch",originalNewRRule:this.constructor.validateRRule(a,n),originalDueDate:d,newAction:"none"}}case"thisAndFollowing":{const e=o.between(o.options.dtstart,t,!0)[0];if(e&&e.getTime()===o.options.dtstart.getTime()&&t.getTime()===o.options.dtstart.getTime())return{originalAction:"delete",originalDueDate:this.formatDate(n,!0,!0),newAction:"none"};const a=new i.Dz,l=s({},o.options),c=new Date(t.getTime()-5e3);l.until=c,delete l.count,a.rrule(new i.p3(l));r.exdates().forEach(e=>{e<t&&a.exdate(e)});const u=this.constructor.formatRuleSetToString(a.rrules(),a.exdates());return{originalAction:"patch",originalNewRRule:this.constructor.validateRRule(u,n),originalDueDate:d,newAction:"none"}}case"all":return{originalAction:"delete",originalDueDate:d,newAction:"none"};default:throw new Error("Invalid scope: ".concat(a))}}handleRecurringEdit(e,t,a,n,r,o){const l=(0,i.YI)(e,{forceset:!0}),d=l.rrules()[0];d.options.dtstart=new Date(o.getTime());const c=new i.Dz;c.rrule(new i.p3(d.options)),l.exdates().forEach(e=>c.exdate(e));switch(r){case"all":{const e=this.constructor.validateRRule(n,a),t=this.formatDate(o,!0,!0);return{originalAction:"delete",originalDueDate:t,newAction:"create",newDueDate:t,newRRule:e}}case"this":{const e=new i.Dz;e.rrule(new i.p3(d.options)),c.exdates().forEach(t=>{e.exdate(t)}),e.exdate(new Date(t.getTime()));const r=this.constructor.formatRuleSetToString(e.rrules(),e.exdates()),s=this.formatDate(o,!0,!0),l=this.constructor.validateRRule(r,new Date(s)),u=n?this.constructor.validateRRule(n,a):void 0;return{originalAction:"patch",originalDueDate:s,originalNewRRule:l,newAction:"create",newDueDate:this.formatDate(a,!0,!0),newRRule:u}}case"thisAndFollowing":{if((e=>{const t=d.options.dtstart,a=new Date(t.getTime());a.setDate(a.getDate()+1);const n=d.between(t,a,!0)[0];return n&&n.getTime()===t.getTime()&&e.getTime()===t.getTime()})(t)){const e=this.constructor.validateRRule(n,a);return{originalAction:"delete",originalDueDate:this.formatDate(t,!0,!0),newAction:"create",newDueDate:this.formatDate(a,!0,!0),newRRule:e}}const e=s({},d.options),r=new Date(t.getTime());r.setMinutes(r.getMinutes()-1),e.until=r,delete e.count;const l=new i.Dz;l.rrule(new i.p3(e));let u,p;c.exdates().filter(e=>e<t).map(e=>new Date(e.getTime())).forEach(e=>l.exdate(e)),n?(u=(0,i.YI)(n,{forceset:!0}),p=u.rrules()[0]):(u=new i.Dz,p=new i.p3({freq:0}));const m=this.constructor.calculateRemainingCount(d.options,t);if(void 0!==m&&n){const e=s(s({},p.options),{},{count:m});u=new i.Dz,u.rrule(new i.p3(e))}const g=this.formatDate(o,!0,!0),y=this.constructor.formatRuleSetToString(l.rrules(),l.exdates()),h=this.constructor.validateRRule(y,new Date(g)),v=this.formatDate(a,!0,!0),f=n?this.constructor.formatRuleSetToString(u.rrules(),u.exdates()):void 0;return{originalAction:"patch",originalDueDate:g,originalNewRRule:h,newAction:"create",newDueDate:v,newRRule:f?this.constructor.validateRRule(f,new Date(v)):void 0}}default:throw new Error("Invalid scope: ".concat(r))}}}(0,n.A)(o,"nullableKeys",["until","tzid","bysetpos","bymonth","byyearday","byweekno","bynweekday","byeaster","count"])},90629:(e,t,a)=>{"use strict";a(96540),a(74848)},90663:(e,t,a)=>{"use strict";a.d(t,{Lz:()=>f,WA:()=>m});var n=a(64467),i=a(1081),r=a(30038),s=a(97424),o=a(36596),l=a(42636),d=a(12239);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const p=(0,i.Mz)([e=>e,d.B$],(e,t)=>(0,o.y5T)(e.DBNewTabFocusReducer,{owner:t})),m=(0,i.Mz)([e=>e],e=>{const t=p(e.state);return(null==t?void 0:t.taskId)===e.taskId}),g=(0,i.Mz)([e=>e.DBTaskgroupsReducer,e=>e.DBTasksReducer,e=>(0,s.xd)(e)],(e,t,a)=>{var n,i,r;const s=(0,o.$0K)(e,{boardId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]}),l=null===(n=s[s.length-1])||void 0===n?void 0:n._id;if(!s.length)return{groups:[],lastGroupTaskListLength:0};const d=null===(i=s[s.length-1])||void 0===i?void 0:i._id;return{groupId:l,lastGroupTaskListLength:null!==(r=(0,o.CA0)(t,{groupId:d,$or:[{deleted:{$exists:!1}},{deleted:!1}],taskType:{$ne:"subTask"}},"order","max"))&&void 0!==r?r:0}}),y=(0,i.Mz)([e=>(0,l.qM)(e),e=>h(e)],(e,t)=>{const{firstStatusColumn:a,doneColumnOption:n}=t,i=e.filter(e=>"task"===(null==e?void 0:e.type));if(!i.length)return 0;return i.filter(e=>{var t;return(null===(t=e.customData)||void 0===t||null===(t=t[null==a?void 0:a._id])||void 0===t?void 0:t.value)!==(null==n?void 0:n._id)}).length}),h=(0,i.Mz)([e=>e,e=>(0,s.xd)(e)],(e,t)=>{const a=(0,o.l_$)(e.DBTaskColumnReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]}).filter(e=>"status-option-picker"===e.type)[0];return{firstStatusColumn:a,doneColumnOption:(0,o.u7r)(e.DBTaskColumnOptionReducer,{boardId:t,columnId:null==a?void 0:a._id,$or:[{deleted:{$exists:!1}},{deleted:!1}]},void 0,{order:1}).filter(e=>"Done"===e.label)[0]}}),v=(0,i.Mz)([(e,t)=>e,(e,t)=>t,(e,t)=>h(e)],(e,t,a)=>{let{firstStatusColumn:n,doneColumnOption:i}=a;const r=(0,l.qM)(e).filter(e=>"task"===(null==e?void 0:e.type));var s;!t&&r.length>0&&(t=null===(s=r[0])||void 0===s?void 0:s.id);const o=r.filter(e=>{var t;return(null===(t=e.customData)||void 0===t||null===(t=t[null==n?void 0:n._id])||void 0===t?void 0:t.value)!==(null==i?void 0:i._id)}),d=r.findIndex(e=>(null==e?void 0:e.id)===t),c=(e,t)=>{let a=e,n=0;for(;n<r.length;){a+=t,a>=r.length?a=0:a<0&&(a=r.length-1);const e=r[a];if(o.includes(e))return null==e?void 0:e.id;n++}return null};return{previous:c(d,-1),next:c(d,1)}}),f=((0,i.Mz)([e=>e,(e,t)=>({groupId:t})],(e,t)=>{var a;let{groupId:n}=t;if(!n)return"";return null!==(a=(0,o.CA0)(e.DBTasksReducer,{groupId:n,$or:[{deleted:{$exists:!1}},{deleted:!1}],taskType:{$ne:"subTask"}},"order","max"))&&void 0!==a?a:0}),(0,i.Mz)([(e,t)=>o.ZIw.selectById(e,t),e=>h(e)],(e,t)=>{var a;let{firstStatusColumn:n,doneColumnOption:i}=t;return(null==e||null===(a=e.customData)||void 0===a||null===(a=a[null==n?void 0:n._id])||void 0===a?void 0:a.value)===(null==i?void 0:i._id)}),(0,r.zD)("tasks/setTaskDone",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=p(n),r=o.ZIw.selectById(n,i.taskId),{firstStatusColumn:s,doneColumnOption:l}=(y(n),h(n));if(!r||!s||!l)throw new Error("Required data is missing");await a(o.urn.patch({entity:{_id:r._id,customData:u(u({},null==r?void 0:r.customData),{},{[s._id]:{value:l._id}})}}))}),(0,r.zD)("newTabFocus/clearTask",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=p(n);a(o.lx8.patch({entity:{_id:i._id,taskId:null,timerShown:!1,isRunning:!1,expiryTimestamp:null,pauseTimestamp:null,remainingTime:null,stopwatchRunning:!1,stopwatchStartTime:null,stopwatchPausedTime:null}}))}),(0,r.zD)("newTabFocus/focusTabCreateNewTaskThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=(0,s.xd)(n),{groupId:r,lastGroupTaskListLength:l}=g(n);try{const t={text:e,boardId:i,groupId:r,order:l+1},n=await a(o.urn.create(t)).unwrap();return a(f({taskId:null==n?void 0:n._id})),n}catch(e){throw e}}),(0,r.zD)("newTabFocus/focusTabCreateNewTaskThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=p(n),{previous:r,next:s}=v(n,null==i?void 0:i.taskId);a(f({taskId:"next"===e?s:r}))}),(0,r.zD)("newTabFocus/selectRowItemWithThunk",async(e,t)=>{const{taskId:a}=e,n=t.getState(),i=t.dispatch,r=p(n),s=o.ZIw.selectById(n,a);a&&i(o.lx8.patch({entity:{_id:r._id,taskId:s._id,isRunning:!1,expiryTimestamp:null,pauseTimestamp:null,remainingTime:null,stopwatchRunning:!1,stopwatchStartTime:null,stopwatchPausedTime:null}}))}));(0,r.zD)("newTabFocus/updateOrCreateTabFocus ",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=p(n);null!=i&&i._id?a(o.lx8.patch({entity:{_id:i._id,taskId:i.taskId}})):a(o.lx8.create({timerShown:!1,stopWatchOrTimer:"timer",expanded:!1,isRunning:!1}))}),(0,r.zD)("newTabFocus/createTabFocus",async(e,t)=>{await t.dispatch(o.lx8.create({timerShown:!1,stopWatchOrTimer:"timer",expanded:!1,isRunning:!1}))}),(0,r.zD)("newTabFocus/toggleTimerThunk",async(e,t)=>{const a=t.dispatch,n=t.getState(),i=p(n);a(o.lx8.patch({entity:{_id:i._id,timerShown:!i.timerShown}}))})},90966:(e,t,a)=>{"use strict";a.r(t),a.d(t,{logMessageThunk:()=>f,nextCampaignMessageThunk:()=>b,reloadPageThunk:()=>k,retrySendMessageThunk:()=>h,sendMessageThunk:()=>y,sendViaWaAndLogMessageThunk:()=>v});var n=a(64467),i=a(36596),r=a(87435),s=a(81303),o=a(69886),l=a(38597),d=a(34624),c=a(44157),u=a(30038);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const g=5e4,y=(0,u.zD)("sendMessageThunk",async(e,t)=>{var a,n;let{userMessage:u,isSendMessageNow:p}=e;const m=null!==(a="undefined"!=typeof window&&window.enableInitialAttemptFailures)&&void 0!==a&&a,y=null!==(n="undefined"!=typeof window&&window.initialAttemptFailureRate)&&void 0!==n?n:.3;if(m&&Math.random()<y){const e="[RETRY FLOW SIMULATION]: Initial attempt failure (before lock) - message ".concat(u._id),t=new Error(e);throw t.type="InitialAttemptFailureSimulation",t.retryable=!0,t.timestamp=(new Date).toISOString(),t}const h=t.dispatch,f=t.getState(),b=await(0,c.wj)(o.B.isWhatsAppConnected(),"isWhatsAppConnected",g);if(!b){if(u._id)try{var k;const e=null!==(k=u.retryCount)&&void 0!==k?k:0,t=0===e?"initial send attempt":"retry attempt #".concat(e),a=s.MQTTSubscriber.getInstance().getCurrentClientId(),n=(0,r.yS)();await(0,d.NI)(u._id,0===e?"initial":"client-retry","disconnected","WhatsApp not connected - cannot perform ".concat(t),void 0,a||void 0,n)}catch(e){}return}if(!u._id)return;if(u.deleted)return;let w;try{var x;let e=await(0,c.wj)((0,d.xL)(u._id,null!==(x=u.retryCount)&&void 0!==x?x:0,null!=p&&p),"hasSendAttemptBeenMadeToMessage",g);if(!e){try{var D;const e=null!==(D=u.retryCount)&&void 0!==D?D:0,t=0===e?"initial send attempt":"retry attempt #".concat(e),a=s.MQTTSubscriber.getInstance().getCurrentClientId(),n=(0,r.yS)();await(0,d.NI)(u._id,0===e?"initial":"client-retry",b?"connected":"disconnected","Failed to validate ".concat(t),void 0,a||void 0,n)}catch(e){}return}const{userMessage:t,allowToSend:a}=e;if(!t)return void h(i.W3.removeOne(u._id));if(h(i.W3.updateOne({id:u._id,changes:t})),a){var I;const e=null!==(I=t.retryCount)&&void 0!==I?I:0,a=0===e?"initial":"client-retry",n=b?"connected":"disconnected";try{const i=0===e?"initial send attempt":"retry attempt #".concat(e),o=s.MQTTSubscriber.getInstance().getCurrentClientId(),l=(0,r.yS)();await(0,d.NI)(t._id,a,n,"Preparing ".concat(i),void 0,o||void 0,l)}catch(e){}const i=await(0,c.wj)((0,l.C1)(t),"prepareMessageForWa",g),{payload:o}=await h(v({preparedWaMessage:i,userMessage:t,attemptType:a}));w=o}else if(null==e||!e.initialAttemptLockExists)try{var A,T;const[e]=t.contactList,a=await(0,c.wj)(o.B.getUnloggedWaMessageKeyIfExistInStore(null!==(A=e.id)&&void 0!==A?A:"",t._id,new Date(new Date(t.dueDate).getTime()-12e5)),"getUnloggedWaMessageKeyIfExistInStore-initial-check",g),n=(null==a?void 0:a.waMessageKey)||null,i=null==a?void 0:a.debugInfo,l=null!==(T=t.retryCount)&&void 0!==T?T:0,u=0===l?"initial send":"retry #".concat(l),p=i?" (checked ".concat(i.totalMessagesFetched," messages)"):"";if(n){const e=s.MQTTSubscriber.getInstance().getCurrentClientId(),a=(0,r.yS)(),n=b?"connected":"disconnected";await(0,d.NI)(t._id,0===l?"initial":"client-retry",n,"Message already sent (found in store, no lock) - ".concat(u," skipped").concat(p),void 0,e||void 0,a,i)}}catch(e){}if(null!=t&&t.campaignId){f.DBCampaignReducer.entities[t.campaignId]||h(i.Y$S.find({}))}}catch(e){var S;if(null!=e&&null!==(S=e.response)&&void 0!==S&&null!==(S=S.data)&&void 0!==S&&null!==(S=S.message)&&void 0!==S&&S.includes("No record found for id"))h(i.W3.removeOne(u._id));else if(u._id)try{var O;const e=await o.B.isWhatsAppConnected()?"connected":"disconnected",t=null!==(O=u.retryCount)&&void 0!==O?O:0,a=0===t?"initial send":"retry #".concat(t),n=s.MQTTSubscriber.getInstance().getCurrentClientId(),i=(0,r.yS)();await(0,d.NI)(u._id,0===t?"initial":"client-retry",e,"Unexpected error during ".concat(a),void 0,n||void 0,i)}catch(e){}}return w}),h=(0,u.zD)("retrySendMessageThunk",async(e,t)=>{var a;let{userMessage:n,retryTrigger:l}=e;const u=t.dispatch,p=t.getState(),h=null==p||null===(a=p.MainReducer)||void 0===a?void 0:a.settings,v=new Date,b=new Date(n.dueDate),k=v.getTime()-b.getTime(),w=await o.B.isWhatsAppConnected()?"connected":"disconnected",x=0===n.retryCount?"initial":"client-retry";try{let e;e="manual"===l?"Retry initiated via manual trigger":"mqtt"===l?"Retry triggered via MQTT":"fcm"===l?"Retry triggered via FCM notification":"Retry initiated";const t=s.MQTTSubscriber.getInstance().getCurrentClientId(),a=(0,r.yS)();await(0,d.NI)(n._id,x,w,e,l,t||void 0,a)}catch(e){}if(!n.campaignId&&k>18e5){try{var D;const e=null!==(D=n.retryCount)&&void 0!==D?D:0,t=0===e?"initial send":"retry #".concat(e),a=s.MQTTSubscriber.getInstance().getCurrentClientId(),i=(0,r.yS)();await(0,d.NI)(n._id,x,w,"Message expired - ".concat(t," window passed"),l,a||void 0,i)}catch(e){}return void u(i.aLm.patch({entity:{_id:n._id,status:"failed"}}))}try{var I,A;const[e]=n.contactList,t=await(0,c.wj)(o.B.getUnloggedWaMessageKeyIfExistInStore(null!==(I=e.id)&&void 0!==I?I:"",n._id,new Date(new Date(n.dueDate).getTime()-12e5)),"getUnloggedWaMessageKeyIfExistInStore",g),a=(null==t?void 0:t.waMessageKey)||null,i=null==t?void 0:t.debugInfo,p=null!==(A=n.retryCount)&&void 0!==A?A:0,m=0===p?"initial send":"retry #".concat(p),y=i?" (checked ".concat(i.totalMessagesFetched," messages)"):"";if(a){const e=s.MQTTSubscriber.getInstance().getCurrentClientId(),t=(0,r.yS)(),o="Message already sent (found in store) - ".concat(m," skipped").concat(y);return await(0,d.NI)(n._id,x,w,o,l,e||void 0,t,i),void await u(f({userMessageId:n._id,waMessageKey:a,sendFailureError:void 0,attemptType:x,whatsappStatus:w,logMessage:o,mqttClientId:e||void 0,clientType:t}))}const h=s.MQTTSubscriber.getInstance().getCurrentClientId(),v=(0,r.yS)();await(0,d.NI)(n._id,x,w,"Message not found in store - ".concat(m," will proceed").concat(y),l,h||void 0,v,i)}catch(e){try{const e=s.MQTTSubscriber.getInstance().getCurrentClientId(),t=(0,r.yS)();await(0,d.NI)(n._id,x,w,"Error checking store for message - cannot safely retry (aborting)",l,e||void 0,t)}catch(e){}return}try{const e=await(0,c.wj)((0,d.xL)(n._id,0,!1),"hasSendAttemptBeenMadeToMessage-initial-check",g);if(null==e||!e.initialAttemptLockExists){try{const e=s.MQTTSubscriber.getInstance().getCurrentClientId(),t=(0,r.yS)();await(0,d.NI)(n._id,x,w,"Retry requested but initial attempt lock doesn't exist - triggering initial send instead",l,e||void 0,t)}catch(e){}return void await u(y({userMessage:n,isSendMessageNow:!1}))}}catch(e){try{const e=s.MQTTSubscriber.getInstance().getCurrentClientId(),t=(0,r.yS)();await(0,d.NI)(n._id,x,w,"Error checking initial attempt lock - proceeding with retry (fail-safe)",l,e||void 0,t)}catch(e){}}try{var T,S;const e=!0===(null==h?void 0:h.isSendMessageRetryEnabled),t=null!==(T=n.retryCount)&&void 0!==T?T:0,a=null!==(S=null==h?void 0:h.messageMaxRetries)&&void 0!==S?S:0,o="manual"===l,p=e&&(t<a||o);if(n.lastSendAttempt){const e=3e5,t=v.getTime()-new Date(n.lastSendAttempt).getTime();if(t<e){const e=Math.round(t/6e4);try{const t=s.MQTTSubscriber.getInstance().getCurrentClientId(),a=(0,r.yS)();await(0,d.NI)(n._id,x,w,"Retry rejected - only ".concat(e," minutes since last send attempt (minimum 5 minutes required)"),l,t||void 0,a)}catch(e){}return}}if(p){try{const e=await(0,c.wj)((0,d.fL)(n._id),"checkInitialAttemptLockExists",g);if(null==e||!e.initialAttemptLockExists)return void await u(y({userMessage:n,isSendMessageNow:!1}))}catch(e){}const e=t+1,a=await u(i.aLm.patch({entity:{_id:n._id,retryCount:e}})),r=null!=a&&a.payload&&"object"==typeof a.payload?m(m({},n),a.payload):m(m({},n),{},{retryCount:e});u(y({userMessage:r}))}else{const c=e?t>=a?"Max retries exhausted (".concat(t,"/").concat(a,")"):"Unknown rejection reason":"Retry is disabled in settings",p="Retry not accepted. Reason: ".concat(c,". Params: retryEnabled=").concat(e,", currentRetryCount=").concat(t,", maxRetries=").concat(a,", isManualRetry=").concat(o,", retryTrigger=").concat(l||"undefined");try{const e=s.MQTTSubscriber.getInstance().getCurrentClientId(),t=(0,r.yS)();await(0,d.NI)(n._id,x,w,p,l,e||void 0,t)}catch(e){}e&&t>=a&&u(i.aLm.patch({entity:{_id:n._id,status:"failed"}}))}}catch(e){var O;null!=e&&null!==(O=e.response)&&void 0!==O&&null!==(O=O.data)&&void 0!==O&&null!==(O=O.message)&&void 0!==O&&O.includes("No record found for id")&&u(i.W3.removeOne(n._id))}return null}),v=(0,u.zD)("sendViaWhatsappAndLogThunk",async(e,t)=>{let{preparedWaMessage:a,userMessage:n,shouldSendMessage:l=!0,attemptType:d}=e,{dispatch:u}=t;let p=null,m=null;try{var y;if(l){var h,v,b,k,w,x,D,I,A;p=await(0,c.wj)(o.B.sendMessageViaWhatsapp(a,n._id),"sendMessageViaWhatsapp",g),p=null!==(h=p)&&void 0!==h&&h.msg?null===(v=p)||void 0===v?void 0:v.msg:p;const e=null===(b=p)||void 0===b?void 0:b.error;if(null!=e){var T;const t="string"==typeof e?e:(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown send error";u(i.aLm.patch({entity:{_id:n._id,sendFailureError:t}}));const a=await o.B.isWhatsAppConnected()?"connected":"disconnected",l=null!==(T=n.retryCount)&&void 0!==T?T:0,c=0===l?"initial send":"retry #".concat(l),p=s.MQTTSubscriber.getInstance().getCurrentClientId(),m=(0,r.yS)();await u(f({userMessageId:n._id,waMessageKey:"",sendFailureError:t,attemptType:d,whatsappStatus:a,logMessage:"".concat(c," failed with error response"),mqttClientId:p||void 0,clientType:m}));const g=new Date;return u(i.aLm.patch({entity:{_id:n._id,lastSendAttempt:g}})),{error:t}}m=null!==(k=null!==(w=null!==(x=null===(D=p)||void 0===D?void 0:D._serialized)&&void 0!==x?x:null===(I=p)||void 0===I||null===(I=I.id)||void 0===I?void 0:I._serialized)&&void 0!==w?w:null===(A=p)||void 0===A?void 0:A.id)&&void 0!==k?k:""}m&&u(i.W3.updateOne({id:n._id,changes:{waMessageKey:m}}));const e=new Date;u(i.aLm.patch({entity:{_id:n._id,lastSendAttempt:e}}));const t=await o.B.isWhatsAppConnected()?"connected":"disconnected",S=null!==(y=n.retryCount)&&void 0!==y?y:0,O=0===S?"Initial send":"Retry #".concat(S),C=s.MQTTSubscriber.getInstance().getCurrentClientId(),M=(0,r.yS)();if(await u(f({userMessageId:n._id,waMessageKey:m||"",sendFailureError:void 0,attemptType:d,whatsappStatus:t,logMessage:"".concat(O," sent successfully via WhatsApp"),mqttClientId:C||void 0,clientType:M})),!m&&l)try{const e=a.dueDate?new Date(a.dueDate):new Date((new Date).getTime()-12e5),r=await(0,c.wj)(o.B.getUnloggedWaMessageKeyIfExistInStore(a.chatId,n._id,e),"getUnloggedWaMessageKeyIfExistInStore-investigation",g),s=(null==r?void 0:r.waMessageKey)||null,l=null==r?void 0:r.debugInfo;l&&l.top5Messages.forEach((e,t)=>{e.body,e.caption});const p=s?"Investigation: Message key found in store after send (checked ".concat((null==l?void 0:l.totalMessagesFetched)||0," messages)"):"Investigation: Message key not found in store (checked ".concat((null==l?void 0:l.totalMessagesFetched)||0," messages)");await u(f({userMessageId:n._id,waMessageKey:s||"",sendFailureError:void 0,attemptType:d,whatsappStatus:t,logMessage:p,mqttClientId:C||void 0,clientType:M})),s&&u(i.W3.updateOne({id:n._id,changes:{waMessageKey:s}}))}catch(e){const t=await o.B.isWhatsAppConnected()?"connected":"disconnected",a=s.MQTTSubscriber.getInstance().getCurrentClientId(),i=(0,r.yS)();await u(f({userMessageId:n._id,waMessageKey:"",sendFailureError:(null==e?void 0:e.message)||String(e),attemptType:d,whatsappStatus:t,logMessage:"Investigation: Failed to check store for message key - ".concat((null==e?void 0:e.message)||"Unknown error"),mqttClientId:a||void 0,clientType:i}))}}catch(e){var S;u(i.aLm.patch({entity:{_id:n._id,sendFailureError:e.message||e.toString()}}));const t=await o.B.isWhatsAppConnected()?"connected":"disconnected",a=null!==(S=n.retryCount)&&void 0!==S?S:0,l=0===a?"initial send":"retry #".concat(a),c=s.MQTTSubscriber.getInstance().getCurrentClientId(),p=(0,r.yS)();await u(f({userMessageId:n._id,waMessageKey:"",sendFailureError:e.message||e.toString(),attemptType:d,whatsappStatus:t,logMessage:"".concat(l," exception occurred"),mqttClientId:c||void 0,clientType:p}));const m=new Date;u(i.aLm.patch({entity:{_id:n._id,lastSendAttempt:m}}))}return p}),f=(0,u.zD)("handleMessageLogAndRecurrenceThunk",async(e,t)=>{let{userMessageId:a,waMessageKey:n,sendFailureError:o,shouldDeleteMessage:l=!0,attemptType:c,whatsappStatus:u,logMessage:p,retryTrigger:m,mqttClientId:g,clientType:y,debugInfo:h}=e,{dispatch:v}=t;try{var f,b;const e=g||s.MQTTSubscriber.getInstance().getCurrentClientId()||void 0,t=y||(0,r.yS)();let k=null;return l&&(k=await(0,d.JO)(a,n,o,c,u,p,m,e,t,h)),k.message&&v(i.W3.updateOne({id:a,changes:k.message})),null!==(f=k)&&void 0!==f&&f.isRecurringScheduled&&null!==(b=k)&&void 0!==b&&b.newMessage&&v(i.W3.addOne(k.newMessage)),k}catch(e){}}),b=(0,u.zD)("nextCampaignMessageThunk",async(e,t)=>{const{dispatch:a}=t;try{let t=await(0,c.wj)((0,d.XW)(e),"getNextCampaignMessage",1e4);var n;if("data"in t)a(i.WYp.updateOne({id:e,changes:t.data.campaign})),(null===(n=t.data.campaignMessages)||void 0===n?void 0:n.length)>0&&a(i.W3.upsertMany(t.data.campaignMessages))}catch(e){}}),k=(0,u.zD)("reloadPageThunk",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{dispatch:t}=arguments.length>1?arguments[1]:void 0;try{await(0,c.wj)(o.B.reloadPage(e),"reloadPage",g)}catch(e){}})},91153:(e,t,a)=>{"use strict";a.d(t,{po:()=>i});var n=a(37007);class i extends n.EventEmitter{get(e,t,a){try{if("undefined"==typeof chrome||!chrome.storage)return this.emit("storage-error",new Error("Chrome storage not available")),void a({});chrome.storage[e].get(t,e=>{chrome.runtime.lastError&&this.emit("storage-error",chrome.runtime.lastError),a(e)})}catch(e){this.emit("storage-error",e)}}set(e,t,a){try{if("undefined"==typeof chrome||!chrome.storage)return this.emit("storage-error",new Error("Chrome storage not available")),void a();chrome.storage[e].set(t,()=>{chrome.runtime.lastError&&this.emit("storage-error",chrome.runtime.lastError),a()})}catch(e){this.emit("storage-error",e)}}remove(e,t){if(t)try{if("undefined"==typeof chrome||!chrome.storage)return void this.emit("storage-error",new Error("Chrome storage not available"));chrome.storage[e].remove(t,()=>{this.get(e,t,e=>{})}),chrome.runtime.lastError&&this.emit("storage-error",chrome.runtime.lastError)}catch(e){this.emit("storage-error",e)}}clear(e){try{if("undefined"==typeof chrome||!chrome.storage)return void this.emit("storage-error",new Error("Chrome storage not available"));chrome.storage[e].clear(),chrome.runtime.lastError&&this.emit("storage-error",chrome.runtime.lastError)}catch(e){this.emit("storage-error",e)}}}},92032:(e,t,a)=>{"use strict";a.d(t,{E9i:()=>Ot,Fzy:()=>Ct,YG4:()=>W,QF$:()=>Bt,Hvd:()=>Q,br5:()=>ln,cZv:()=>oa,M2H:()=>Yt,cIn:()=>Xt,S$n:()=>jt,BwQ:()=>Lt,Ay$:()=>cn,K_c:()=>zt,$bn:()=>Ft,K13:()=>ia,Wno:()=>Gt,aNY:()=>qt,J09:()=>Pt,generateSupportedUserToken:()=>Ka,vl9:()=>aa,ogo:()=>Rt,getUserConnectedClients:()=>Xa,BuI:()=>ka,u1p:()=>V,r1Y:()=>dn,e54:()=>Nt,mjQ:()=>Ht,Rzb:()=>na,cr$:()=>Ut,gcx:()=>Ia,YR9:()=>ya,acb:()=>Zt,ITG:()=>Kt,Q3g:()=>la});var n=a(80045),i=a(64467),r=a(66159),s=a(79613),o=a(30038),l=a(51066),d=a(93020),c=a(55373),u=a.n(c),p=a(67158),m=a(79754),g=a(13364),y=a(43272),h=a(36596);const v=(0,o.zD)("getWorkspaceDataThunk",async(e,t)=>{let{workspaceId:a}=e;const{dispatch:n}=t,i=[];return i.push(n(h.jbN.find({returnAlsoWorkspaceOwnerName:!0,_id:a,deleted:{$ne:!0},$sort:{name:1},$limit:-1}))),i.push(n(h.WtJ.find({deleted:{$ne:!0},$sort:{name:1},$limit:-1}))),Promise.all(i)});var f=a(87435),b=a(37707),k=a(61980),w=a(55693),x=a(12239),D=a(83750),I=a(3139),A=a(46217),T=a(61504),S=a(72635);const O=async(e,t)=>{if(!S.Ay.isInitialized)return;if(null==e||!e._id)return;let n=null,i=!1;if(e.preferredLanguage)n=e.preferredLanguage;else{const e=(e=>({BR:"pt",PT:"pt",AO:"pt",MZ:"pt",CV:"pt",GW:"pt",ST:"pt",TL:"pt",ES:"es",MX:"es",AR:"es",CO:"es",CL:"es",PE:"es",VE:"es",EC:"es",GT:"es",CU:"es",BO:"es",DO:"es",HN:"es",PY:"es",SV:"es",NI:"es",CR:"es",PA:"es",UY:"es",DE:"de",AT:"de",CH:"de",LI:"de",LU:"de",IT:"it",SM:"it",VA:"it",FR:"fr",BE:"fr",MC:"fr",CD:"fr",CG:"fr",CI:"fr",CM:"fr",SN:"fr",MG:"fr",BF:"fr",ML:"fr",NE:"fr",TD:"fr",GA:"fr",GN:"fr",BJ:"fr",TG:"fr",CF:"fr",KM:"fr",DJ:"fr",GQ:"fr",HT:"fr",MR:"fr",RW:"fr",SC:"fr",VU:"fr",IN:"hi",US:"en",GB:"en",CA:"en",AU:"en",NZ:"en",IE:"en",ZA:"en",NG:"en",KE:"en",GH:"en",UG:"en",TZ:"en",ZW:"en",ZM:"en",MW:"en",SG:"en",MY:"en",PH:"en",PK:"en",BD:"en",LK:"en"}[e.toUpperCase()]||"en"))((()=>{try{const e=navigator.language||navigator.userLanguage;if(e){const t=e.split("-");if(t.length>1)return t[1].toUpperCase()}return""}catch(e){return""}})());n=e,"en"!==e&&(i=!0)}if(n&&S.Ay.language!==n)try{await S.Ay.changeLanguage(n);try{localStorage.setItem("i18nextLng",n)}catch(e){}if(i&&e._id)try{const{DBUserThunks:i}=await Promise.resolve().then(a.bind(a,36596));await t(i.patch({entity:{_id:e._id,preferredLanguage:n}}))}catch(e){}}catch(e){}};var C=a(49171).URL;function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}let _=new Set;const P=async(e,t)=>{var n;let{dispatch:i,queryFulfilled:r}=t;const{WaContactsCacheReducerActions:s,TeamInboxChatsCacheReducerActions:o,TeamInboxMessagesCacheReducerActions:l}=await Promise.resolve().then(a.bind(a,36596)),{clearTempChatDataIfChatAvailableThunk:d}=await Promise.resolve().then(a.bind(a,68876)),c=await r;switch(null==c||null===(n=c.data)||void 0===n?void 0:n.type){case"requestMissingContactsImages":{var u,p;const e=null!==(u=null==c||null===(p=c.data)||void 0===p?void 0:p.contactsWithNewProfilePicArray)&&void 0!==u?u:[];if(e.length>0){const t=e.map(e=>({id:e._id,changes:e}));i(s.updateMany(t))}break}case"requestChatListByRange":{var m,g,y,h;const e=null!==(m=null==c||null===(g=c.data)||void 0===g?void 0:g.getChatListRes)&&void 0!==m?m:[],t=null!==(y=null==c||null===(h=c.data)||void 0===h?void 0:h.hasMoreChatsToLoad)&&void 0!==y&&y;if(e.length>0){const t=e.map(e=>B(B({},e),{},{_id:e._serialized}));i(o.upsertMany(t)),i(d())}i(T.$.setHasMoreChatsToLoad(t)),i(o.setItemsLoading(!1)),i(o.setItemsLoadedLocaly(!0));break}case"requestPaginatedMessages":{var v,f,b,k;const e=null!==(v=null==c||null===(f=c.data)||void 0===f?void 0:f.getPaginatedMessagesRes)&&void 0!==v?v:[],t=null!==(b=null==c||null===(k=c.data)||void 0===k?void 0:k.hasMoreMessagesToLoad)&&void 0!==b&&b;if(e.length>0){const t=e.map(e=>{var t;return B(B({},e),{},{_id:null===(t=e.id)||void 0===t?void 0:t._serialized})});i(l.upsertMany(t))}i(T.$.setHasMoreMsgsToLoad(t)),i(l.setItemsLoading(!1)),i(l.setItemsLoadedLocaly(!0));break}case"requestMessageMedia":{var w,x,D,I;const e=null!==(w=null==c||null===(x=c.data)||void 0===x?void 0:x.getMessageMediaRes)&&void 0!==w?w:null,t=null!==(D=null==c||null===(I=c.data)||void 0===I?void 0:I.msgId)&&void 0!==D?D:null;null!=e&&e.mediaUrl&&t?i(l.updateOne({id:t,changes:{body:e.mediaUrl,filename:e.fileName,filesize:e.fileSize,mimetype:e.fileType,mediaStatus:"loaded"}})):t&&i(l.updateOne({id:t,changes:{mediaStatus:"error"}}));break}case"requestChatById":{var A,S;const e=null!==(A=null==c||null===(S=c.data)||void 0===S?void 0:S.getChatByIdRes)&&void 0!==A?A:null;if(e){const t=B(B({},e),{},{_id:e._serialized});i(o.upsertOne(t)),i(d())}break}case"requestContactsAndChatsBySearch":{var O,C,M,_;const e=null!==(O=null==c||null===(C=c.data)||void 0===C||null===(C=C.getContactsAndChatsBySearchRes)||void 0===C||null===(C=C.data)||void 0===C?void 0:C.contacts)&&void 0!==O?O:[],t=null!==(M=null==c||null===(_=c.data)||void 0===_||null===(_=_.getContactsAndChatsBySearchRes)||void 0===_||null===(_=_.data)||void 0===_?void 0:_.chats)&&void 0!==M?M:[];if(t.length>0){const e=t.map(e=>B(B({},e),{},{_id:e._serialized}));i(o.setAll(e)),i(d())}i(T.$.setFilteredChatAndContactList({contacts:e,searchResponseStatus:"received"})),i(o.setItemsLoading(!1)),i(o.setItemsLoadedLocaly(!0));break}case"requestWaMeInfo":{var P,R,E;const e=null!==(P=null==c||null===(R=c.data)||void 0===R?void 0:R.getWaMeInfoRes)&&void 0!==P?P:null;i(T.$.setWaSessionPhoneNumber(null==e||null===(E=e.wid)||void 0===E?void 0:E._serialized));break}}};function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var N=a(81303);const F=["id"];function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach(function(t){(0,i.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const V=(0,o.zD)("initAppData",async(e,t)=>{var a;const{dispatch:n,getState:i}=t;if(null!==(a=i().MainReducer)&&void 0!==a&&a.settings)return;const s=await n(Jt.initiate()).unwrap();n(r.L.setFreeLimits(s.freeLimits)),n((0,p.oc)(s))}),W=(0,l.cw)({baseUrl:s.U.API_ENDPOINT,prepareHeaders:(e,t)=>{let{getState:a,endpoint:n}=t;const i=a().UserReducer,r=new URLSearchParams(window.location.search).get("supportedUserId"),s=new URLSearchParams(window.location.search).get("workspaceId");"importExcelToBoard"!==n&&"createAndDeleteAutomation"!==n&&e.set("Content-Type","application/json"),null!=i&&i.accessToken&&e.set("Authorization","Bearer ".concat(i.accessToken)),null!=i&&i.socketId&&e.set("Socket",i.socketId),r&&e.set("supportedUserId",r),s&&e.set("supportedWorkSpaceId",s);try{const t=N.MQTTSubscriber.getInstance(),a=t.getCurrentClientId(),n=t.getCurrentClientType()||(0,f.yS)();a&&e.set("X-Client-Id",a),n&&e.set("X-Client-Type",n)}catch(e){}return e}}),Q=(0,d.xP)({reducerPath:"backendApi",tagTypes:["user-messages","templates","lists","contacts","labels","tasks-extra-data","tasks","task-groups","boards","message-log","campaigns"],keepUnusedDataFor:1,baseQuery:W,endpoints:e=>U(U(U({},(e=>({requestRecycle:e.mutation({query:e=>({url:"actions",method:"POST",body:L({cmd:"recycle-request"},e)})}),restoreRequest:e.mutation({query:e=>({url:"actions",method:"POST",body:L({cmd:"restore-request"},e)})})}))(e)),(e=>({createIntent:e.mutation({query:e=>({url:"actions",method:"POST",body:E({cmd:"chargebee.createIntent"},e)})}),createEstimate:e.mutation({query:e=>({url:"actions",method:"POST",body:E({cmd:"chargebee.createEstimate"},e)})}),finalizePurchase:e.mutation({query:e=>({url:"actions",method:"POST",body:E({cmd:"chargebee.finalizePurchase"},e)})}),getAddOns:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"chargebee.getAddOns"}})})}))(e)),{},{authenticate:e.mutation({query:e=>({url:"authentication",method:"POST",body:e}),async onQueryStarted(e,t){await(async(e,t)=>{let{dispatch:n,queryFulfilled:i,getState:r}=t;const s=(null==e?void 0:e.strategy)||"unknown",o="auth:".concat(s);if(!_.has(o)){_.add(o);try{var l,d,c;const{DBBoardsThunks:t,DBSessionThunks:s,DBSubscriptionThunks:o,DBUserThunks:S,UserReducerActions:M}=await Promise.resolve().then(a.bind(a,36596));let _;try{_=await i}catch(e){try{n((0,g.po)("idle"))}catch(e){}return}const P=_.data.user;try{var u;const t=null===(u=_)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.accessToken;k.authService.persistToken(t),n(g.oN.actions.setUserAndCredentials({user:P,accessToken:t}));try{var p,h;const t="jwt"===(null!==(p=null===(h=_)||void 0===h||null===(h=h.data)||void 0===h||null===(h=h.authentication)||void 0===h?void 0:h.strategy)&&void 0!==p?p:null==e?void 0:e.strategy)?"autoJwtSuccess":"userLoginSuccess";n((0,g.po)(t))}catch(e){}}catch(e){}null!==(l=window)&&void 0!==l&&l.clarity&&window.clarity("identify",P.email),await n((0,y.HP)());const R=B(B({id:_.data.user._id},_.data.user),{},{impersonating:null===(d=_.data)||void 0===d||null===(d=d.authentication)||void 0===d||null===(d=d.payload)||void 0===d?void 0:d.impersonating});if(n(M.upsertOne(R)),(0,f.B2)()||(0,w.wp)(_.data.user.isDarkMode),n(g.oN.actions.setUserDirection(void 0!==_.data.user.direction?_.data.user.direction:"ltr")),window.location.href.includes("web.whatsapp.com")||document.body.setAttribute("dir",void 0!==_.data.user.direction?_.data.user.direction:"ltr"),n((0,I.je)(!0)),n((0,D.D0)({accessToken:_.data.accessToken})),(0,f.xP)()){const e=new C(window.location.href).searchParams.get("emailConfirm");e&&e===(null==P?void 0:P.emailConfirmationToken)&&(n(S.patch({entity:{_id:P._id,isEmailConfirmed:!0,emailConfirmationToken:null}})),n(m.fF.setComponentToRender(m.Cv.EMAIL_CONFIRMATION_THANKS)))}const E=(await n(o.find({}))).payload;n((0,y.Lt)(E)),(new A.c).setAuthenticatedUser(P,E);const j=r();if(j){var T;const e=(0,x.X_)(j),t=(null==e||null===(T=e.planType)||void 0===T?void 0:T.toLowerCase())||"free";(0,b.bZ)({type:"authenticated_user",source:(0,f.B2)()?"extension":/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"web_app",plan_type:t})}await n(v({workspaceId:null==P||null===(c=P.currentWorkspace)||void 0===c?void 0:c.toString()})),n(s.find({})),(0,f.r0)()&&(n((0,y.Ys)()),n((0,y.SS)()),n(t.find({isWABoard:!0})),n(V()));try{await O(P,n)}catch(e){}}finally{_.delete(o)}}})(e,t)}}),processDocument:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"knowledge-base.processDocument"},e)})}),register:e.mutation({query:e=>({url:"users",method:"POST",body:U(U({},e),{},{cmd:"register"})}),async onQueryStarted(e,t){let{dispatch:a,queryFulfilled:n,getState:i}=t;try{await n;await a(Bt.initiate({strategy:"local",email:e.email,password:e.password}))}catch(e){}}}),sendResetPassword:e.mutation({query:e=>({url:"authManagement",method:"POST",body:{action:"sendResetPwd",value:{email:e}}})}),resetPassword:e.mutation({query:e=>({url:"authManagement",method:"POST",body:{action:"resetPwdLong",value:U({},e)}})}),changePassword:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"change-password"},e)})}),getSettings:e.mutation({query:e=>({url:"actions?cmd=get-settings",method:"POST",body:{cmd:"get-settings"}})}),generateUploadUrl:e.mutation({transformResponse:(e,t,a)=>U(U({},e),{},{mediaId:a}),query:()=>({url:"actions",method:"POST",body:{cmd:"generate-upload-url"}})}),cancelSubscription:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"cancelSubscription",subscriptionID:e.subscriptionID,reason:e.reason}})}),addUserToTaskGroup:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"add-participant-task-group",shareId:e}})}),canISend:e.mutation({query:e=>({url:"actions?cmd=can-i-send",method:"POST",body:{messageId:e}})}),addNewBoardMemberApi:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"add-new-board-member",newMemberEmail:e}})}),nextCampaignMessage:e.mutation({query:e=>({url:"actions?cmd=next-campaign-message",method:"POST",body:{campaignId:e}})}),getInProgressCampaigns:e.mutation({query:()=>({url:"actions?cmd=get-in-progress-campaigns",method:"POST"})}),getScheduledMessagesInRedis:e.query({query:e=>({url:"actions?cmd=get-scheduled-messages-in-redis",method:"POST",body:{campaignId:e}})}),btWaCommRequest:e.mutation({query:e=>({url:"actions?cmd=bt-wa-communication-rest-api-request",method:"POST",body:e}),onQueryStarted:P}),waMessageListenerEvent:e.mutation({query:e=>({url:"actions?cmd=wa-message-listener-event",method:"POST",body:e})}),duplicateAudienceBoardForCampaigns:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"duplicate-audience-board-for-campaigns",oldBoardId:e}})}),duplicateTemplateForCampaigns:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"duplicate-template-for-campaigns",oldTemplateId:e}})}),removeAllPendingUserMessagesByCampaignId:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"remove-all-pending-user-messages-by-campaignId",campaignId:e}})}),resumeCampaign:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"resume-campaign",campaignId:e}})}),deleteCampaign:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"delete-campaign",campaignId:e}})}),orderDetails:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"order-details",subscriptionId:e}})}),getUserPaymentParams:e.mutation({query:e=>{let{productId:t}=e;return{url:"actions",method:"POST",body:{cmd:"user-payment-params",productId:t}}}}),getPlanMap:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"plan-map"}})}),changePlan:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"change-plan"},e)})}),completePurchase:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"complete-purchase"},e)}),transformResponse:(e,t)=>{var a;const n=!!e.error||!!e.message,[i]=null!==(a=e.message)&&void 0!==a?a:[];return{changeSuccessful:!n,message:null==i?void 0:i.description}}}),getPaymentFieldToken:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"payment-fields-token"}})}),calculateCart:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"get-cart-price"},e)}),transformResponse:(e,t,a)=>U(U({},e),a)}),getWorkspaceInvoices:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"get-workspace-invoices"}})}),getInvoice:e.mutation({query:e=>{let{invoiceId:t}=e;return{url:"actions",method:"POST",body:{cmd:"get-invoice",invoiceId:t}}}}),getShopperInfo:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"get-shopper-info"},e&&{subscriptionId:e.subscriptionId})}),transformResponse:e=>null!=e&&e.error?void 0:e}),getPaypalPaymentUrl:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"get-paypal-payment-url"},e)}),transformResponse:(e,t,a)=>U(U({},e),a)}),getCheckoutPageUrl:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"chargebee.getCheckoutPage"},e)})}),cancelActiveSubscription:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"chargebee.cancelActiveSubscription"}})}),getPortalSessionUrl:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"chargebee.getPortalSessionUrl"}})}),updateShopperInfo:e.mutation({query:e=>{let{shopperInfo:t}=e;return{url:"actions",method:"POST",body:{cmd:"update-shopper-info",shopperInfo:t}}}}),getEmailWorkspaces:e.mutation({query:e=>{let{email:t}=e;return{url:"actions",method:"POST",body:{cmd:"get-user-workspaces",email:t}}}}),updateSubscriptionWorkspace:e.mutation({query:e=>{let{workspaceId:t,subscriptionId:a}=e;return{url:"actions",method:"POST",body:{cmd:"update-subscription-workspace",workspaceId:t,subscriptionId:a}}}}),getSignedUploadUrl:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"signed-upload-url"},"string"==typeof e?{contentType:e}:e)})}),getEntity:e.query({query:e=>{let{service:t,_id:a}=e;return{url:"".concat(t,"/").concat(a),method:"GET"}}}),findEntity:e.query({query:e=>{let{service:t,query:a}=e,n=t;return a&&(n+="/?".concat(u().stringify(a))),{url:n,method:"GET"}}}),sendAwsEmail:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"send-aws-email-to-email"},e)})}),sendAwsEmailToSubscriber:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"send-aws-email-to-subscriber"},e)})}),sendEmailFromClient:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"send-email-from-client"},e)})}),unsubscribeFromListmonk:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"unsubscribe-from-listmonk"},e)})}),getTotalCount:e.query({query:e=>{let{service:t}=e,a=t;return a+="/?".concat(u().stringify({$limit:0})),{url:a,method:"GET"}},transformResponse:e=>e.total}),createEntity:e.mutation({query:e=>{let{service:t,entity:a}=e;return{url:"".concat(t),method:"POST",body:a}}}),patchEntity:e.mutation({query:e=>{let{service:t,entity:a}=e;return{url:"".concat(t,"/").concat(a._id),method:"PATCH",body:a}}}),deleteEntity:e.mutation({query:e=>{let{service:t,entity:a}=e;return{url:"".concat(t,"/").concat(a._id),method:"DELETE",body:a}}}),updateManyEntities:e.mutation({query:e=>{let{service:t,entities:a}=e;return{url:"actions?cmd=update-many-entities",method:"POST",body:{cmd:"update-many-entities",service:t,entities:a}}}}),createManyEntities:e.mutation({query:e=>{let{service:t,entities:a}=e;return{url:"actions?cmd=create-many-entities",method:"POST",body:{cmd:"create-many-entities",service:t,entities:a}}}}),addExistingWorkspaceUserToBoard:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"add-existing-workspace-user-to-board"},e)})}),addNonExistingWorkspaceUserToBoard:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"add-non-existing-workspace-user-to-board",boardId:e.boardId,email:e.email,role:e.role}})}),resendBoardInvitation:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"resend-board-invitation",boardId:e.boardId,boardUserId:e.boardUserId,email:e.email}})}),sendAddToWorkspace:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"send-add-to-workspace",value:{email:e}}})}),importExcelToBoard:e.mutation({query:e=>{const t=new FormData;return t.append("cmd","import-excel"),t.append("boardId",e.boardId),t.append("selectedColumn",e.selectedColumn),t.append("importDataMapping",JSON.stringify(e.importDataMapping)),t.append("sheetName",JSON.stringify(e.sheetName)),t.append("importFileName",JSON.stringify(e.importFileName)),t.append("file",e.file),{url:"actions",method:"POST",body:t}}}),initialStep:e.mutation({query:e=>({url:"/analytics",method:"POST",body:e})}),getNextStep:e.mutation({query:e=>({url:"/analytics",method:"POST",body:e})}),acceptWorkspaceInvention:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"accept-workspace-invention"},e)})}),acceptBoardInvention:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"accept-board-invention",boardId:e.boardId},e)})}),getLinkPreview:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"link-preview"},e)})}),createAndDeleteAutomation:e.mutation({query:e=>{const t=new FormData;return t.append("cmd","automation"),t.append("automationDetails",JSON.stringify(e.combined)),t.append("automationId",JSON.stringify(e.automationId)),{url:"actions",method:"POST",body:t}}}),checkSession:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"check-session"}})}),createUserSession:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"create-session"}})}),duplicateGroup:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"duplicate-group"},e)})}),generateApiKey:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"generate-api-key"},e)})}),getArchivedOrDeletedData:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"get-archived-or-deleted-data"},e)})}),restoreItems:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"restore-items"},e)})}),deleteItems:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"delete-items"},e)})}),getMyWork:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"get-my-work"},e)})}),confirmEmail:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"send-email-confirmation"},e)})}),startOrExtendTrial:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"start-or-extend-trial"},e)})}),triggerBulkMigrationAction:e.mutation({query:()=>({url:"actions?cmd=trigger-bulk-migration",method:"POST"})}),triggerBackendChatbotEvent:e.mutation({query:e=>({url:"actions?cmd=handle-chatbot-event",method:"POST",body:U(U({},e),{},{data:U(U({},e.data),{},{triggerSource:"blueticks extension"})})})}),updateChargeDate:e.mutation({query:e=>({url:"backoffice-actions",method:"POST",body:{cmd:"updateChargeDate",subscriptionId:e.subscriptionId,nextChargeDate:e.nextChargeDate}})}),getItemPrices:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"chargebee.getItemPrices"}})}),getWaMessagesAckDataByWaMessagesKeys:e.mutation({query:e=>({url:"/actions",method:"POST",body:{cmd:"whatsapp-interface.getWaMessagesAckDataByWaMessagesKeys",params:e}})}),getMessageInfo:e.mutation({query:e=>({url:"/actions",method:"POST",body:{cmd:"whatsapp-interface.getMessageInfo",params:e}})}),getEntitlements:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"chargebee.getEntitlements"}})}),associateSubscription:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"chargebee.associateSubscription"},e)})}),queryKnowledgeBase:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"knowledge-base.query"},e)})}),getFacebookPages:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"facebook.getPages"}})}),getCreditUsage:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"credits.getCreditUsage"},e)})}),calculateBotStats:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"calculate-bot-stats",botIds:e}}),async onQueryStarted(e,t){let{dispatch:a,queryFulfilled:n}=t;try{const{data:e}=await n;e&&Array.isArray(e)&&e.forEach(e=>{e._id&&e.botStats&&a({type:"bot/updateOne",payload:{id:e._id,changes:{botStats:e.botStats}}})})}catch(e){}}}),queryAndAnswer:e.mutation({query:e=>({url:"/actions",method:"POST",body:U({cmd:"knowledge-base.queryAndAnswer"},e)})}),subscribeToPageMessaging:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"instagram.subscribeToPageMessaging"},e)})}),unsubscribeFromPageMessaging:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"instagram.unsubscribeFromPageMessaging"},e)})}),getAuthTokens:e.query({query:()=>({url:"auth-tokens",method:"GET"}),transformResponse:e=>e&&e.data?e.data:e}),deleteAuthToken:e.mutation({query:e=>({url:"auth-tokens/".concat(e),method:"DELETE"}),invalidatesTags:[{type:"AuthTokens",id:"LIST"}]}),revokeToken:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"instagram.revokeToken"},e)}),invalidatesTags:["Instagram"]}),refreshToken:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"instagram.refreshToken"},e)}),invalidatesTags:[{type:"AuthTokens",id:"LIST"}]}),validateFacebookToken:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"facebook.validateToken"}})}),getDashboardOverviewStats:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"dashboard.getOverviewStats"}})}),getNodeTypeDistribution:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"dashboard.getNodeTypeDistribution"}})}),getAdvancedFeatureAdoption:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"dashboard.getAdvancedFeatureAdoption"}})}),getKnowledgeBaseAdoption:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"dashboard.getKnowledgeBaseAdoption"}})}),getAllDashboardStats:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"dashboard.getAllStats"}})}),getBotList:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"dashboard.getBotList"}})}),sendInstagramMessage:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"instagram.sendMessage",data:e}}),invalidatesTags:[]}),findSessionsByNodeEvent:e.query({query:e=>({url:"actions",method:"POST",body:U({cmd:"session.findSessionsByNodeEvent"},e)})}),getAllSessions:e.query({query:e=>({url:"actions",method:"POST",body:U({cmd:"dashboard.getAllSessions"},e)})}),createSession:e.mutation({query:e=>({url:"sessions",method:"POST",body:e}),invalidatesTags:["Session"]}),updateSession:e.mutation({query:e=>{let{id:t}=e,a=(0,n.A)(e,F);return{url:"sessions/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Session"]}),removeSession:e.mutation({query:e=>({url:"sessions/".concat(e),method:"DELETE"}),invalidatesTags:["Session"]}),createK8sEngine:e.mutation({query:e=>{let{sessionId:t,engineConfig:a}=e;return{url:"k8s-engine-manager",method:"POST",body:U({sessionId:t,action:"create"},a&&{engineConfig:a})}},invalidatesTags:["Session"]}),deleteK8sEngine:e.mutation({query:e=>({url:"k8s-engine-manager/".concat(e),method:"DELETE"}),invalidatesTags:["Session"]}),restartK8sEngine:e.mutation({query:e=>({url:"k8s-engine-manager",method:"POST",body:{sessionId:e,action:"restart"}}),invalidatesTags:["Session"]}),getK8sEngineStatus:e.query({query:e=>({url:"k8s-engine-manager/".concat(e),method:"GET"})}),listK8sEngines:e.query({query:()=>({url:"k8s-engine-manager",method:"GET"})}),getConnectedClients:e.mutation({query:()=>({url:"actions",method:"POST",body:{cmd:"emqx.getConnectedClients"}})}),generateSupportedUserToken:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"dashboard.generateSupportedUserToken",supportedUserId:e.supportedUserId}})}),getUserConnectedClients:e.mutation({query:e=>({url:"actions",method:"POST",body:{cmd:"emqx.getUserConnectedClients",userId:e.userId}})}),refundClient:e.mutation({query:e=>({url:"backoffice-actions",method:"POST",body:U({cmd:"refund-client"},e)})}),syncUserData:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"sync-user-data"},e)})}),deleteUserAccount:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"delete-user-account"},e)})}),getEngineChats:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"engine:get-chats"},e)})}),getEngineChatMessages:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"engine:get-chat-messages"},e)})}),getEngineChatDetails:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"engine:get-chat-details"},e)})}),searchEngineMessages:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"engine:search-messages"},e)})}),getEngineStatus:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"engine:get-status"},e)})}),pingEngine:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"engine:ping"},e)})}),getUnloggedWaMessageKey:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"engine:get-unlogged-wa-message-key"},e)})}),assignWorkspaceUserInviteId:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"assign-workspace-user-invite-id"},e)})}),subscribeToFCMTopic:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"subscribe-to-fcm-topic"},e)})}),retryMessage:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"retry-message"},e)})}),retryMessagesBatch:e.mutation({query:e=>({url:"actions",method:"POST",body:U({cmd:"retry-messages-batch"},e)})})})}),{useGetSignedUploadUrlMutation:G,useAuthenticateMutation:q,useRegisterMutation:H,useGenerateUploadUrlMutation:K,useGetEntityQuery:X,usePatchEntityMutation:Y,useSendResetPasswordMutation:Z,useResetPasswordMutation:J,useChangePasswordMutation:$,useCancelSubscriptionMutation:ee,useAddUserToTaskGroupMutation:te,useAddNewBoardMemberApiMutation:ae,useFindEntityQuery:ne,useGetTotalCountQuery:ie,useUnsubscribeFromListmonkMutation:re,useCreateEntityMutation:se,useAddExistingWorkspaceUserToBoardMutation:oe,useAddNonExistingWorkspaceUserToBoardMutation:le,useResendBoardInvitationMutation:de,useSendAddToWorkspaceMutation:ce,useAcceptWorkspaceInventionMutation:ue,useAcceptBoardInventionMutation:pe,useGetLinkPreviewMutation:me,useDuplicateGroupMutation:ge,useOrderDetailsMutation:ye,useGetUserPaymentParamsMutation:he,useGetPlanMapMutation:ve,useGetPaymentFieldTokenMutation:fe,useChangePlanMutation:be,useCompletePurchaseMutation:ke,useCalculateCartMutation:we,useGetWorkspaceInvoicesMutation:xe,useGetInvoiceMutation:De,useGetShopperInfoMutation:Ie,useGetPaypalPaymentUrlMutation:Ae,useUpdateShopperInfoMutation:Te,useImportExcelToBoardMutation:Se,useInitialStepMutation:Oe,useGetNextStepMutation:Ce,useGetMyWorkMutation:Me,useConfirmEmailMutation:Be,useStartOrExtendTrialMutation:_e,useGenerateApiKeyMutation:Pe,useCreateAndDeleteAutomationMutation:Re,useTriggerBulkMigrationActionMutation:Ee,useGetEmailWorkspacesMutation:je,useUpdateSubscriptionWorkspaceMutation:Le,useGetCheckoutPageUrlMutation:Ne,useGetItemPricesMutation:Fe,useGetScheduledMessagesInRedisQuery:ze,useGetEntitlementsMutation:Ue,useProcessDocumentMutation:Ve,useQueryKnowledgeBaseMutation:We,useQueryAndAnswerMutation:Qe,useGetFacebookPagesMutation:Ge,useGetWaMessagesAckDataByWaMessagesKeysMutation:qe,useGetMessageInfoMutation:He,useGetCreditUsageMutation:Ke,useCalculateBotStatsMutation:Xe,useSendEmailFromClientMutation:Ye,useSubscribeToPageMessagingMutation:Ze,useUnsubscribeFromPageMessagingMutation:Je,useGetAuthTokensQuery:$e,useDeleteAuthTokenMutation:et,useRevokeTokenMutation:tt,useRefreshTokenMutation:at,useValidateFacebookTokenMutation:nt,useGetDashboardOverviewStatsMutation:it,useGetNodeTypeDistributionMutation:rt,useGetAdvancedFeatureAdoptionMutation:st,useGetKnowledgeBaseAdoptionMutation:ot,useGetAllDashboardStatsMutation:lt,useGetBotListMutation:dt,useSendInstagramMessageMutation:ct,useFindSessionsByNodeEventQuery:ut,useGetAllSessionsQuery:pt,useGetConnectedClientsMutation:mt,useGenerateSupportedUserTokenMutation:gt,useGetUserConnectedClientsMutation:yt,useDeleteUserAccountMutation:ht,useGetEngineChatsMutation:vt,useGetEngineChatMessagesMutation:ft,useGetEngineChatDetailsMutation:bt,useSearchEngineMessagesMutation:kt,useGetEngineStatusMutation:wt,usePingEngineMutation:xt,useGetUnloggedWaMessageKeyMutation:Dt,useAssignWorkspaceUserInviteIdMutation:It,useSubscribeToFCMTopicMutation:At,useRetryMessageMutation:Tt,useRetryMessagesBatchMutation:St}=Q,{addExistingWorkspaceUserToBoard:Ot,addNonExistingWorkspaceUserToBoard:Ct,resendBoardInvitation:Mt,authenticate:Bt,getEntity:_t,findEntity:Pt,getTotalCount:Rt,unsubscribeFromListmonk:Et,createEntity:jt,createManyEntities:Lt,patchEntity:Nt,deleteEntity:Ft,deleteCampaign:zt,resumeCampaign:Ut,nextCampaignMessage:Vt,getInProgressCampaigns:Wt,getScheduledMessagesInRedis:Qt,duplicateAudienceBoardForCampaigns:Gt,duplicateTemplateForCampaigns:qt,removeAllPendingUserMessagesByCampaignId:Ht,updateManyEntities:Kt,changePlan:Xt,cancelSubscription:Yt,updateChargeDate:Zt,getSettings:Jt,createAndDeleteAutomation:$t,checkSession:ea,createUserSession:ta,getArchivedOrDeletedData:aa,restoreItems:na,deleteItems:ia,getMyWork:ra,triggerBulkMigrationAction:sa,btWaCommRequest:oa,waMessageListenerEvent:la,syncUserData:da,refundClient:ca,canISend:ua,updateShopperInfo:pa,getShopperInfo:ma,getCheckoutPageUrl:ga,triggerBackendChatbotEvent:ya,processDocument:ha,queryKnowledgeBase:va,queryAndAnswer:fa,getFacebookPages:ba,getWaMessagesAckDataByWaMessagesKeys:ka,getMessageInfo:wa,getCreditUsage:xa,calculateBotStats:Da,sendEmailFromClient:Ia,subscribeToPageMessaging:Aa,unsubscribeFromPageMessaging:Ta,revokeToken:Sa,refreshToken:Oa,validateFacebookToken:Ca,getDashboardOverviewStats:Ma,getNodeTypeDistribution:Ba,getAdvancedFeatureAdoption:_a,getKnowledgeBaseAdoption:Pa,getAllDashboardStats:Ra,getBotList:Ea,sendInstagramMessage:ja,findSessionsByNodeEvent:La,getAllSessions:Na,createSession:Fa,updateSession:za,removeSession:Ua,createK8sEngine:Va,deleteK8sEngine:Wa,restartK8sEngine:Qa,getK8sEngineStatus:Ga,listK8sEngines:qa,getConnectedClients:Ha,generateSupportedUserToken:Ka,getUserConnectedClients:Xa,deleteUserAccount:Ya,getEngineChats:Za,getEngineChatMessages:Ja,getEngineChatDetails:$a,searchEngineMessages:en,getEngineStatus:tn,pingEngine:an,getUnloggedWaMessageKey:nn,assignWorkspaceUserInviteId:rn,retryMessage:sn,retryMessagesBatch:on}=Q.endpoints,ln=Q.endpoints,dn=Q.middleware,cn=Q.reducer},93188:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(64467);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}let r={};try{r=a(19636).appConfigLocal}catch(e){}const s=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({DEFAULT_TITLE:"Blueticks",asset_key:"blueticks",google_client_id:"143723739146-oa75527ckplc3kb9nk8q41redtoq6t18.apps.googleusercontent.com",GTM_ID:"",GA_ID:"G-RCEGPEQEZ5",CLARITY_ID:"",TIKTOK_ID:"",CRISP_ID:"f317863d-feb0-4f63-9ae2-fb8280d54a53",FB_PIXEL_ID:"",AW_ID:"",WS_ID:"",HJ_ID:0,HJ_SV:0,pricingOptions:"extension",EXTENTION_ID:"faalgfonbpmhjboamhgopbjnbolehpcl",API_ENDPOINT:"http://localhost:3310",APP_ENDPOINT:"http://localhost:3000",VZNLYTICS_ENDPOINT:"https://analytics.blueticks.co",GATEWAY_ENDPOINT:"http://localhost:3001",NOTIFIER_ENDPOINT:"http://localhost:3310",PRICING_PAGE:"http://localhost:3000",HOMEPAGE:"https://blueticks.co",LOGO:"/img/tudu-logo.svg",LOGO2:"/img/tudo-logo-icon.svg",PAYPAL_CLIENT_ID:"ARQG3WFWCo5c_cl0idcg5fPastyJNcC3Gpzgh-7y7wHqliqw8heanLqZZLDQK-JNc5Bt2tHNJUkVx5pC",ENV:"dev",BLUESNAP_ENDPOINT:"https://sandbox.bluesnap.com",BLUESNAP_STORE_ID:"296929",BLUESNAP_REDIRECT_ENC:"qOU7VjlOZpEXrX8r1i62voZwKP3M6kkP%2Br1vzvsSupdiE0Qg2F3CyOGQycNZgCn8K%2Fiy2kZ%2BIvFADXUZTrmv3PI4fjyTt8EwZwOPRxwLX1QmAv5wdoRog4pA4aYqzoCxhfs1hP7gmhsxfqUumgZTT7vPVFc44W6Y45Y4AkQkilLhQKTU05HCFjx8eh30pkIzYgQYco52LMwbGjdPK%2FNJ6TC43C8TZTPnUSjELG7cJNyPc91K8YHmJqVijKcmtkWq",extensionStoreLink:"https://chrome.google.com/webstore/detail/blueticks/adgnjhngogijkkppficiiepmjebijinl",MQTT_BROKER_URL:"wss://stg-mqtt.blueticks.co:443/mqtt"},r)},94303:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,S:()=>i});const n=(0,a(30038).Z0)({name:"pickerDialog",initialState:{isEditModeOptions:!1,activeGroupId:"",componentIdsForCleanup:[]},reducers:{closePickerDialog(e){e.pickerAnchorId="",e.pickerProps=null},togglePicker(e,t){let{type:a,payload:n}=t;e.pickerAnchorId===n.pickerAnchorId?(e.pickerAnchorId="",e.pickerProps=null):(e.pickerAnchorId=n.pickerAnchorId,e.pickerProps=n.pickerProps),e.pickerChangeIndicator=Date.now()},setPickerTypeAndId(e,t){let{type:a,payload:n}=t;e.pickerAnchorId=n.pickerAnchorId,e.pickerProps=n.pickerProps},setEditModeOptions(e,t){e.isEditModeOptions=t.payload},setActiveGroupId(e,t){e.activeGroupId=t.payload},registerComponentForCleanup:(e,t)=>{e.componentIdsForCleanup.push(t.payload)},unregisterComponentForCleanup:(e,t)=>{e.componentIdsForCleanup=e.componentIdsForCleanup.filter(e=>e!==t.payload)}}}),i=n.actions,r=n.reducer},95287:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>u});var n=a(30038);const i={updateAvailable:!1,currentVersion:(0,a(87435).B2)()&&chrome.runtime.getManifest?chrome.runtime.getManifest().version:"",newVersion:null,modalDismissed:!1,lastChecked:null,isCheckingForUpdate:!1},r=(0,n.Z0)({name:"updateNotification",initialState:i,reducers:{setUpdateAvailable:(e,t)=>{e.updateAvailable=!0,e.currentVersion=t.payload.currentVersion,e.newVersion=t.payload.newVersion,e.modalDismissed=!1,e.lastChecked=Date.now()},dismissUpdateModal:e=>{e.modalDismissed=!0},clearUpdateNotification:e=>{e.updateAvailable=!1,e.newVersion=null,e.modalDismissed=!1},setCheckingForUpdate:(e,t)=>{e.isCheckingForUpdate=t.payload},updateLastChecked:e=>{e.lastChecked=Date.now()}}}),{setUpdateAvailable:s,dismissUpdateModal:o,clearUpdateNotification:l,setCheckingForUpdate:d,updateLastChecked:c}=r.actions,u=r.reducer},97190:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});const n=(0,a(30038).Z0)({name:"workspace",initialState:{selectedWorkspaceId:"",workSpaceUsersFilter:"",userTypeFilter:{owner:!1,member:!1,guest:!1},userStatusFilter:{pending:!1,active:!1,disabled:!1}},reducers:{setSelectedWorkspaceId(e,t){let{type:a,payload:n}=t;e.selectedWorkspaceId=n},setWorkSpaceUsersFilter(e,t){let{type:a,payload:n}=t;e.workSpaceUsersFilter=n},setUserTypeFilter(e,t){const{type:a,value:n}=t.payload;e.userTypeFilter[a]=n},setUserStatusFilter(e,t){const{status:a,value:n}=t.payload;e.userStatusFilter[a]=n}}}),i=(n.actions,n.reducer)},97424:(e,t,a)=>{"use strict";a.d(t,{PX:()=>h,Wu:()=>y,_r:()=>x,et:()=>D,ey:()=>I,fJ:()=>T,sw:()=>g,uy:()=>f,wE:()=>w,xd:()=>v,zV:()=>b});var n=a(64467),i=a(12239),r=a(1081),s=a(87951),o=a(87435),l=a(95093),d=a.n(l),c=a(63210),u=a(36596);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(0,r.Mz)(e=>e,e=>!e.DBBoardsReducer.itemsLoaded);const g=(0,r.Mz)([e=>e.DBBoardsReducer,e=>e.BoardsReducer,(e,t)=>t,e=>e.TasksReducer.isTasksPanelOpen,e=>e.WhatsAppReducer.me],(e,t,a,n,i)=>{let r=null;if((0,o.r0)()&&a&&n){let t;var s,l,d;if(a.isGroup)t=[null==a||null===(s=a.id)||void 0===s?void 0:s._serialized];else t=[null==a||null===(l=a.id)||void 0===l?void 0:l._serialized,null==i||null===(d=i.id)||void 0===d?void 0:d._serialized].filter(Boolean);const n=(0,u.Ha2)(e,{_IdByWaChatIds:{$all:t}});n.length>=1&&(r=n[0]),n.length}else null!=t&&t.selectedBoardId&&(r=(0,u.nsz)(e,t.selectedBoardId));return r}),y=((0,r.Mz)([e=>e],e=>{let t,a=!1;const n=e.WhatsAppReducer.currentChat;if((0,o.r0)()&&n){let o;const l=e.WhatsAppReducer.me;var i,r,s;if(n.isGroup)o=[null==n||null===(i=n.id)||void 0===i?void 0:i._serialized];else o=[null==n||null===(r=n.id)||void 0===r?void 0:r._serialized,null==l||null===(s=l.id)||void 0===s?void 0:s._serialized].filter(Boolean);const d=(0,u.Ha2)(e.DBBoardsReducer,{_IdByWaChatIds:{$all:o}});d.length>=1&&(t=d[0],(0,u.qfk)(t._id)||(a=!0))}return a}),(0,r.Mz)(e=>e,e=>{var t;return g(e,null===(t=e.WhatsAppReducer)||void 0===t?void 0:t.currentChat)})),h=(0,r.Mz)(e=>y(e),e=>null==e?void 0:e._id),v=((0,r.Mz)([e=>y(e)],e=>void 0!==e),(0,r.Mz)([e=>y(e)],e=>{var t;return null!==(t=null==e?void 0:e.personList)&&void 0!==t?t:[]}),(0,r.Mz)([e=>y(e)],e=>{var t;return null!==(t=null==e?void 0:e._id)&&void 0!==t?t:""})),f=(0,r.Mz)([e=>e,v],(e,t)=>(0,u.u7r)(e.DBTaskColumnOptionReducer,{boardId:t,imageUrl:{$exists:!0}}).map(e=>{var t,a;const n=null!==(t=null===(a=e.label)||void 0===a?void 0:a.split(" "))&&void 0!==t?t:[],i=n[0],r=n.slice(1).join(" ");return{_id:e._id,status:"active",profile:{firstName:i,lastName:r,profileImg:e.imageUrl},type:"option"}})),b=(0,r.Mz)([e=>e],e=>{let t;return t="lean"===e.BoardsReducer.boardTheme?c.yD:c.Gc,t}),k=(0,r.Mz)([e=>e,(e,t)=>t?u._xB.selectById(e,t):y(e)],(e,t)=>{const a=(0,u.jKk)(e.DBBoardUserReducer,{boardId:null==t?void 0:t._id}),n=(0,u.WA)(e.DBWorkspaceUserReducer,{workspaceId:null==t?void 0:t.workspaceId});return a.map(e=>m(m({},e),{},{workspaceUser:n.find(t=>(null==t?void 0:t.userId)&&t.userId===e.userId||(null==t?void 0:t.email)&&t.email===e.email)}))}),w=(0,r.Mz)([e=>e.DBWorkspaceUserReducer,e=>(0,i.xu)(e)],(e,t)=>null!=t&&t.currentWorkspace?(0,u.WA)(e,{workspaceId:null==t?void 0:t.currentWorkspace}):[]),x=((0,r.Mz)([e=>e],e=>(0,u.jKk)(e.DBBoardUserReducer,{$or:[{deleted:{$exists:!1}},{deleted:!1}],status:"active"}).map(e=>m(m({},e.profile),{},{userId:e.userId}))),(0,r.Mz)([e=>e],e=>{var t;const a=null==e||null===(t=e.UserReducer)||void 0===t?void 0:t.userId,[n]=(0,u.jKk)(e.DBBoardUserReducer,{deleted:!1}).filter(e=>(null==e?void 0:e.userId)===a);return null==n?void 0:n._id}),(0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>(0,u.jKk)(e.DBBoardUserReducer,{deleted:!1}).filter(e=>t.includes(e.userId)).map(e=>e.profile)),(0,r.Mz)([(e,t)=>e,(e,t)=>t],(e,t)=>(0,u.jKk)(e.DBBoardUserReducer,{deleted:!1}).filter(e=>t.includes(e.userId)).map(e=>e.profile)),(0,r.Mz)([(e,t,a)=>e,(e,t,a)=>t,(e,t,a)=>a],(e,t,a)=>{let n;const i=(0,u.AhX)(e.DBTasksExtraDataReducer,{taskId:a,$or:[{deleted:{$exists:!1}},{deleted:!1}]},{isPinedToTop:-1,updatedAt:-1});return n=void 0!==t?i.filter(e=>e.parentItemId===t).sort((e,t)=>d()(e.updatedAt).diff(d()(t.updatedAt))):i.filter(e=>!e.parentItemId).sort((e,t)=>d()(t.updatedAt).diff(d()(e.updatedAt))),n.sort((e,t)=>e.isPinedToTop&&!t.isPinedToTop?-1:!e.isPinedToTop&&t.isPinedToTop?1:0),n}),(0,r.Mz)([w,e=>e],(e,t)=>{if(0===e.length)return[];const a=t.WorkspaceReducer.workSpaceUsersFilter,n=t.WorkspaceReducer.userTypeFilter,i=t.WorkspaceReducer.userStatusFilter,r=Object.values(n).some(e=>e),s=Object.values(i).some(e=>e);return e.filter(e=>{if((0,u.qfk)(e._id))return!1;const{firstName:t,lastName:o,email:l}=(null==e?void 0:e.profile)||{},d=t||o?[t,o,l]:[null==e?void 0:e.email],c=!a||d.some(e=>null==e?void 0:e.toLowerCase().includes(a.toLowerCase())),p=!r||n[null==e?void 0:e.role],m=!s||i[null==e?void 0:e.status];return c&&p&&m}).sort((e,t)=>"owner"===e.role&&"owner"!==t.role?-1:"owner"!==e.role&&"owner"===t.role?1:0)}),(0,r.Mz)([(e,t)=>(0,u.dsM)(e.DBKanbanReducer,t)],e=>e.map((e,t)=>[e._id,e.name])),(0,r.Mz)([(e,t)=>(0,u.wvC)(e.DBGanttReducer,t)],e=>e.map((e,t)=>[e._id,e.name])),(0,r.Mz)([e=>x(e)],e=>e),(0,s._)([(e,t)=>k(e,t),e=>f(e)],(e,t)=>[...e.map(e=>m(m({},e),{},{type:"user"})),...t])),D=((0,r.Mz)([e=>w(e),e=>k(e)],(e,t)=>e.filter(e=>"active"===e.status).filter(e=>!t.find(t=>e.userId===t.userId))),(0,r.Mz)([e=>w(e)],e=>e.filter(e=>"active"===e.status)),(0,r.Mz)(e=>e,e=>(0,i.NI)(e),e=>w(e),(e,t,a)=>a.filter(e=>"member"===(null==e?void 0:e.role)||"owner"===(null==e?void 0:e.role)).some(e=>e.userId===t._id)),(0,r.Mz)([e=>y(e)],e=>{var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""}),(e,t)=>{const a=e.DBBoardsReducer.entities[t];return a?a.titleIcon+a.name:""}),I=((0,r.Mz)([e=>y(e)],e=>null!==e),(0,r.Mz)([e=>y(e)],e=>null==e?void 0:e.isShareByLink),(0,r.Mz)([e=>y(e)],e=>null==e?void 0:e.kanbanId),(0,r.Mz)([e=>y(e)],e=>null==e?void 0:e.ganttId),(0,r.Mz)(e=>e,e=>{let t={$or:[{deleted:{$exists:!1}},{deleted:!1}]};e.BoardsReducer.boardsFilterName&&(t.name=new RegExp(e.BoardsReducer.boardsFilterName,"i"));return(0,u.Ha2)(e.DBBoardsReducer,t,["_id","name","titleIcon","owner","updatedAt","workspace"],{updatedAt:-1})}),(0,r.Mz)(e=>e,e=>{let t={$and:[{$or:[{archived:{$exists:!1}},{archived:!1}]}]};e.BoardsReducer.boardsFilterName&&(t.name=new RegExp(e.BoardsReducer.boardsFilterName,"i"));return(0,u.Ha2)(e.DBBoardsReducer,t,["_id","name","titleIcon","owner","updatedAt","workspace"],{updatedAt:-1})}),(0,r.Mz)(e=>e,e=>{let t={$or:[{deleted:{$exists:!1}},{deleted:!1}]};e.BoardsReducer.boardsFilterName&&(t.name=new RegExp(e.BoardsReducer.boardsFilterName,"i"));return(0,u.Ha2)(e.DBBoardsReducer,t,["_id","name","order","updatedAt"],{order:-1})}),(0,r.Mz)(e=>e,e=>(0,u.Ha2)(e.DBBoardsReducer,{},["_id","name","order","updatedAt"],{order:-1})),(0,r.Mz)(e=>e,e=>{let t={$or:[{deleted:{$exists:!1}},{deleted:!1}]};e.BoardsReducer.boardsFilterName&&(t.name=new RegExp(e.BoardsReducer.boardsFilterName,"i"));const[a]=(0,u.Ha2)(e.DBBoardsReducer,t,["_id","name","order","updatedAt"],{order:-1});return a._id})),A=((0,r.Mz)([e=>e,i.xu],(e,t)=>(0,u.jKk)(e.DBBoardUserReducer,{userId:t._id,workspaceId:t.currentWorkspace,status:"pending",deleted:!1})),(0,r.Mz)([e=>y(e),e=>(0,i.xu)(e)],(e,t)=>(null==e?void 0:e.owner)&&(null==e?void 0:e.owner)===(null==t?void 0:t._id)),(0,r.Mz)([e=>w(e),e=>(0,i.xu)(e)],(e,t)=>{const a=e.find(e=>e.userId===t._id);return"owner"===(null==a?void 0:a.role)||"member"===(null==a?void 0:a.role)}),(0,r.Mz)([e=>e,v],(e,t)=>(0,u.KY7)(e.DBViewFiltersReducer,{viewId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]})),(0,r.Mz)([e=>e,(e,t)=>t.boardId],(e,t)=>{const a=(0,i.xu)(e),n=(0,u.G5s)(e.DBBoardsReducer,{_id:t});return(null==n?void 0:n.owner)&&(null==n?void 0:n.owner)===(null==a?void 0:a._id)}),(0,r.Mz)([e=>e,e=>(0,i.xu)(e)],(e,t)=>{if(null==t||!t.currentWorkspace)return!1;const[a]=(0,u.WA)(e.DBWorkspaceUserReducer,{userId:t._id,workspaceId:null==t?void 0:t.currentWorkspace});return"owner"===(null==a?void 0:a.role)}),(0,r.Mz)(e=>e,e=>(0,i.NI)(e),e=>w(e),(e,t,a)=>{var n;const i=null!=a?a:[],r=null==t||null===(n=t.fullName)||void 0===n?void 0:n.split(" ");return[...i,{email:t.email,profile:{email:null==t?void 0:t.email,firstName:(null==r?void 0:r.length)>0?r[0]:"",lastName:(null==r?void 0:r.length)>1?r[1]:"",profileImg:null==t?void 0:t.profileImg},role:"member",status:"active",userId:t._id}].filter(e=>!!e.userId)}),(0,r.Mz)([e=>w(e),(e,t)=>t],(e,t)=>(null!=e?e:[]).reduce((e,a)=>e+((null==a?void 0:a.role)===t?1:0),0)),(0,r.Mz)([e=>e,e=>v(e),(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>n],(e,t,a,n,i)=>{let r=n-250,s=0;for(let e=0;e<(null==i||null===(o=i.current)||void 0===o?void 0:o.length);e++){var o;r-(null==i?void 0:i.current[e].offsetWidth)>0&&(r-=null==i?void 0:i.current[e].offsetWidth,s++)}const l=(0,u.dsM)(e.DBKanbanReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id","name"]),d=(0,u.GpN)(e.DBFormReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id","name"]),c=(0,u.wvC)(e.DBGanttReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id","name"]),p=(0,u.tZC)(e.DBWorkloadReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id","name"]),g=(0,u.bTq)(e.DBBoardViewReducer,{boardId:t,$or:[{deleted:{$exists:!1}},{deleted:!1}]},["_id","name"]),y=[{_id:t,name:"Board",type:"board"},...l.map(e=>m(m({},e),{},{type:"kanban"})),...d.map(e=>m(m({},e),{},{type:"form"})),...c.map(e=>m(m({},e),{},{type:"gantt"})),...p.map(e=>m(m({},e),{},{type:"workload"})),...g.map(e=>m(m({},e),{},{type:"boardView"}))];return-1===a?y:y.slice(0,s)})),T=((0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{var a;const n=null===(a=e.BoardsReducer)||void 0===a?void 0:a.selectedBoardId;return!!(0,u.Em_)(e.DBBoardUserReducer,{boardId:n,email:t.toLowerCase()})}),(0,r.Mz)([(e,t)=>e,(e,t)=>t,(e,t,a)=>a,(e,t,a,n)=>n],(e,t,a,n)=>{const i=A(e,-1,a,n);let r=a-250,s=0;for(let e=0;e<(null==n||null===(o=n.current)||void 0===o?void 0:o.length);e++){var o;r-(null==n?void 0:n.current[e].offsetWidth)>0&&(r-=null==n?void 0:n.current[e].offsetWidth,s++)}return""===t?i.slice(-(i.length-s)):i.slice(-(i.length-s)).filter(e=>{var a,n;return""===e.name?null===(a=e.type)||void 0===a?void 0:a.toLowerCase().includes(null==t?void 0:t.toLowerCase()):null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(null==t?void 0:t.toLowerCase())})}),(0,r.Mz)([e=>e,(e,t)=>t,(e,t,a)=>null!=a?a:h(e)],(e,t,a)=>{if(!Array.isArray(t)||!t)return[];return[...(0,u.jKk)(e.DBBoardUserReducer,{boardId:a,_id:{$in:(null!=t?t:[]).filter(e=>"user"===(null==e?void 0:e.type)).map(e=>null==e?void 0:e.id)}}).map(e=>m(m({},e),{},{type:"user"})),...(0,u.u7r)(e.DBTaskColumnOptionReducer,{boardId:a,_id:{$in:(null!=t?t:[]).filter(e=>"option"===(null==e?void 0:e.type)||"user"===(null==e?void 0:e.type)).map(e=>null==e?void 0:e.id)}}).map(e=>{var t;const[a,n]=null==e||null===(t=e.label)||void 0===t?void 0:t.split(" ");return{_id:null==e?void 0:e._id,status:"active",profile:{firstName:a,lastName:n,profileImg:null==e?void 0:e.imageUrl},type:"option"}})]}));(0,r.Mz)([e=>e],e=>!0),(0,r.Mz)([e=>e],e=>(0,u.oOE)(e.DBBoardsReducer,{})),(0,r.Mz)([e=>e],e=>(0,u.tt8)(e.DBBulkListReducer,{})),(0,s._)([e=>e],e=>{const t=y(e);return null!=t&&t.drawerWidth?t.drawerWidth:500}),(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{var a;let n=(0,u.V1I)(e.DBTaskgroupsReducer,{_id:t},"boardId");return!!n&&"audience"===(null===(a=(0,u.G5s)(e.DBBoardsReducer,{_id:n}))||void 0===a?void 0:a.type)}),(0,r.Mz)([e=>e,(e,t)=>t],(e,t)=>{var a;let n=(0,u.dgT)(e.DBTasksReducer,t,"boardId");return!!n&&"audience"===(null===(a=(0,u.G5s)(e.DBBoardsReducer,{_id:n}))||void 0===a?void 0:a.type)})},98704:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n=(0,a(30038).Z0)({name:"ShareDialog",initialState:{},reducers:{}}).reducer},98812:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(30038),i=a(83414);const r=(0,n.Z0)({name:"tools",initialState:{availableTools:[],isLoading:!1,error:null},reducers:{setAvailableTools:(e,t)=>{e.availableTools=t.payload}},extraReducers:e=>{e.addCase(i.Rz.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.Rz.fulfilled,(e,t)=>{e.isLoading=!1,e.availableTools=t.payload}).addCase(i.Rz.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to fetch tools"})}}),{setAvailableTools:s}=r.actions,o=r.reducer},99331:(e,t,a)=>{"use strict";a.d(t,{c:()=>l});var n=a(14513);function i(e,t,a){return e.filter(e=>e.parentTaskId===t&&e.groupId===a)}function r(e,t,a,i,r){var s,o;return{id:e._id,type:n.L.subTask,boardId:t,groupId:a._id,taskId:e._id,parentTaskId:e.parentTaskId,colorAccent:null!==(s=a.colorAccent)&&void 0!==s?s:"",order:null!==(o=e.order)&&void 0!==o?o:0,isFirstTaskInGroup:i,isLastTaskInGroup:r}}function s(e,t,a,i){var r;return{id:"subfooter_".concat(t._id),type:n.L.newTask,footer_type:n.L.subTask,parentTaskId:e,groupId:t._id,boardId:a,isLastTaskInSubTasksGroup:i,colorAccent:null!==(r=t.colorAccent)&&void 0!==r?r:""}}function o(e,t){let a=[];return a=e.filter(e=>e.groupId===t&&!e.parentTaskId),a}const l=(e,t,a,l,d,c)=>{let u,p,m=[];m.push({id:"",type:n.L.spacer});for(let k=0;k<t.length;k++){var g,y;u=t[k];const w=o(a,u._id);if(0===w.length&&l)continue;const x=u.isCollapsed||d;if(m.push({type:n.L.groupHeader,groupId:u._id,order:null!==(g=u.order)&&void 0!==g?g:0,isCollapsed:u.isCollapsed,boardId:e,tasksCount:null!==(y=null==w?void 0:w.length)&&void 0!==y?y:0,id:u._id}),x)m.push({id:"",type:n.L.spacer,groupId:u._id,groupIndex:99999999999,groupTaskListIndex:99999999994}),m.push({id:"",groupId:u._id,type:n.L.spacer,groupIndex:99999999999,groupTaskListIndex:99999999995});else{var h;for(let t=0;t<w.length;t++){var v,f;p=w[t];const o=c[null===(v=p)||void 0===v?void 0:v._id],l=0===t,d=t===w.length-1;if(m.push({id:p._id,boardId:e,groupId:u._id,taskId:p._id,type:n.L.task,colorAccent:u.colorAccent,order:null!==(f=p.order)&&void 0!==f?f:0,showSubTasks:o,isFirstTaskInGroup:l,isLastTaskInGroup:d,customData:p.customData}),o){var b;const t=i(a,p._id,u._id);for(let a=0;a<t.length;a++){const n=t[a],i=0===a,s=a===w.length-1;m.push(r(n,e,u,i,s))}m.push(s(null===(b=p)||void 0===b?void 0:b._id,u,e,d))}}m.push({id:"footer_".concat(u._id),footer_type:n.L.newTask,type:n.L.newTask,groupId:u._id,boardId:e,colorAccent:null!==(h=u.colorAccent)&&void 0!==h?h:""}),m.push({id:"",groupId:u._id,type:n.L.spacer}),m.push({id:"",groupId:u._id,type:n.L.spacer})}}return m.push({id:"",type:n.L.newGroup}),m}},99568:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>z,kM:()=>N});var n=a(64467),i=a(30038),r=a(55693),s=a(23649),o=a(7249);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){(0,n.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const c={name:"New Chatbot (unsaved)",viewport:{x:100,y:400,zoom:.8},botSettings:{blockSaveNewBotSettings:!1,isFallbackMessage:!0,fallbackMessageTrigger:1,fallbackMessage:"Use the number of the option you want to choose",isChatbotTimer:!0,chatbotTimerCountdown:30,chatbotTimerEndMessage:"Chatbot session will be closed soon",chatbotTimerMessageBeforeEnd:5,variables:{displayName:"displayName",phoneNumber:"phoneNumber",whatsappId:"whatsappId",isGroup:"isGroup",isChannel:"isChannel",firstMessage:"firstMessage",currentMessage:"currentMessage"}}},u={currentBot:void 0,isReadyToLoadFlow:!1,currentReactFlowPosition:{x:0,y:0},menuPosition:{x:0,y:0},startNode:null,isLocked:!1,isDraft:!1,isInitialLoad:!0,nodes:o.E,edges:o.H,slugBotId:void 0,isReadOnly:!1,nodeEventsAccordionState:{},currentSessionId:null,focusedNodeId:null,showEvents:!0,showChat:!0,loaderProgressMessage:null,isDragging:!1},p=(0,i.Z0)({name:"Chatbot",initialState:u,reducers:{setCurrentBot:(e,t)=>{var a;e.currentBot=null!==(a=t.payload)&&void 0!==a?a:c,e.isInitialLoad||e.isDraft||(e.isDraft=!0)},setIsReadyToLoadFlow:(e,t)=>{e.isReadyToLoadFlow=t.payload},setCurrentReactFlowPosition:(e,t)=>{e.currentReactFlowPosition=t.payload},setMenuPosition:(e,t)=>{e.menuPosition=t.payload},setStartNode:(e,t)=>{e.startNode=t.payload},setIsLocked:(e,t)=>{e.isLocked=t.payload},setIsDraft:(e,t)=>{t.payload||(e.currentBot=c),e.isDraft=t.payload},setIsInitialLoad:(e,t)=>{e.isInitialLoad=t.payload},resetFlowState:e=>{e.isInitialLoad=!0,e.currentBot=c,e.isDraft=!1},updateNodes:(e,t)=>{e.nodes=t.payload},updateEdges:(e,t)=>{e.edges=t.payload},onNodesChange:(e,t)=>{e.nodes=(0,s._0)(t.payload,e.nodes),e.isInitialLoad||e.isDraft||(e.isDraft=!0)},onEdgesChange:(e,t)=>{e.edges=(0,s.zW)(t.payload,e.edges),e.isInitialLoad||e.isDraft||(e.isDraft=!0)},onConnect:(e,t)=>{if(t.payload.target!==t.payload.source){const a=d(d({},t.payload),{},{id:(0,r.$7)(),type:"custom-edge"});e.edges=(0,s.rN)(a,e.edges),e.isInitialLoad||e.isDraft||(e.isDraft=!0)}},updateViewport:(e,t)=>{e.currentBot=d(d({},e.currentBot),{},{viewport:t.payload})},setSlugBotId:(e,t)=>{e.slugBotId=t.payload},setIsReadOnly:(e,t)=>{e.isReadOnly=t.payload},setNodeEventAccordion:(e,t)=>{const{eventId:a,isExpanded:n}=t.payload;e.nodeEventsAccordionState[a]=n},expandAllNodeEvents:(e,t)=>{const a={};t.payload.eventIds.forEach(e=>{a[e]=!0}),e.nodeEventsAccordionState=a},collapseAllNodeEvents:(e,t)=>{const a={};t.payload.eventIds.forEach(e=>{a[e]=!1}),e.nodeEventsAccordionState=a},setCurrentSessionId:(e,t)=>{e.currentSessionId=t.payload},setFocusedNodeId:(e,t)=>{e.focusedNodeId=t.payload},setShowEvents:(e,t)=>{e.showEvents=t.payload},setShowChat:(e,t)=>{e.showChat=t.payload},resetEventFilters:e=>{e.showEvents=!0,e.showChat=!0},setLoaderProgressMessage:(e,t)=>{e.loaderProgressMessage=t.payload},setIsDragging:(e,t)=>{e.isDragging=t.payload}}}),{setCurrentBot:m,setIsReadyToLoadFlow:g,setCurrentReactFlowPosition:y,setMenuPosition:h,setStartNode:v,setIsLocked:f,setIsDraft:b,setIsInitialLoad:k,resetFlowState:w,updateNodes:x,updateEdges:D,onNodesChange:I,onEdgesChange:A,onConnect:T,updateViewport:S,setSlugBotId:O,setIsReadOnly:C,setNodeEventAccordion:M,expandAllNodeEvents:B,collapseAllNodeEvents:_,setCurrentSessionId:P,setFocusedNodeId:R,setShowEvents:E,setShowChat:j,resetEventFilters:L,setLoaderProgressMessage:N,setIsDragging:F}=p.actions,z=p.reducer}}]);